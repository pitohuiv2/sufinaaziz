(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{SiL9:function(e,t,i){"use strict";i.r(t),i.d(t,"DaftarTriasePasienModule",function(){return y});var a=i("ofXK"),n=i("tyNb"),r=i("7zfz"),s=i("wd/R"),l=i("fXoL"),o=i("EJUL"),c=i("U+s4"),d=i("G0w9"),h=i("ujBT"),b=i("eO1q"),m=i("3Pt+"),p=i("7kUa"),g=i("jIHw"),u=i("xlun"),f=i("rEr+");function P(e,t){if(1&e&&(l.Qb(0,"th",19),l.Jc(1),l.Lb(2,"p-sortIcon",20),l.Pb()),2&e){const e=t.$implicit;l.Fc("width: ",e.width,""),l.jc("pSortableColumn",e.field),l.xb(1),l.Lc(" ",e.header," "),l.xb(1),l.jc("field",e.field)}}function w(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",17),l.Jc(2,"Aksi"),l.Pb(),l.Hc(3,P,3,6,"th",18),l.Pb()),2&e){const e=t.$implicit;l.xb(3),l.ic("ngForOf",e)}}function v(e,t){if(1&e&&(l.Qb(0,"td"),l.Jc(1),l.Pb()),2&e){const e=t.$implicit,i=l.bc().$implicit;l.Fc("width: ",e.width,""),l.xb(1),l.Lc(" ",i[e.field]," ")}}function k(e,t){if(1&e){const e=l.Sb();l.Qb(0,"tr",21),l.Qb(1,"td",17),l.Qb(2,"button",22),l.Yb("click",function(){l.yc(e);const i=t.$implicit;return l.bc().RegistrasiPasien2(i)}),l.Pb(),l.Pb(),l.Hc(3,v,2,4,"td",23),l.Pb()}if(2&e){const e=t.columns,i=t.rowIndex;l.ic("pSelectableRow",t.$implicit)("pSelectableRowIndex",i),l.xb(3),l.ic("ngForOf",e)}}const M=function(){return[5,10,25,50]},Q=[{path:"",component:(()=>{class e{constructor(e,t,i,a,n,r,s,l,o){this.apiService=e,this.authService=t,this.confirmationService=i,this.messageService=a,this.cacheHelper=n,this.dateHelper=r,this.alertService=s,this.route=l,this.router=o,this.item={}}ngOnInit(){this.dataLogin=this.authService.getDataLoginUser(),this.kelUser=this.dataLogin.kelompokUser.kelompokUser,this.dateNow=new Date,this.item.tglAwal=s(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=s(this.dateNow).format("YYYY-MM-DD 23:59"),this.column=[{field:"no",header:"No",width:"65px"},{field:"nocm",header:"No RM",width:"120px"},{field:"namapasien",header:"Nama Pasien",width:"250px"},{field:"jeniskelamin",header:"Jenis Kelamin",width:"140px"},{field:"tgllahir",header:"Tgl Lahir",width:"140px"},{field:"alamatlengkap",header:"Alamat",width:"200px"},{field:"notelepon",header:"Telepon",width:"120px"},{field:"noemr",header:"No EMR",width:"140px"},{field:"tglemr",header:"Tgl EMR",width:"140px"},{field:"noregistrasi",header:"Noregistrasi",width:"120px"}],this.loadData()}loadData(){var e=s(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),t=s(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),i="";null!=this.item.noRM&&(i="&norm="+this.item.noRM);var a="";null!=this.item.NamaPasien&&(a="&namaPasien="+this.item.NamaPasien);var n="";null!=this.item.idPasienTriase&&(n="&idPasienTriase="+this.item.idPasienTriase);var r="";null!=this.item.tglLahir&&(r="&tglLahir="+new Date(this.item.tglLahir)),this.apiService.get("emr/get-data-riwayat-emr?tglAwal="+e+"&tglAkhir="+t+r+i+a+n+"&jenisEMR=igd").subscribe(e=>{var t=e.data;for(let r=0;r<t.length;r++){const e=t[r];e.no=r+1;var i=new Date,a=s(new Date(e.tgllahir)).format("YYYY-MM-DD"),n=this.dateHelper.CountAge(new Date(a),new Date(i));e.umur=n.year+" thn "+n.month+" bln "+n.day+" hari"}this.dataTable=t})}cari(){this.loadData()}onRowSelect(e){null!=e.data&&(this.selected=e.data)}RegistrasiPasien2(e){if(null==e.noregistrasi){if("pasienlama"==e.status)this.cacheHelper.set("CacheRegistrasiPasien",void 0),this.router.navigate(["registrasi-ruangan",e.idpasien]);else if(this.selected=e,null!=this.selected){var t={nocm:this.selected.nocm,namaPasien:this.selected.namapasien,jkid:this.selected.jeniskelaminidfk,jk:this.selected.jeniskelamin,alamatlengkap:this.selected.alamatlengkap,tempatlahir:this.selected.tempatlahir,tgllahir:s(this.selected.tgllahir).format("YYYY-MM-DD HH:mm"),notelepon:this.selected.notelepon,noemr:this.selected.noemr};this.cacheHelper.set("CacheRegisTriage",t),this.router.navigate(["pasien-baru","-","-","-"])}}else this.alertService.warn("Info,","Pasien Sudah Terdaftar, Tidak Bisa Didaftarkan, Peringatan !")}RegistrasiPasien(){if(null!=this.selected)if(null==this.selected.noregistrasi){if("pasienlama"==this.selected.status)this.cacheHelper.set("CacheRegistrasiPasien",void 0),this.router.navigate(["registrasi-ruangan",this.selected.idpasien]);else if(null!=this.selected){var e={nocm:this.selected.nocm,namaPasien:this.selected.namapasien,jkid:this.selected.jeniskelaminidfk,jk:this.selected.jeniskelamin,alamatlengkap:this.selected.alamatlengkap,tempatlahir:this.selected.tempatlahir,tgllahir:s(this.selected.tgllahir).format("YYYY-MM-DD HH:mm"),notelepon:this.selected.notelepon,noemr:this.selected.noemr};this.cacheHelper.set("CacheRegisTriage",e),this.router.navigate(["pasien-baru","-","-","-"])}}else this.alertService.warn("Info,","Pasien Sudah Terdaftar, Tidak Bisa Didaftarkan, Peringatan !");else this.alertService.warn("Info,","Data Belum Dipilih!")}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(o.a),l.Jb(o.b),l.Jb(r.a),l.Jb(r.h),l.Jb(c.a),l.Jb(d.a),l.Jb(h.a),l.Jb(n.a),l.Jb(n.f))},e.\u0275cmp=l.Db({type:e,selectors:[["app-daftar-triase-pasien"]],features:[l.wb([r.a])],decls:40,vars:28,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-11"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["type","text","pInputText","","placeholder","No Rekam Medis",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1",2,"margin-top","22px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],["pButton","","type","button","icon","fa fa-arrow-right","pTooltip","Registrasi","label","",1,"p-button-rounded","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"h4"),l.Jc(3,"Triase IGD"),l.Pb(),l.Qb(4,"div",2),l.Qb(5,"div",3),l.Qb(6,"div",4),l.Qb(7,"div",3),l.Qb(8,"div",5),l.Qb(9,"label",6),l.Jc(10,"Periode Awal"),l.Pb(),l.Qb(11,"p-calendar",7),l.Yb("ngModelChange",function(e){return t.item.tglAwal=e}),l.Pb(),l.Pb(),l.Qb(12,"div",5),l.Qb(13,"label",6),l.Jc(14,"Periode Akhir"),l.Pb(),l.Qb(15,"p-calendar",7),l.Yb("ngModelChange",function(e){return t.item.tglAkhir=e}),l.Pb(),l.Pb(),l.Qb(16,"div",5),l.Qb(17,"label",6),l.Jc(18,"No Rekam Medis "),l.Pb(),l.Qb(19,"input",8),l.Yb("ngModelChange",function(e){return t.item.noRM=e})("keyup.enter",function(){return t.cari()}),l.Pb(),l.Pb(),l.Qb(20,"div",5),l.Qb(21,"label",6),l.Jc(22,"Id Pasien Triase "),l.Pb(),l.Qb(23,"input",8),l.Yb("ngModelChange",function(e){return t.item.idPasienTriase=e})("keyup.enter",function(){return t.cari()}),l.Pb(),l.Pb(),l.Qb(24,"div",5),l.Qb(25,"label",6),l.Jc(26,"Nama Pasien"),l.Pb(),l.Qb(27,"input",9),l.Yb("ngModelChange",function(e){return t.item.NamaPasien=e})("keyup.enter",function(){return t.cari()}),l.Pb(),l.Pb(),l.Qb(28,"div",5),l.Qb(29,"label",6),l.Jc(30,"Tgl Lahir"),l.Pb(),l.Qb(31,"p-calendar",7),l.Yb("ngModelChange",function(e){return t.item.tglLahir=e}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(32,"div",10),l.Qb(33,"div",3),l.Qb(34,"button",11),l.Yb("click",function(){return t.cari()}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(35,"div",12),l.Qb(36,"p-table",13,14),l.Yb("selectionChange",function(e){return t.selected=e}),l.Hc(38,w,4,1,"ng-template",15),l.Hc(39,k,4,3,"ng-template",16),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.xb(11),l.ic("ngModel",t.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),l.xb(4),l.ic("ngModel",t.item.tglAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),l.xb(4),l.ic("ngModel",t.item.noRM),l.xb(4),l.ic("ngModel",t.item.idPasienTriase),l.xb(4),l.ic("ngModel",t.item.NamaPasien),l.xb(4),l.ic("ngModel",t.item.tglLahir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),l.xb(5),l.ic("columns",t.column)("value",t.dataTable)("selection",t.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",l.mc(27,M))("paginator",!0)("pageLinks",5))},directives:[b.a,m.g,m.h,m.a,p.a,g.b,u.a,f.h,r.k,a.k,f.g,f.f,f.e],styles:[""]}),e})()}];let Y=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[n.j.forChild(Q)],n.j]}),e})();var x=i("PCNd");let y=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[a.b,Y,x.a]]}),e})()}}]);