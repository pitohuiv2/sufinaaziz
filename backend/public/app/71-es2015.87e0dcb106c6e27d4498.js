(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{bplo:function(a,e,t){"use strict";t.r(e),t.d(e,"PembayaranTagihanLayananModule",function(){return N});var i=t("ofXK"),n=t("tyNb"),l=t("7zfz"),o=t("1zoS"),r=t("wd/R"),b=t("fXoL"),s=t("EJUL"),c=t("U+s4"),p=t("G0w9"),d=t("ujBT"),h=t("7CaW"),u=t("3Pt+"),g=t("7kUa"),m=t("rEr+"),f=t("Nf9I"),P=t("jIHw"),y=t("xlun");function x(a,e){if(1&a){const a=b.Sb();b.Qb(0,"div",6),b.Qb(1,"label",7),b.Jc(2,"No Registrasi "),b.Pb(),b.Qb(3,"input",9),b.Yb("ngModelChange",function(e){return b.yc(a),b.bc().item.pasien.noregistrasi=e}),b.Pb(),b.Pb()}if(2&a){const a=b.bc();b.xb(3),b.ic("ngModel",a.item.pasien.noregistrasi)}}function Q(a,e){if(1&a){const a=b.Sb();b.Qb(0,"div",6),b.Qb(1,"label",7),b.Jc(2,"No Rekam Medis "),b.Pb(),b.Qb(3,"input",26),b.Yb("ngModelChange",function(e){return b.yc(a),b.bc().item.pasien.nocm=e}),b.Pb(),b.Pb()}if(2&a){const a=b.bc();b.xb(3),b.ic("ngModel",a.item.pasien.nocm)}}function v(a,e){if(1&a){const a=b.Sb();b.Qb(0,"div",6),b.Qb(1,"label",7),b.Jc(2,"Tgl Lahir "),b.Pb(),b.Qb(3,"input",27),b.Yb("ngModelChange",function(e){return b.yc(a),b.bc().item.pasien.tgllahir=e}),b.Pb(),b.Pb()}if(2&a){const a=b.bc();b.xb(3),b.ic("ngModel",a.item.pasien.tgllahir)}}function M(a,e){if(1&a){const a=b.Sb();b.Qb(0,"div",6),b.Qb(1,"label",7),b.Jc(2,"Umur "),b.Pb(),b.Qb(3,"input",9),b.Yb("ngModelChange",function(e){return b.yc(a),b.bc().item.pasien.umur=e}),b.Pb(),b.Pb()}if(2&a){const a=b.bc();b.xb(3),b.ic("ngModel",a.item.pasien.umur)}}function w(a,e){if(1&a){const a=b.Sb();b.Qb(0,"div",6),b.Qb(1,"label",7),b.Jc(2,"Alamat "),b.Pb(),b.Qb(3,"input",28),b.Yb("ngModelChange",function(e){return b.yc(a),b.bc().item.pasien.alamatlengkap=e}),b.Pb(),b.Pb()}if(2&a){const a=b.bc();b.xb(3),b.ic("ngModel",a.item.pasien.alamatlengkap)}}function C(a,e){if(1&a){const a=b.Sb();b.Qb(0,"div",6),b.Qb(1,"label",7),b.Jc(2,"Kelas "),b.Pb(),b.Qb(3,"input",9),b.Yb("ngModelChange",function(e){return b.yc(a),b.bc().item.pasien.namakelas=e}),b.Pb(),b.Pb()}if(2&a){const a=b.bc();b.xb(3),b.ic("ngModel",a.item.pasien.namakelas)}}function J(a,e){if(1&a){const a=b.Sb();b.Qb(0,"div",6),b.Qb(1,"label",7),b.Jc(2,"Ruangan "),b.Pb(),b.Qb(3,"input",9),b.Yb("ngModelChange",function(e){return b.yc(a),b.bc().item.pasien.namaruangan=e}),b.Pb(),b.Pb()}if(2&a){const a=b.bc();b.xb(3),b.ic("ngModel",a.item.pasien.namaruangan)}}function T(a,e){if(1&a&&(b.Qb(0,"th",30),b.Jc(1),b.Lb(2,"p-sortIcon",31),b.Pb()),2&a){const a=e.$implicit;b.Fc("width: ",a.width,""),b.jc("pSortableColumn",a.field),b.xb(1),b.Lc(" ",a.header," "),b.xb(1),b.jc("field",a.field)}}function j(a,e){if(1&a&&(b.Qb(0,"tr"),b.Hc(1,T,3,6,"th",29),b.Pb()),2&a){const a=e.$implicit;b.xb(1),b.ic("ngForOf",a)}}function k(a,e){if(1&a&&(b.Qb(0,"span"),b.Jc(1),b.Pb()),2&a){const a=b.bc().$implicit,e=b.bc().$implicit,t=b.bc();b.xb(1),b.Lc(" ",t.formatRupiah(e[a.field],"")," ")}}function S(a,e){if(1&a&&(b.Qb(0,"span"),b.Jc(1),b.Pb()),2&a){const a=b.bc().$implicit,e=b.bc().$implicit;b.xb(1),b.Lc(" ",e[a.field],"")}}function D(a,e){if(1&a&&(b.Qb(0,"td"),b.Hc(1,k,2,1,"span",34),b.Hc(2,S,2,1,"span",34),b.Pb()),2&a){const a=e.$implicit;b.Fc("width: ",a.width,""),b.xb(1),b.ic("ngIf",null!=a.isCurrency),b.xb(1),b.ic("ngIf",null==a.isCurrency)}}function I(a,e){if(1&a&&(b.Qb(0,"tr",32),b.Hc(1,D,3,5,"td",33),b.Pb()),2&a){const a=e.columns,t=e.rowIndex;b.ic("pSelectableRow",e.$implicit)("pSelectableRowIndex",t),b.xb(1),b.ic("ngForOf",a)}}const R=function(){return[5,10,25,50]},L=function(){return{width:"50vw"}},H=[{path:"",component:(()=>{class a{constructor(a,e,t,i,n,l,r,b,s){this.apiService=a,this.authService=e,this.confirmationService=t,this.messageService=i,this.cacheHelper=n,this.dateHelper=l,this.alertService=r,this.route=b,this.router=s,this.params={},this.item={pasien:{}},this.isClosing=!1,this.page=o.b.get().page,this.rows=o.b.get().rows}ngOnInit(){this.route.params.subscribe(a=>{this.currentNorecSP=a.norec_sp,this.currentJenisLayanan=a.jenislayanan,this.jenisPelayan=a.jenislayanan,this.norec_sp=this.currentNorecSP,this.loadHead()})}loadHead(){null!=this.currentNorecSP&&null!=this.currentJenisLayanan?"layanan"==this.currentJenisLayanan?(this.column=[{field:"no",header:"No",width:"65px"},{field:"namaLayanan",header:"Layanan",width:"250px"},{field:"jumlah",header:"Jumlah",width:"100px"},{field:"harga",header:"Harga",width:"180px",isCurrency:!0},{field:"diskon",header:"Diskon",width:"180px",isCurrency:!0},{field:"total",header:"Total",width:"120px",isCurrency:!0}],this.apiService.get("general/get-pasien-bystrukpelayan-general?norec_sp="+this.currentNorecSP).subscribe(a=>{a.tgllahir=r(new Date(a.tgllahir)).format("YYYY-MM-DD"),a.umur=this.dateHelper.getUmur(new Date(a.tgllahir),new Date),this.item.pasien=a,this.item.pasien.jenispelayanan=this.currentJenisLayanan.toUpperCase(),this.loadDataDetail()})):(this.column=[{field:"no",header:"No",width:"65px"},{field:"namaLayanan",header:"Layanan",width:"250px"},{field:"keterangan",header:"Keterangan",width:"250px"},{field:"jumlah",header:"Jumlah",width:"100px"},{field:"qtyoranglast",header:"Jumlah Per Org/ Per Km",width:"200px"},{field:"harga",header:"Harga",width:"140px",isCurrency:!0},{field:"jasa",header:"Jasa",width:"140px",isCurrency:!0},{field:"total",header:"Total",width:"120px",isCurrency:!0}],this.apiService.get("general/get-pasien-nonlayanan-general?norec_sp="+this.currentNorecSP).subscribe(a=>{a.tgllahir=r(new Date(a.tgllahir)).format("YYYY-MM-DD"),a.umur=this.dateHelper.getUmur(new Date(a.tgllahir),new Date),this.item.pasien=a,this.item.pasien.jenispelayanan=this.currentJenisLayanan.toUpperCase(),this.loadDataDetail()})):this.alertService.error("Info","Data Tidak Ditemukan!")}formatRupiah(a,e){return e+" "+parseFloat(a).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}loadDataDetail(){"layanan"==this.currentJenisLayanan?this.apiService.get("kasir/detail-tagihan-pasien-layanan?norec_sp="+this.norec_sp).subscribe(a=>{var e,t=a.detailTagihan,i=0,n=0;this.item.deposit=this.formatRupiah(a.totalDeposit,"Rp."),this.totalDeposit=parseFloat(a.totalDeposit);for(let l=0;l<t.length;l++){const a=t[l];a.no=l+1,n+=a.total}null!=a.totalPenjamin&&(i=parseFloat(a.totalPenjamin)),e=n-this.totalDeposit-i,this.item.billing=this.formatRupiah(n,"Rp."),this.item.jumlahBayar=this.formatRupiah(e,"Rp."),this.item.totalKlaim=this.formatRupiah(i,"Rp."),this.totalBilling=n,this.totalBayar=e,this.totalKlaim=i,this.dataTable=t}):this.apiService.get("kasir/detail-tagihan-non-layanan?norec_sp="+this.norec_sp).subscribe(a=>{var e,t=a.detailTagihan,i=0;for(let n=0;n<t.length;n++){const a=t[n];a.no=n+1,i+=a.total}e=i,this.item.billing=this.formatRupiah(i,"Rp."),this.item.jumlahBayar=this.formatRupiah(e,"Rp."),this.item.totalKlaim=this.formatRupiah(0,"Rp."),this.totalBilling=i,this.totalBayar=e,this.totalKlaim=0,this.item.deposit=this.formatRupiah(0,"Rp."),this.totalDeposit=parseFloat(0),this.dataTable=t})}Batal(){this.router.navigate(["daftar-pasien-pulang"])}bayarTagihan(){null!=this.norec_sp?this.router.navigate("layanan"==this.currentJenisLayanan?["bayar-tagihan-pasien",this.norec_sp,"tagihanPasien",this.totalBayar]:["bayar-tagihan-pasien",this.norec_sp,"pembayaranNonLayanan",this.totalBayar]):this.alertService.warn("Info","Data Tidak Ditemukan!")}changeKlaim(a){}}return a.\u0275fac=function(e){return new(e||a)(b.Jb(s.a),b.Jb(s.b),b.Jb(l.a),b.Jb(l.h),b.Jb(c.a),b.Jb(p.a),b.Jb(d.a),b.Jb(n.a),b.Jb(n.f))},a.\u0275cmp=b.Db({type:a,selectors:[["app-pembayaran-tagihan-layanan"]],features:[b.wb([l.a])],decls:69,vars:31,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-3"],["header","Data Pasien",3,"toggleable"],["class","p-col-12 p-md-12",4,"ngIf"],[1,"p-col-12","p-md-12"],["for","input",1,"label"],["type","text","pInputText","","placeholder","Nama Pasien","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-9"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"p-col-12","p-md-6"],["header","Tagihan",3,"toggleable"],["type","text","pInputText","","placeholder","Total Tagihan Verifikasi","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Total Deposit","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Total Klaim","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Total Bayar","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-8"],[1,"p-col-12","p-md-2",2,"margin-top","15px"],["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],["pButton","","type","submit","icon","fa fa-money","pTooltip","Bayar","label","Bayar",3,"click"],["pButton","","type","submit","icon","fa fa-ban","pTooltip","Batal","label","Batal",2,"background-color","red",3,"click"],["type","text","pInputText","","placeholder","No Rekam Medis","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Tgl Lahir","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Alamat","disabled","",3,"ngModel","ngModelChange"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(a,e){1&a&&(b.Qb(0,"div",0),b.Qb(1,"div",1),b.Qb(2,"h4"),b.Jc(3,"Pembayaran Tagihan Layanan"),b.Pb(),b.Qb(4,"div",2),b.Qb(5,"div",3),b.Qb(6,"p-panel",4),b.Qb(7,"div",2),b.Hc(8,x,4,1,"div",5),b.Hc(9,Q,4,1,"div",5),b.Qb(10,"div",6),b.Qb(11,"label",7),b.Jc(12,"Nama Pasien "),b.Pb(),b.Qb(13,"input",8),b.Yb("ngModelChange",function(a){return e.item.pasien.namapasien=a}),b.Pb(),b.Pb(),b.Qb(14,"div",6),b.Qb(15,"label",7),b.Jc(16,"Tgl Registrasi "),b.Pb(),b.Qb(17,"input",9),b.Yb("ngModelChange",function(a){return e.item.pasien.tglregistrasi=a}),b.Pb(),b.Pb(),b.Hc(18,v,4,1,"div",5),b.Hc(19,M,4,1,"div",5),b.Hc(20,w,4,1,"div",5),b.Hc(21,C,4,1,"div",5),b.Hc(22,J,4,1,"div",5),b.Qb(23,"div",6),b.Qb(24,"label",7),b.Jc(25,"Jenis Pelayanan "),b.Pb(),b.Qb(26,"input",9),b.Yb("ngModelChange",function(a){return e.item.pasien.jenispelayanan=a}),b.Pb(),b.Pb(),b.Qb(27,"div",6),b.Qb(28,"label",7),b.Jc(29,"Nomor Tagihan"),b.Pb(),b.Qb(30,"input",9),b.Yb("ngModelChange",function(a){return e.item.pasien.nostruk=a}),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(31,"div",10),b.Qb(32,"div",2),b.Qb(33,"div",6),b.Qb(34,"p-table",11,12),b.Yb("selectionChange",function(a){return e.selected=a}),b.Hc(36,j,2,1,"ng-template",13),b.Hc(37,I,2,3,"ng-template",14),b.Pb(),b.Pb(),b.Qb(38,"div",6),b.Qb(39,"div",2),b.Lb(40,"div",15),b.Qb(41,"div",15),b.Qb(42,"p-panel",16),b.Qb(43,"div",6),b.Qb(44,"div",2),b.Qb(45,"div",15),b.Qb(46,"label",7),b.Jc(47,"Total Tagihan Verifikasi"),b.Pb(),b.Qb(48,"input",17),b.Yb("ngModelChange",function(a){return e.item.billing=a}),b.Pb(),b.Pb(),b.Qb(49,"div",15),b.Qb(50,"label",7),b.Jc(51,"Total Deposit"),b.Pb(),b.Qb(52,"input",18),b.Yb("ngModelChange",function(a){return e.item.deposit=a}),b.Pb(),b.Pb(),b.Qb(53,"div",15),b.Qb(54,"label",7),b.Jc(55,"Total Klaim"),b.Pb(),b.Qb(56,"input",19),b.Yb("ngModelChange",function(a){return e.item.totalKlaim=a})("ngModelChange",function(){return e.changeKlaim(e.item.totalKlaim)}),b.Pb(),b.Pb(),b.Qb(57,"div",15),b.Qb(58,"label",7),b.Jc(59,"Total Bayar"),b.Pb(),b.Qb(60,"input",20),b.Yb("ngModelChange",function(a){return e.item.jumlahBayar=a}),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(61,"div",6),b.Qb(62,"div",2),b.Lb(63,"div",21),b.Qb(64,"div",22),b.Lb(65,"p-confirmDialog",23),b.Qb(66,"button",24),b.Yb("click",function(){return e.bayarTagihan()}),b.Pb(),b.Pb(),b.Qb(67,"div",22),b.Qb(68,"button",25),b.Yb("click",function(){return e.Batal()}),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb()),2&a&&(b.xb(6),b.ic("toggleable",!0),b.xb(2),b.ic("ngIf","layanan"==e.jenisPelayan),b.xb(1),b.ic("ngIf","layanan"==e.jenisPelayan),b.xb(4),b.ic("ngModel",e.item.pasien.namapasien),b.xb(4),b.ic("ngModel",e.item.pasien.tglregistrasi),b.xb(1),b.ic("ngIf","layanan"==e.jenisPelayan),b.xb(1),b.ic("ngIf","layanan"==e.jenisPelayan),b.xb(1),b.ic("ngIf","layanan"==e.jenisPelayan),b.xb(1),b.ic("ngIf","layanan"==e.jenisPelayan),b.xb(1),b.ic("ngIf","layanan"==e.jenisPelayan),b.xb(4),b.ic("ngModel",e.item.pasien.jenispelayanan),b.xb(4),b.ic("ngModel",e.item.pasien.nostruk),b.xb(4),b.ic("columns",e.column)("value",e.dataTable)("selection",e.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",b.mc(29,R))("paginator",!0)("pageLinks",5),b.xb(8),b.ic("toggleable",!0),b.xb(6),b.ic("ngModel",e.item.billing),b.xb(4),b.ic("ngModel",e.item.deposit),b.xb(4),b.ic("ngModel",e.item.totalKlaim),b.xb(4),b.ic("ngModel",e.item.jumlahBayar),b.xb(5),b.Ec(b.mc(30,L)),b.ic("baseZIndex",1e4))},directives:[h.a,i.l,u.a,g.a,u.g,u.h,m.h,l.k,f.a,P.b,y.a,i.k,m.g,m.f,m.e],styles:[""]}),a})()}];let Y=(()=>{class a{}return a.\u0275mod=b.Hb({type:a}),a.\u0275inj=b.Gb({factory:function(e){return new(e||a)},imports:[[n.j.forChild(H)],n.j]}),a})();var B=t("PCNd");let N=(()=>{class a{}return a.\u0275mod=b.Hb({type:a}),a.\u0275inj=b.Gb({factory:function(e){return new(e||a)},imports:[[i.b,Y,B.a]]}),a})()}}]);