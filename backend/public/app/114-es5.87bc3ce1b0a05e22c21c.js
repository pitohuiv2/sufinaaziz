!function(){function t(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function a(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{"61km":function(e,n,i){"use strict";i.r(n),i.d(n,"LaporanKunjunganModule",function(){return K});var b=i("ofXK"),o=i("PCNd"),l=i("tyNb"),r=i("7zfz"),c=i("1zoS"),p=i("wd/R"),s=i("fXoL"),u=i("EJUL"),d=i("U+s4"),h=i("G0w9"),m=i("ujBT"),g=i("eO1q"),P=i("3Pt+"),f=i("arFO"),Q=i("jIHw"),J=i("xlun"),v=i("rEr+"),k=i("Q4Mo");function w(t,a){if(1&t){var e=s.Sb();s.Qb(0,"div",18),s.Qb(1,"button",19),s.Yb("click",function(){return s.yc(e),s.bc().exportExcel()}),s.Pb(),s.Pb()}}function D(t,a){1&t&&(s.Qb(0,"tr"),s.Qb(1,"th",20),s.Jc(2,"No"),s.Pb(),s.Qb(3,"th",20),s.Jc(4,"Kode Penyakit"),s.Pb(),s.Qb(5,"th",20),s.Jc(6,"Nama Penyakit"),s.Pb(),s.Qb(7,"th",21),s.Jc(8,"Status Pasien"),s.Pb(),s.Qb(9,"th",21),s.Jc(10,"Cara Bayar"),s.Pb(),s.Qb(11,"th",22),s.Jc(12,"Klasifikasi Berdasarkan Usia"),s.Pb(),s.Qb(13,"th",21),s.Jc(14,"Jenis Kelamin"),s.Pb(),s.Qb(15,"th",23),s.Jc(16,"Cara Keluar"),s.Pb(),s.Qb(17,"th",20),s.Jc(18,"Jumlah"),s.Pb(),s.Pb(),s.Qb(19,"tr"),s.Qb(20,"th",24),s.Jc(21,"B"),s.Pb(),s.Qb(22,"th",24),s.Jc(23,"L"),s.Pb(),s.Qb(24,"th",24),s.Jc(25,"Umum"),s.Pb(),s.Qb(26,"th",24),s.Jc(27,"BPJS"),s.Pb(),s.Qb(28,"th",24),s.Jc(29,"0-1 Th"),s.Pb(),s.Qb(30,"th",24),s.Jc(31,"2 Th - 10 Th"),s.Pb(),s.Qb(32,"th",24),s.Jc(33,"11 th- 17 th"),s.Pb(),s.Qb(34,"th",24),s.Jc(35,"18 Th-60 Th"),s.Pb(),s.Qb(36,"th",24),s.Jc(37,"> 60 Th"),s.Pb(),s.Qb(38,"th",24),s.Jc(39,"L"),s.Pb(),s.Qb(40,"th",24),s.Jc(41,"P"),s.Pb(),s.Qb(42,"th",24),s.Jc(43,"RJK"),s.Pb(),s.Qb(44,"th",24),s.Jc(45,"RAWAT"),s.Pb(),s.Qb(46,"th",24),s.Jc(47,"PULANG"),s.Pb(),s.Pb())}function Y(t,a){if(1&t&&(s.Qb(0,"tr"),s.Qb(1,"td",24),s.Jc(2),s.Pb(),s.Qb(3,"td",24),s.Jc(4),s.Pb(),s.Qb(5,"td",24),s.Jc(6),s.Pb(),s.Qb(7,"td",24),s.Jc(8),s.Pb(),s.Qb(9,"td",24),s.Jc(10),s.Pb(),s.Qb(11,"td",24),s.Jc(12),s.Pb(),s.Qb(13,"td",24),s.Jc(14),s.Pb(),s.Qb(15,"td",24),s.Jc(16),s.Pb(),s.Qb(17,"td",24),s.Jc(18),s.Pb(),s.Qb(19,"td",24),s.Jc(20),s.Pb(),s.Qb(21,"td",24),s.Jc(22),s.Pb(),s.Qb(23,"td",24),s.Jc(24),s.Pb(),s.Qb(25,"td",24),s.Jc(26),s.Pb(),s.Qb(27,"td",24),s.Jc(28),s.Pb(),s.Qb(29,"td",24),s.Jc(30),s.Pb(),s.Qb(31,"td",24),s.Jc(32),s.Pb(),s.Pb()),2&t){var e=a.$implicit;s.xb(2),s.Kc(e.no),s.xb(2),s.Kc(e.kddiagnosa),s.xb(2),s.Kc(e.namadiagnosa),s.xb(2),s.Kc(e.baru),s.xb(2),s.Kc(e.lama),s.xb(2),s.Kc(e.umum),s.xb(2),s.Kc(e.bpjs),s.xb(2),s.Kc(e.nolsatu),s.xb(2),s.Kc(e.duasepuluh),s.xb(2),s.Kc(e.tujuhbelas),s.xb(2),s.Kc(e.delapanbelas),s.xb(2),s.Kc(e.enampuluh),s.xb(2),s.Kc(e.rujuk),s.xb(2),s.Kc(e.dirawat),s.xb(2),s.Kc(e.pulang),s.xb(2),s.Kc(e.jmldg)}}var M,x,y,T=[{path:"",component:(M=function(){function e(a,n,i,b,o,l,r,c,p){t(this,e),this.apiService=a,this.authService=n,this.confirmationService=i,this.messageService=b,this.cacheHelper=o,this.dateHelper=l,this.alertService=r,this.route=c,this.router=p,this.dataTable=[],this.item={}}var n,i,b;return n=e,(i=[{key:"ngOnInit",value:function(){this.dateNow=new Date,this.item.bulan=new Date,this.item.tglAwal=p(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=p(this.dateNow).format("YYYY-MM-DD 23:59"),this.getDataCombo()}},{key:"getDataCombo",value:function(){var t=this;this.apiService.get("laporan/get-data-combo").subscribe(function(a){var e=a;t.listDepartemen=e.departemenrajal,t.listTipePasien=e.kelompokpasien,t.item.dataDepartemen=t.listDepartemen[0],t.isiRuangan(),t.LoadCache()})}},{key:"isiRuangan",value:function(){null!=this.item.dataDepartemen&&(this.listRuangan=this.item.dataDepartemen.ruangan)}},{key:"LoadCache",value:function(){var t=this.cacheHelper.get("kunjunganCache");null!=t?(this.item.tglAwal=new Date(t[0]),this.item.tglAkhir=new Date(t[1]),this.getData()):this.getData()}},{key:"getData",value:function(){var t=this,a=p(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),e=p(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),n=p(this.item.bulan).format("MM-YYYY"),i="";null!=this.item.dataDepartemen&&(i="&idDept="+this.item.dataDepartemen.id);var b="";null!=this.item.dataTipePasien&&(b="&idTipePasien="+this.item.dataTipePasien.id);var o="";null!=this.item.dataRuangan&&(o="&idRuangan="+this.item.dataRuangan.id),this.cacheHelper.set("kunjunganCache",{0:a,1:e}),this.apiService.get("laporan/get-data-lap-kunjungan?&bulan="+n+"&tglAwal="+a+"&tglAkhir="+e+i+o+b).subscribe(function(a){for(var e=a,n=0;n<e.length;n++)e[n].no=n+1;t.dataTable=e})}},{key:"cari",value:function(){this.getData()}},{key:"exportExcel",value:function(){var t=this.authService.dataLoginUser.profile.id,a=this.authService.dataLoginUser.pegawai.namaLengkap,e=p(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),n=p(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),i=p(this.item.bulan).format("MM-YYYY"),b="";null!=this.item.dataDepartemen&&(b="&idDept="+this.item.dataDepartemen.id);var o="";null!=this.item.dataRuangan&&(o="&idRuangan="+this.item.dataRuangan.id);var l="";null!=this.item.dataTipePasien&&(l="&idTipePasien="+this.item.dataTipePasien.id),o="",null!=this.item.dataRuangan&&(o="&idRuangan="+this.item.dataRuangan.id),window.open(c.b.get().apiBackend+"print/cetak-laporan-kunjungan-poliklinik?&tglAwal="+e+"&tglAkhir="+n+"&bulan="+i+b+o+l+"&kodeprofile="+t+"&namauser="+a)}}])&&a(n.prototype,i),b&&a(n,b),e}(),M.\u0275fac=function(t){return new(t||M)(s.Jb(u.a),s.Jb(u.b),s.Jb(r.a),s.Jb(r.h),s.Jb(d.a),s.Jb(h.a),s.Jb(m.a),s.Jb(l.a),s.Jb(l.f))},M.\u0275cmp=s.Db({type:M,selectors:[["app-laporan-kunjungan"]],features:[s.wb([r.a,r.h])],decls:32,vars:15,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-11"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["view","month","dateFormat","mm/yy","inputId","monthpicker",3,"ngModel","readonlyInput","ngModelChange"],["placeholder","Instalasi","optionLabel","departemen",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["placeholder","Ruangan","optionLabel","ruangan",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Tipe Pasien","optionLabel","kelompokpasien",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12","p-md-1"],[1,"p-col-12","p-md-12"],["responsiveLayout","scroll","scrollable","true",3,"value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["type","button","pButton","","pRipple","","icon","pi pi-file-pdf","pTooltip","PDF","tooltipPosition","bottom",1,"p-button-success","p-mr-2",3,"click"],["rowspan","2",2,"text-align","center"],["colspan","2",2,"text-align","center"],["colspan","5",2,"text-align","center"],["colspan","3",2,"text-align","center"],[2,"text-align","center"]],template:function(t,a){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"h4"),s.Jc(3,"Laporan Bulanan Poliklinik"),s.Pb(),s.Qb(4,"div",2),s.Qb(5,"div",3),s.Qb(6,"div",2),s.Qb(7,"div",4),s.Qb(8,"label",5),s.Jc(9,"Bulan"),s.Pb(),s.Qb(10,"p-calendar",6),s.Yb("ngModelChange",function(t){return a.item.bulan=t}),s.Pb(),s.Pb(),s.Qb(11,"div",4),s.Qb(12,"label",5),s.Jc(13,"Instalasi"),s.Pb(),s.Qb(14,"p-dropdown",7),s.Yb("ngModelChange",function(t){return a.item.dataDepartemen=t})("onChange",function(){return a.isiRuangan()}),s.Pb(),s.Pb(),s.Qb(15,"div",4),s.Qb(16,"label",5),s.Jc(17,"Ruangan"),s.Pb(),s.Qb(18,"p-dropdown",8),s.Yb("ngModelChange",function(t){return a.item.dataRuangan=t}),s.Pb(),s.Pb(),s.Qb(19,"div",4),s.Qb(20,"label",5),s.Jc(21,"Tipe Pasien"),s.Pb(),s.Qb(22,"p-dropdown",9),s.Yb("ngModelChange",function(t){return a.item.dataTipePasien=t}),s.Pb(),s.Pb(),s.Qb(23,"div",10),s.Qb(24,"button",11),s.Yb("click",function(){return a.cari()}),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Lb(25,"div",12),s.Qb(26,"div",13),s.Qb(27,"div",0),s.Qb(28,"p-table",14),s.Hc(29,w,2,0,"ng-template",15),s.Hc(30,D,48,0,"ng-template",16),s.Hc(31,Y,33,16,"ng-template",17),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.xb(10),s.ic("ngModel",a.item.bulan)("readonlyInput",!0),s.xb(4),s.ic("options",a.listDepartemen)("ngModel",a.item.dataDepartemen)("filter",!0)("showClear",!0),s.xb(4),s.ic("options",a.listRuangan)("ngModel",a.item.dataRuangan)("filter",!0)("showClear",!0),s.xb(4),s.ic("options",a.listTipePasien)("ngModel",a.item.dataTipePasien)("filter",!0)("showClear",!0),s.xb(6),s.ic("value",a.dataTable))},directives:[g.a,P.g,P.h,f.a,Q.b,J.a,v.h,r.k,k.a],styles:[""]}),M)}],C=((y=function a(){t(this,a)}).\u0275mod=s.Hb({type:y}),y.\u0275inj=s.Gb({factory:function(t){return new(t||y)},imports:[[l.j.forChild(T)],l.j]}),y),K=((x=function a(){t(this,a)}).\u0275mod=s.Hb({type:x}),x.\u0275inj=s.Gb({factory:function(t){return new(t||x)},imports:[[b.b,C,o.a]]}),x)}}])}();