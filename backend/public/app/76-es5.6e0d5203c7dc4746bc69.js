!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{"+pUI":function(i,a,n){"use strict";n.r(a),n.d(a,"DaftarSoModule",function(){return A});var o=n("ofXK"),r=n("tyNb"),l=n("7zfz"),s=n("1zoS"),d=n("wd/R"),c=n("fXoL"),u=n("EJUL"),p=n("U+s4"),b=n("G0w9"),g=n("ujBT"),h=n("Nf9I"),f=n("arFO"),m=n("3Pt+"),w=n("eO1q"),k=n("jIHw"),P=n("xlun"),v=n("rEr+"),x=n("Q4Mo");function y(e,t){if(1&e){var i=c.Sb();c.Qb(0,"div",19),c.Qb(1,"button",20),c.Yb("click",function(){return c.yc(i),c.bc().exportExcel()}),c.Pb(),c.Pb()}}function C(e,t){if(1&e&&(c.Qb(0,"th",22),c.Jc(1),c.Lb(2,"p-sortIcon",23),c.Pb()),2&e){var i=t.$implicit;c.Fc("width: ",i.width,""),c.jc("pSortableColumn",i.field),c.xb(1),c.Lc(" ",i.header," "),c.xb(1),c.jc("field",i.field)}}function J(e,t){if(1&e&&(c.Qb(0,"tr"),c.Hc(1,C,3,6,"th",21),c.Pb()),2&e){var i=t.$implicit;c.xb(1),c.ic("ngForOf",i)}}function Q(e,t){if(1&e&&(c.Qb(0,"span",28),c.Jc(1),c.cc(2,"currency"),c.Pb()),2&e){var i=c.bc().$implicit,a=c.bc().$implicit;c.xb(1),c.Lc(" ",c.ec(2,1,a[i.field],"Rp ")," ")}}function D(e,t){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){var i=c.bc().$implicit,a=c.bc().$implicit;c.xb(1),c.Lc(" ",a[i.field]," ")}}function M(e,t){if(1&e&&(c.Qb(0,"td"),c.Hc(1,Q,3,4,"span",26),c.Hc(2,D,2,1,"span",27),c.Pb()),2&e){var i=t.$implicit;c.Fc("width: ",i.width,""),c.xb(1),c.ic("ngIf",null!=i.isCurrency),c.xb(1),c.ic("ngIf",null==i.isCurrency)}}function R(e,t){if(1&e&&(c.Qb(0,"tr",24),c.Hc(1,M,3,5,"td",25),c.Pb()),2&e){var i=t.columns,a=t.rowIndex;c.ic("pSelectableRow",t.$implicit)("pSelectableRowIndex",a),c.xb(1),c.ic("ngForOf",i)}}var j,Y,S,L=function(){return[5,10,25,50]},H=[{path:"",component:(j=function(){function i(t,a,n,o,r,l,c,u){e(this,i),this.apiService=t,this.authService=a,this.confirmationService=n,this.messageService=o,this.cacheHelper=r,this.helper=l,this.alertService=c,this.route=u,this.item={tglAwal:new Date(d(new Date).format("YYYY-MM-DD 00:00")),tglAkhir:new Date(d(new Date).format("YYYY-MM-DD 23:59"))},this.page=s.b.get().page,this.rows=s.b.get().rows}var a,n,o;return a=i,(n=[{key:"ngOnInit",value:function(){this.dataLogin=this.authService.getDataLoginUser(),this.kelUser=this.dataLogin.kelompokUser.kelompokUser,this.dateNow=new Date,this.item.jmlRows=10,this.column=[{field:"no",header:"No",width:"65px"},{field:"tglclosing",header:"Tgl Closing",width:"140px"},{field:"kdproduk",header:"Kode Produk",width:"140px"},{field:"namaproduk",header:"Nama Produk",width:"300px"},{field:"satuanstandar",header:"Satuan",width:"180px"},{field:"qtyprodukreal",header:"Jumlah",width:"120px"},{field:"harga",header:"Harga Satuan",width:"140px",isCurrency:!0},{field:"total",header:"Total",width:"140px",isCurrency:!0},{field:"namaruangan",header:"Ruangan",width:"250px"}],this.loadDataCombo()}},{key:"loadDataCombo",value:function(){var e=this;this.apiService.get("logistik/get-combo-logistik").subscribe(function(t){e.listRuangan=null!=e.dataLogin.mapLoginUserToRuangan?e.dataLogin.mapLoginUserToRuangan:t.ruangfarmasi,e.item.dataRuangan=e.listRuangan[0],e.loadData()}),this.apiService.get("logistik/get-combo-detailjenisproduk").subscribe(function(t){e.listDetailJenisProduk=t.detailjenisproduk})}},{key:"isiJenisProduk",value:function(){null!=this.item.dataDjenisProduk&&(this.listJenisBarang=this.item.dataDjenisProduk.jenisproduk)}},{key:"isiKelompokProduk",value:function(){null!=this.item.dataJenisBarang&&(this.listKelompokBarang=this.item.dataJenisBarang.kelompokproduk)}},{key:"formatRupiah",value:function(e,t){return t+" "+parseFloat(e).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}},{key:"loadData",value:function(){var e,t,i,a=this,n=d(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),o=d(this.item.tglAkhir).format("YYYY-MM-DD HH:mm");i="",null!=this.item.dataRuangan&&(i=this.item.dataRuangan.id),e="",null!=this.item.dataDjenisProduk&&(e=this.item.dataDjenisProduk.id),t="",null!=this.item.dataJenisBarang&&(t=this.item.dataJenisBarang.id);var r="";null!=this.item.jmlRows&&(r=this.item.jmlRows),this.apiService.get("logistik/get-daftar-so?tglAwal="+n+"&tglAkhir="+o+"&jeniskprodukid="+t+"&ruanganfk="+i+"&detailjenisprodukfk="+e+"&jmlRows="+r).subscribe(function(e){for(var t=e.data,i=0;i<t.length;i++)t[i].no=i+1;a.dataTable=t})}},{key:"cari",value:function(){this.loadData()}},{key:"exportExcel",value:function(){this.helper.exportExcel(this.dataTable,"DaftarStokOpname")}}])&&t(a.prototype,n),o&&t(a,o),i}(),j.\u0275fac=function(e){return new(e||j)(c.Jb(u.a),c.Jb(u.b),c.Jb(l.a),c.Jb(l.h),c.Jb(p.a),c.Jb(b.a),c.Jb(g.a),c.Jb(r.a))},j.\u0275cmp=c.Db({type:j,selectors:[["app-daftar-so"]],features:[c.wb([l.a])],decls:36,vars:32,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["placeholder","Ruangan","optionLabel","namaruangan",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Detail Jenis Produk","optionLabel","detailjenisproduk",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["placeholder","Jenis Produk","optionLabel","jenisproduk",3,"options","ngModel","filter","showClear","ngModelChange"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],[1,"p-col-12","p-md-1"],[1,"p-col-12","p-md-12",2,"margin-top","10px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","pTooltip","Export Excel","tooltipPosition","bottom",1,"p-button-success","p-mr-2",3,"click"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"style",4,"ngFor","ngForOf"],["style","text-align: right;",4,"ngIf"],[4,"ngIf"],[2,"text-align","right"]],template:function(e,t){1&e&&(c.Lb(0,"p-confirmDialog",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"h4"),c.Jc(4,"Stok Opname List"),c.Pb(),c.Qb(5,"div",3),c.Qb(6,"div",4),c.Qb(7,"div",5),c.Qb(8,"label",6),c.Jc(9,"Ruangan"),c.Pb(),c.Qb(10,"p-dropdown",7),c.Yb("ngModelChange",function(e){return t.item.dataRuangan=e}),c.Pb(),c.Pb(),c.Qb(11,"div",5),c.Qb(12,"label",6),c.Jc(13,"Detail Jenis Produk"),c.Pb(),c.Qb(14,"p-dropdown",8),c.Yb("ngModelChange",function(e){return t.item.dataDjenisProduk=e})("onChange",function(){return t.isiJenisProduk()}),c.Pb(),c.Pb(),c.Qb(15,"div",5),c.Qb(16,"label",6),c.Jc(17,"Jenis Produk"),c.Pb(),c.Qb(18,"p-dropdown",9),c.Yb("ngModelChange",function(e){return t.item.dataJenisBarang=e}),c.Pb(),c.Pb(),c.Qb(19,"div",5),c.Qb(20,"label",6),c.Jc(21,"Periode Awal"),c.Pb(),c.Qb(22,"p-calendar",10),c.Yb("ngModelChange",function(e){return t.item.tglAwal=e}),c.Pb(),c.Pb(),c.Qb(23,"div",5),c.Qb(24,"label",6),c.Jc(25,"Periode Akhir"),c.Pb(),c.Qb(26,"p-calendar",10),c.Yb("ngModelChange",function(e){return t.item.tglAkhir=e}),c.Pb(),c.Pb(),c.Qb(27,"div",11),c.Qb(28,"div",12),c.Qb(29,"button",13),c.Yb("click",function(){return t.cari()}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(30,"div",3),c.Qb(31,"p-table",14,15),c.Yb("selectionChange",function(e){return t.selected=e}),c.Hc(33,y,2,0,"ng-template",16),c.Hc(34,J,2,1,"ng-template",17),c.Hc(35,R,2,3,"ng-template",18),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.xb(10),c.ic("options",t.listRuangan)("ngModel",t.item.dataRuangan)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",t.listDetailJenisProduk)("ngModel",t.item.dataDjenisProduk)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",t.listJenisBarang)("ngModel",t.item.dataJenisBarang)("filter",!0)("showClear",!0),c.xb(4),c.ic("ngModel",t.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),c.xb(4),c.ic("ngModel",t.item.tglAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),c.xb(5),c.ic("columns",t.column)("value",t.dataTable)("selection",t.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",c.mc(31,L))("paginator",!0)("pageLinks",5))},directives:[h.a,f.a,m.g,m.h,w.a,k.b,P.a,v.h,l.k,x.a,o.k,v.g,v.f,v.e,o.l],pipes:[o.c],styles:[""]}),j)}],T=((Y=function t(){e(this,t)}).\u0275mod=c.Hb({type:Y}),Y.\u0275inj=c.Gb({factory:function(e){return new(e||Y)},imports:[[r.j.forChild(H)],r.j]}),Y),I=n("PCNd"),A=((S=function t(){e(this,t)}).\u0275mod=c.Hb({type:S}),S.\u0275inj=c.Gb({factory:function(e){return new(e||S)},imports:[[o.b,T,I.a]]}),S)}}])}();