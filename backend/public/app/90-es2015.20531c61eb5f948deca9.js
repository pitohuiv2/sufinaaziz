(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{"2PvT":function(e,t,a){"use strict";a.r(t),a.d(t,"VBedModule",function(){return $});var i=a("ofXK"),r=a("tyNb"),n=a("fXoL"),s=a("EJUL"),o=a("ujBT"),d=a("7LiV"),l=a("3Pt+"),c=a("7kUa"),p=a("jIHw"),b=a("Q4Mo"),u=a("xlun"),h=a("rEr+"),m=a("7zfz");function g(e,t){if(1&e&&(n.Qb(0,"th"),n.Jc(1),n.Pb()),2&e){const e=t.$implicit;n.Fc("width: ",e.width,""),n.xb(1),n.Lc(" ",e.header," ")}}function f(e,t){if(1&e&&(n.Qb(0,"tr"),n.Hc(1,g,2,4,"th",27),n.Pb()),2&e){const e=t.$implicit;n.xb(1),n.ic("ngForOf",e)}}function P(e,t){if(1&e&&(n.Qb(0,"td"),n.Qb(1,"span",29),n.Jc(2),n.Pb(),n.Jc(3),n.Pb()),2&e){const e=t.$implicit,a=n.bc().$implicit;n.Fc("width: ",e.width,""),n.xb(2),n.Lc(" ",e.header," "),n.xb(1),n.Lc(" ",a[e.field]," ")}}function w(e,t){if(1&e&&(n.Qb(0,"tr",28),n.Hc(1,P,4,5,"td",27),n.Pb()),2&e){const e=t.columns,a=t.rowIndex;n.ic("pSelectableRow",t.$implicit)("pSelectableRowIndex",a),n.xb(1),n.ic("ngForOf",e)}}function k(e,t){if(1&e&&(n.Qb(0,"th"),n.Jc(1),n.Pb()),2&e){const e=t.$implicit;n.Fc("width: ",e.width,""),n.xb(1),n.Lc(" ",e.header," ")}}function x(e,t){if(1&e&&(n.Qb(0,"tr"),n.Qb(1,"th",30),n.Jc(2,"Aksi"),n.Pb(),n.Hc(3,k,2,4,"th",27),n.Pb()),2&e){const e=t.$implicit;n.xb(3),n.ic("ngForOf",e)}}function Q(e,t){if(1&e&&(n.Qb(0,"td"),n.Qb(1,"span",29),n.Jc(2),n.Pb(),n.Jc(3),n.Pb()),2&e){const e=t.$implicit,a=n.bc().$implicit;n.Fc("width: ",e.width,""),n.xb(2),n.Lc(" ",e.header," "),n.xb(1),n.Lc(" ",a[e.field]," ")}}function v(e,t){if(1&e){const e=n.Sb();n.Qb(0,"tr",28),n.Qb(1,"td",30),n.Qb(2,"button",31),n.Yb("click",function(){n.yc(e);const a=t.$implicit;return n.bc().removeData(a)}),n.Pb(),n.Pb(),n.Hc(3,Q,4,5,"td",27),n.Pb()}if(2&e){const e=t.columns,a=t.rowIndex;n.ic("pSelectableRow",t.$implicit)("pSelectableRowIndex",a),n.xb(3),n.ic("ngForOf",e)}}const S=function(){return{width:"200px"}};function T(e,t){if(1&e){const e=n.Sb();n.Qb(0,"div",32),n.Qb(1,"span",33),n.Lb(2,"i",34),n.Qb(3,"input",35),n.Yb("input",function(t){return n.yc(e),n.bc(),n.wc(55).filterGlobal(t.target.value,"contains")}),n.Pb(),n.Pb(),n.Pb()}2&e&&(n.xb(3),n.Ec(n.mc(2,S)))}function K(e,t){if(1&e&&(n.Qb(0,"th"),n.Jc(1),n.Pb()),2&e){const e=t.$implicit;n.Fc("width: ",e.width,""),n.xb(1),n.Lc(" ",e.header," ")}}function R(e,t){if(1&e&&(n.Qb(0,"tr"),n.Hc(1,K,2,4,"th",27),n.Pb()),2&e){const e=t.$implicit;n.xb(1),n.ic("ngForOf",e)}}function M(e,t){if(1&e&&(n.Qb(0,"td"),n.Qb(1,"span",29),n.Jc(2),n.Pb(),n.Jc(3),n.Pb()),2&e){const e=t.$implicit,a=n.bc().$implicit;n.Fc("width: ",e.width,""),n.xb(2),n.Lc(" ",e.header," "),n.xb(1),n.Lc(" ",a[e.field]," ")}}function y(e,t){if(1&e&&(n.Qb(0,"tr",28),n.Hc(1,M,4,5,"td",27),n.Pb()),2&e){const e=t.columns,a=t.rowIndex;n.ic("pSelectableRow",t.$implicit)("pSelectableRowIndex",a),n.xb(1),n.ic("ngForOf",e)}}const L=function(){return[5,10,25,50]},H=function(){return["namakelas"]},I=[{path:"",component:(()=>{class e{constructor(e,t){this.apiService=e,this.alertService=t,this.dataSource=[],this.dataSource2=[],this.dataSource3=[],this.column3=[],this.column2=[],this.item={start:0,limit:100}}ngOnInit(){this.column=[{field:"kodekelas",header:"Kode Kelas",width:"100px"},{field:"namakelas",header:"Kelas",width:"150px",filter:!0},{field:"koderuang",header:"Kode Ruang",width:"100px",filter:!0},{field:"namaruang",header:"Nama Ruang",width:"250px",filter:!0},{field:"kapasitas",header:"Kapasitas",width:"150px"},{field:"tersedia",header:"Tersedia",width:"150px"},{field:"tersediapria",header:"Tersedia Pria",width:"150px"},{field:"tersediawanita",header:"Tersedia Wanita",width:"150px"},{field:"tersediapriawanita",header:"Tersedia Pria Wanita",width:"150px"},{field:"rownumber",header:"Row",width:"80px"},{field:"lastupdate",header:"Tgl Update",width:"150px"}],this.column2=[{field:"no",header:"No",width:"40px"},{field:"kodekelas",header:"Kode",width:"100px"},{field:"namakelas",header:"Kelas",width:"150px"}],this.column3=[{field:"kodekelas",header:"Kode Kelas",width:"100px"},{field:"namakelas",header:"Kelas",width:"150px",filter:!0},{field:"koderuang",header:"Kode Ruang",width:"100px",filter:!0},{field:"namaruang",header:"Nama Ruang",width:"250px",filter:!0},{field:"kapasitas",header:"Kapasitas",width:"150px"},{field:"tersedia",header:"Tersedia",width:"150px"},{field:"tersediapria",header:"Tersedia Pria",width:"150px"},{field:"tersediawanita",header:"Tersedia Wanita",width:"150px"},{field:"tersediapriawanita",header:"Tersedia Pria Wanita",width:"150px"}],this.item.kodePPK="",this.apiService.get("registrasi/get-setting-asuransi").subscribe(e=>{this.item.kodePPK=e.kodePPKRujukan}),this.dataSource2=[],this.apiService.postNonMessage("bridging/bpjs/tools",{url:"aplicaresws/rest/ref/kelas",method:"GET",data:null,jenis:"aplicares"}).subscribe(e=>{for(let t=0;t<e.response.list.length;t++)e.response.list[t].no=t+1;this.dataSource2=e.response.list}),this.cariLokal()}cari(){let e={url:`aplicaresws/rest/bed/read/${this.item.kodePPK}/${this.item.start}/${this.item.limit}`,method:"GET",data:null,jenis:"aplicares"};this.dataSource=[],this.apiService.postNonMessage("bridging/bpjs/tools",e).subscribe(e=>{for(let t=0;t<e.response.list.length;t++)e.response.list[t].no=t+1;this.dataSource=e.response.list})}cariLokal(){let e="",t="";this.item.kelas&&(e=this.item.kelas),this.item.namaruangan&&(t=this.item.namaruangan),this.apiService.get("bridging/bpjs/aplicare?namaruangan="+t+"&kelas="+e).subscribe(e=>{for(let t=0;t<e.length;t++)e[t].no=t+1;this.dataSource3=e})}clear(e){e.clear()}removeData(e){this.apiService.postNonMessage("bridging/bpjs/tools",{url:"aplicaresws/rest/bed/delete/"+this.item.kodePPK,method:"POST",data:{kodekelas:e.kodekelas,koderuang:e.koderuang},jenis:"aplicares"}).subscribe(e=>{1==e.metadata.code?(this.cari(),this.alertService.success("Info",e.metadata.message)):this.alertService.error("Info",e.metadata.message)})}create(){for(let e=0;e<this.dataSource3.length;e++){const t=this.dataSource3[e];this.apiService.postNonMessage("bridging/bpjs/tools",{url:"aplicaresws/rest/bed/create/"+this.item.kodePPK,method:"POST",data:{kodekelas:t.kodekelas,koderuang:t.koderuang,namaruang:t.namaruang,kapasitas:t.kapasitas,tersedia:t.tersedia,tersediapria:t.tersediapria,tersediawanita:t.tersediawanita,tersediapriawanita:t.tersediapriawanita},jenis:"aplicares"}).subscribe(e=>{1==e.metadata.code?this.alertService.success("Info",e.metadata.message):this.alertService.error("Info",e.metadata.message)})}}update(){for(let e=0;e<this.dataSource3.length;e++){const t=this.dataSource3[e];this.apiService.postNonMessage("bridging/bpjs/tools",{url:"aplicaresws/rest/bed/update/"+this.item.kodePPK,method:"POST",data:{kodekelas:t.kodekelas,koderuang:t.koderuang,namaruang:t.namaruang,kapasitas:t.kapasitas,tersedia:t.tersedia,tersediapria:t.tersediapria,tersediawanita:t.tersediawanita,tersediapriawanita:t.tersediapriawanita},jenis:"aplicares"}).subscribe(e=>{1==e.metadata.code?this.alertService.success("Info",e.metadata.message):this.alertService.error("Info",e.metadata.message)})}}}return e.\u0275fac=function(t){return new(t||e)(n.Jb(s.a),n.Jb(o.a))},e.\u0275cmp=n.Db({type:e,selectors:[["app-v-bed"]],decls:59,vars:31,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-12"],["header","Update Ketersediaan Kamar"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["type","text","pInputText","","placeholder","Ruangan ",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Kelas ",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search",1,"p-button-primary","p-mr-1",3,"click"],["pButton","","pRipple","","type","button","pTooltip","Create Baru Ruangan","label","Create","icon","pi pi-save",1,"p-button-success","p-mr-1",3,"click"],["pButton","","pRipple","","type","button","label","Update","pTooltip","Update Ketersediaan","icon","pi pi-refresh",1,"p-button-danger","p-mr-1",3,"click"],[1,"p-col-12"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollable","true",3,"columns","value","rowHover","rows","rowsPerPageOptions","paginator","pageLinks"],["pTemplate","header"],["pTemplate","body"],["header","List Ketersediaan Kamar RS"],[1,"p-col-12","p-md-3"],["type","text","pInputText","","placeholder","PPK",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Start ",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Limit ",3,"ngModel","ngModelChange"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollable","true","scrollable","true",3,"columns","value","rowHover","rows","rowsPerPageOptions","paginator","pageLinks"],["header","Referensi Kamar"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollable","true",3,"columns","value","rowHover","rows","rowsPerPageOptions","paginator","pageLinks","globalFilterFields"],["dt1",""],["pTemplate","caption"],[3,"style",4,"ngFor","ngForOf"],[3,"pSelectableRow","pSelectableRowIndex"],[1,"p-column-title"],[2,"width","40px"],["pButton","","type","button","icon","fa fa-trash","pTooltip","Hapus","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[1,"table-header"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filter",3,"input"]],template:function(e,t){1&e&&(n.Qb(0,"div",0),n.Qb(1,"div",1),n.Qb(2,"h4"),n.Jc(3,"Referensi"),n.Pb(),n.Qb(4,"div",2),n.Qb(5,"div",3),n.Qb(6,"p-accordion"),n.Qb(7,"p-accordionTab",4),n.Qb(8,"div",2),n.Qb(9,"div",3),n.Qb(10,"div",2),n.Qb(11,"div",5),n.Qb(12,"label",6),n.Jc(13,"Ruangan "),n.Pb(),n.Qb(14,"input",7),n.Yb("ngModelChange",function(e){return t.item.namaruangan=e}),n.Pb(),n.Pb(),n.Qb(15,"div",5),n.Qb(16,"label",6),n.Jc(17,"Kelas "),n.Pb(),n.Qb(18,"input",8),n.Yb("ngModelChange",function(e){return t.item.kelas=e}),n.Pb(),n.Pb(),n.Qb(19,"div",9),n.Qb(20,"button",10),n.Yb("click",function(){return t.cariLokal()}),n.Pb(),n.Pb(),n.Qb(21,"div",9),n.Qb(22,"button",11),n.Yb("click",function(){return t.create()}),n.Pb(),n.Pb(),n.Qb(23,"div",9),n.Qb(24,"button",12),n.Yb("click",function(){return t.update()}),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(25,"div",13),n.Qb(26,"p-table",14),n.Hc(27,f,2,1,"ng-template",15),n.Hc(28,w,2,3,"ng-template",16),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(29,"p-accordionTab",17),n.Qb(30,"div",2),n.Qb(31,"div",3),n.Qb(32,"div",2),n.Qb(33,"div",18),n.Qb(34,"label",6),n.Jc(35,"Kode Faskes "),n.Pb(),n.Qb(36,"input",19),n.Yb("ngModelChange",function(e){return t.item.kodePPK=e}),n.Pb(),n.Pb(),n.Qb(37,"div",5),n.Qb(38,"label",6),n.Jc(39,"Start "),n.Pb(),n.Qb(40,"input",20),n.Yb("ngModelChange",function(e){return t.item.start=e}),n.Pb(),n.Pb(),n.Qb(41,"div",5),n.Qb(42,"label",6),n.Jc(43,"Limit "),n.Pb(),n.Qb(44,"input",21),n.Yb("ngModelChange",function(e){return t.item.limit=e}),n.Pb(),n.Pb(),n.Qb(45,"div",9),n.Qb(46,"button",10),n.Yb("click",function(){return t.cari()}),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(47,"div",13),n.Qb(48,"p-table",22),n.Hc(49,x,4,1,"ng-template",15),n.Hc(50,v,4,3,"ng-template",16),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(51,"p-accordionTab",23),n.Qb(52,"div",2),n.Qb(53,"div",13),n.Qb(54,"p-table",24,25),n.Hc(56,T,4,3,"ng-template",26),n.Hc(57,R,2,1,"ng-template",15),n.Hc(58,y,2,3,"ng-template",16),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb()),2&e&&(n.xb(14),n.ic("ngModel",t.item.namaruangan),n.xb(4),n.ic("ngModel",t.item.kelas),n.xb(8),n.ic("columns",t.column3)("value",t.dataSource3)("rowHover",!0)("rows",20)("rowsPerPageOptions",n.mc(27,L))("paginator",!0)("pageLinks",5),n.xb(10),n.ic("ngModel",t.item.kodePPK),n.xb(4),n.ic("ngModel",t.item.start),n.xb(4),n.ic("ngModel",t.item.limit),n.xb(4),n.ic("columns",t.column)("value",t.dataSource)("rowHover",!0)("rows",20)("rowsPerPageOptions",n.mc(28,L))("paginator",!0)("pageLinks",5),n.xb(6),n.ic("columns",t.column2)("value",t.dataSource2)("rowHover",!0)("rows",20)("rowsPerPageOptions",n.mc(29,L))("paginator",!0)("pageLinks",5)("globalFilterFields",n.mc(30,H)))},directives:[d.a,d.c,l.a,c.a,l.g,l.h,p.b,b.a,u.a,h.h,m.k,i.k,h.e],styles:[""]}),e})()}];let J=(()=>{class e{}return e.\u0275mod=n.Hb({type:e}),e.\u0275inj=n.Gb({factory:function(t){return new(t||e)},imports:[[r.j.forChild(I)],r.j]}),e})();var F=a("PCNd");let $=(()=>{class e{}return e.\u0275mod=n.Hb({type:e}),e.\u0275inj=n.Gb({factory:function(t){return new(t||e)},imports:[[i.b,J,F.a]]}),e})()}}]);