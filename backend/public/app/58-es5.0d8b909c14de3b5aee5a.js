!function(){function e(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function a(e,a){for(var i=0;i<a.length;i++){var t=a[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{N9eH:function(i,t,n){"use strict";n.r(t),n.d(t,"JadwalDokterModule",function(){return _});var l=n("ofXK"),o=n("tyNb"),r=n("7zfz"),s=n("wd/R"),c=n("fXoL"),d=n("EJUL"),b=n("G0w9"),p=n("U+s4"),u=n("ujBT"),m=n("RTT/"),h=n("7kUa"),g=n("jIHw"),f=n("xlun"),v=n("rEr+"),k=n("/RsI"),w=n("7CaW"),P=n("arFO"),Q=n("3Pt+"),j=n("lVkt"),y=n("eO1q"),x=n("zFJ7"),C=n("Q4Mo");function J(e,a){if(1&e){var i=c.Sb();c.Qb(0,"div",30),c.Qb(1,"button",31),c.Yb("click",function(){return c.yc(i),c.bc().tambah()}),c.Pb(),c.Pb()}}function H(e,a){if(1&e&&(c.Qb(0,"th",34),c.Jc(1),c.Lb(2,"p-sortIcon",35),c.Pb()),2&e){var i=a.$implicit;c.Fc("width: ",i.width,""),c.jc("pSortableColumn",i.field),c.xb(1),c.Lc(" ",i.header," "),c.xb(1),c.jc("field",i.field)}}function M(e,a){if(1&e&&(c.Qb(0,"tr"),c.Lb(1,"th",32),c.Hc(2,H,3,6,"th",33),c.Pb()),2&e){var i=a.$implicit;c.xb(2),c.ic("ngForOf",i)}}function S(e,a){if(1&e&&(c.Qb(0,"td"),c.Jc(1),c.Pb()),2&e){var i=a.$implicit,t=c.bc().$implicit;c.Fc("width: ",i.width,""),c.xb(1),c.Lc(" ",t[i.field]," ")}}function D(e,a){if(1&e){var i=c.Sb();c.Qb(0,"tr"),c.Qb(1,"td",32),c.Qb(2,"button",36),c.Yb("click",function(){c.yc(i);var e=a.$implicit;return c.bc().editJadwal(e)}),c.Pb(),c.Qb(3,"button",37),c.Yb("click",function(){c.yc(i);var e=a.$implicit;return c.bc().hapusjadwal(e)}),c.Pb(),c.Pb(),c.Hc(4,S,2,4,"td",38),c.Pb()}if(2&e){var t=a.columns;c.xb(4),c.ic("ngForOf",t)}}function R(e,a){if(1&e){var i=c.Sb();c.Qb(0,"button",39),c.Yb("click",function(){return c.yc(i),c.bc().simpanJadwal()}),c.Pb(),c.Qb(1,"button",40),c.Yb("click",function(){return c.yc(i),c.bc().pop_User=!1}),c.Pb()}if(2&e){var t=c.bc();c.ic("disabled",t.isSimpan)}}var T,Y,F,I=function(){return[5,10,25,50]},O=function(){return["namaruangan","namalengkap","hari"]},L=function(){return{width:"900px",minWidth:"900px"}},B=[{path:"",component:(T=function(){function i(a,t,n,l,o,r,s,c){e(this,i),this.apiService=a,this.authService=t,this.confirmationService=n,this.messageService=l,this.router=o,this.DateHelper=r,this.cacheHelper=s,this.alertService=c,this.item={mapModul:[],mapRuangan:[],mapModul2:[]},this.pop_User=!1,this.isSimpan=!1,this.indexTab=0,this.searchText="",this.searchText2="",this.listRuangan=[],this.listDokter=[],this.listhari=[]}var t,n,l;return t=i,(n=[{key:"ngOnInit",value:function(){this.loadColumn(),this.loadCombo(),this.loadData()}},{key:"loadCombo",value:function(){var e=this;this.apiService.get("sysadmin/general/get-combo-jadwal-dokter").subscribe(function(a){e.listRuangan=a.poli,e.listDokter=a.dokter,e.listhari=a.hari})}},{key:"loadColumn",value:function(){this.column=[{field:"no",header:"No",width:"60px"},{field:"namalengkap",header:"Nama Dokter",width:"200px"},{field:"hari",header:"Hari",width:"250px"},{field:"jammulai",header:"Jam Mulai",width:"150px"},{field:"jamakhir",header:"Jam Selesai",width:"150px"}]}},{key:"loadData",value:function(){var e=this;this.apiService.get("sysadmin/general/get-data-informasi-jadwal-dokter?&dokterId=&ruanganId=").subscribe(function(a){for(var i=a.data,t=0;t<i.length;t++)i[t].no=t+1;e.dataSource=i})}},{key:"tambah",value:function(){this.item.idjadwal="",this.pop_User=!0,this.clearInputan()}},{key:"clearInputan",value:function(){delete this.item.idjadwal,delete this.item.dataRuangan,delete this.item.selectedHari,delete this.item.jammulai,delete this.item.jamselesai,delete this.item.dataDokter,delete this.item.keterangan}},{key:"simpanJadwal",value:function(){var e=this;if(null!=this.item.dataRuangan)if(null!=this.item.dataDokter){var a="";if(0!=this.item.selectedHari.length)for(var i=0;i<this.item.selectedHari.length;i++)a+=i==this.item.selectedHari.length-1?this.item.selectedHari[i].hari:this.item.selectedHari[i].hari+", ";var t={idjadwal:this.item.idjadwal,objectpegawaifk:null!=this.item.dataDokter?this.item.dataDokter.id:null,objectruanganfk:null!=this.item.dataRuangan?this.item.dataRuangan.id:null,hari:null!=a?a:null,jammulai:null!=this.item.jammulai?s(this.item.jammulai).format("HH:mm"):null,jamakhir:null!=this.item.jamselesai?s(this.item.jamselesai).format("HH:mm"):null,keterangan:null!=this.item.keterangan?this.item.keterangan:""};this.isSimpan=!0,this.apiService.post("sysadmin/general/save-informasi-jadwal-dokter",t).subscribe(function(a){e.isSimpan=!1,e.clearInputan(),e.pop_User=!1,e.loadData()},function(e){this.isSimpan=!0})}else this.alertService.error("Peringatan!","Dokter Tidak Boleh Kosong!");else this.alertService.error("Peringatan!","Ruangan Tidak Boleh Kosong!")}},{key:"editJadwal",value:function(e){var a=e;if(this.item.idjadwal=a.idjadwalpegawai,this.item.dataDokter={id:a.pegawaiidfk,namalengkap:a.namalengkap},this.item.dataRuangan={id:a.ruanganidfk,namaruangan:a.namaruangan},this.item.jammulai=a.jammulai,this.item.jamselesai=a.jamakhir,this.item.keterangan=a.keterangan,a.hari){this.item.selectedHari=[];var i=a.hari.split(",");if(i.length>0)for(var t=0;t<i.length;t++)for(var n=i[t],l=0;l<this.listhari.length;l++){var o=this.listhari[l];if(n.indexOf(o.hari)>-1){this.item.selectedHari.push(o);break}}}this.pop_User=!0}},{key:"hapusjadwal",value:function(e){var a=this;this.apiService.post("sysadmin/general/hapus-informasi-jadwal-dokter",{idJadwal:e.idjadwalpegawai,objectpegawaifk:e.pegawaiidfk}).subscribe(function(e){a.loadData()})}},{key:"cari",value:function(){this.loadData()}}])&&a(t.prototype,n),l&&a(t,l),i}(),T.\u0275fac=function(e){return new(e||T)(c.Jb(d.a),c.Jb(d.b),c.Jb(r.a),c.Jb(r.h),c.Jb(o.f),c.Jb(b.a),c.Jb(p.a),c.Jb(u.a))},T.\u0275cmp=c.Db({type:T,selectors:[["app-jadwal-dokter"]],features:[c.wb([r.a])],decls:50,vars:36,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-4"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Pencarian ",3,"input"],[1,"p-col-12","p-md-1"],[1,"p-col-12","p-md-12",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","jadwal Dokter Baru",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-fluid","p-grid"],[1,"p-col-12","p-md-12"],["header","Input Jadwal Dokter Baru",3,"toggleable"],["for","input",1,"label"],["placeholder","Ruangan/Poli","optionLabel","namaruangan",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","hari",3,"options","ngModel","ngModelChange"],[1,"p-col-12","p-md-6"],["for","timeonly"],["inputId","timeonly",3,"ngModel","timeOnly","ngModelChange"],["placeholder","Dokter","optionLabel","namalengkap",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"label"],["pInputTextarea","","placeholder","Keterangan","rows","3","cols","20",3,"ngModel","ngModelChange"],["pTemplate","footer"],[1,"p-d-flex"],["type","button","pButton","","pRipple","","icon","pi pi-plus","pTooltip","Tambah ","tooltipPosition","bottom",1,"p-button-success","p-mr-2",3,"click"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit ","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus ","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],["pButton","","icon","pi pi-save","label","Simpan",1,"p-button","p-button-success","p-mr-2",3,"disabled","click"],["pButton","","icon","fa fa-refresh","label","Batal",1,"p-button","p-mr-2",3,"click"]],template:function(e,a){if(1&e){var i=c.Sb();c.Lb(0,"p-confirmPopup"),c.Qb(1,"div",0),c.Qb(2,"div",1),c.Qb(3,"h4"),c.Jc(4,"Informasi Jadwal Dokter"),c.Pb(),c.Qb(5,"div",2),c.Qb(6,"div",3),c.Qb(7,"span",4),c.Lb(8,"i",5),c.Qb(9,"input",6),c.Yb("input",function(e){return c.yc(i),c.wc(16).filterGlobal(e.target.value,"contains")}),c.Pb(),c.Pb(),c.Pb(),c.Qb(10,"div",7),c.Qb(11,"div",2),c.Qb(12,"div",8),c.Qb(13,"button",9),c.Yb("click",function(){return a.cari()}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(14,"div",10),c.Qb(15,"p-table",11,12),c.Yb("selectionChange",function(e){return a.selectedGrid=e}),c.Hc(17,J,2,0,"ng-template",13),c.Hc(18,M,3,1,"ng-template",14),c.Hc(19,D,5,1,"ng-template",15),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(20,"p-dialog",16),c.Yb("visibleChange",function(e){return a.pop_User=e}),c.Qb(21,"div",17),c.Qb(22,"div",18),c.Qb(23,"p-panel",19),c.Qb(24,"div",2),c.Qb(25,"div",18),c.Qb(26,"label",20),c.Jc(27,"Ruangan/Poli"),c.Pb(),c.Qb(28,"p-dropdown",21),c.Yb("ngModelChange",function(e){return a.item.dataRuangan=e}),c.Pb(),c.Pb(),c.Qb(29,"div",18),c.Qb(30,"label",20),c.Jc(31,"Hari"),c.Pb(),c.Qb(32,"p-multiSelect",22),c.Yb("ngModelChange",function(e){return a.item.selectedHari=e}),c.Pb(),c.Pb(),c.Qb(33,"div",23),c.Qb(34,"label",24),c.Jc(35,"Jam Mulai"),c.Pb(),c.Qb(36,"p-calendar",25),c.Yb("ngModelChange",function(e){return a.item.jammulai=e}),c.Pb(),c.Pb(),c.Qb(37,"div",23),c.Qb(38,"label",24),c.Jc(39,"Jam Selesai"),c.Pb(),c.Qb(40,"p-calendar",25),c.Yb("ngModelChange",function(e){return a.item.jamselesai=e}),c.Pb(),c.Pb(),c.Qb(41,"div",18),c.Qb(42,"label",20),c.Jc(43,"Dokter"),c.Pb(),c.Qb(44,"p-dropdown",26),c.Yb("ngModelChange",function(e){return a.item.dataDokter=e}),c.Pb(),c.Pb(),c.Qb(45,"div",18),c.Qb(46,"label",27),c.Jc(47,"Keterangan"),c.Pb(),c.Qb(48,"textarea",28),c.Yb("ngModelChange",function(e){return a.item.keterangan=e}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Hc(49,R,2,1,"ng-template",29),c.Pb()}2&e&&(c.xb(15),c.ic("columns",a.column)("value",a.dataSource)("selection",a.selectedGrid)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",c.mc(33,I))("paginator",!0)("pageLinks",5)("globalFilterFields",c.mc(34,O)),c.xb(5),c.Ec(c.mc(35,L)),c.ic("visible",a.pop_User)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),c.xb(3),c.ic("toggleable",!0),c.xb(5),c.ic("options",a.listRuangan)("ngModel",a.item.dataRuangan)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",a.listhari)("ngModel",a.item.selectedHari),c.xb(4),c.ic("ngModel",a.item.jammulai)("timeOnly",!0),c.xb(4),c.ic("ngModel",a.item.jamselesai)("timeOnly",!0),c.xb(4),c.ic("options",a.listDokter)("ngModel",a.item.dataDokter)("filter",!0)("showClear",!0),c.xb(4),c.ic("ngModel",a.item.keterangan))},directives:[m.a,h.a,g.b,f.a,v.h,r.k,k.a,w.a,P.a,Q.g,Q.h,j.a,y.a,Q.a,x.a,C.a,l.k,v.g,v.f],styles:[""]}),T)}],U=((Y=function a(){e(this,a)}).\u0275mod=c.Hb({type:Y}),Y.\u0275inj=c.Gb({factory:function(e){return new(e||Y)},imports:[[o.j.forChild(B)],o.j]}),Y),z=n("PCNd"),_=((F=function a(){e(this,a)}).\u0275mod=c.Hb({type:F}),F.\u0275inj=c.Gb({factory:function(e){return new(e||F)},imports:[[l.b,U,z.a]]}),F)}}])}();