!function(){function t(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function a(t,a){for(var e=0;e<a.length;e++){var i=a[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{WhvK:function(e,i,n){"use strict";n.r(i),n.d(i,"InputAlkesRuanganModule",function(){return W});var s=n("ofXK"),r=n("tyNb"),o=n("7zfz"),l=n("wd/R"),u=n("fXoL"),d=n("By0h"),h=n("EJUL"),b=n("U+s4"),c=n("G0w9"),p=n("ujBT"),m=n("dPl2"),g=n("7CaW"),k=n("eO1q"),f=n("3Pt+"),v=n("arFO"),P=n("V5BG"),w=n("Ks7X"),Q=n("7kUa"),y=n("jIHw"),S=n("xlun"),x=n("lUkA"),C=n("rEr+"),R=n("Q4Mo");function D(t,a){if(1&t&&(u.Qb(0,"th"),u.Jc(1),u.Pb()),2&t){var e=a.$implicit;u.Fc("width: ",e.width,""),u.xb(1),u.Lc(" ",e.header," ")}}function T(t,a){if(1&t&&(u.Qb(0,"tr"),u.Lb(1,"th",33),u.Hc(2,D,2,4,"th",34),u.Pb()),2&t){var e=a.$implicit;u.xb(2),u.ic("ngForOf",e)}}function M(t,a){if(1&t&&(u.Qb(0,"span"),u.Jc(1),u.Pb()),2&t){var e=u.bc().$implicit,i=u.bc().$implicit,n=u.bc();u.xb(1),u.Lc(" ",n.formatRupiah(i[e.field],""),"")}}function j(t,a){if(1&t&&(u.Qb(0,"span"),u.Jc(1),u.Pb()),2&t){var e=u.bc().$implicit,i=u.bc().$implicit;u.xb(1),u.Lc(" ",i[e.field],"")}}function J(t,a){if(1&t&&(u.Qb(0,"td"),u.Hc(1,M,2,1,"span",37),u.Hc(2,j,2,1,"span",37),u.Pb()),2&t){var e=a.$implicit;u.Fc("width: ",e.width,""),u.xb(1),u.ic("ngIf",null!=e.isCurrency),u.xb(1),u.ic("ngIf",null==e.isCurrency)}}function K(t,a){if(1&t){var e=u.Sb();u.Qb(0,"tr"),u.Qb(1,"td",33),u.Qb(2,"button",35),u.Yb("click",function(){u.yc(e);var t=a.$implicit;return u.bc().editD(t)}),u.Pb(),u.Qb(3,"button",36),u.Yb("click",function(){u.yc(e);var t=a.$implicit;return u.bc().hapusD(t)}),u.Pb(),u.Pb(),u.Hc(4,J,3,5,"td",34),u.Pb()}if(2&t){var i=a.columns;u.xb(4),u.ic("ngForOf",i)}}function I(t,a){if(1&t){var e=u.Sb();u.Qb(0,"div",38),u.Qb(1,"div",39),u.Qb(2,"span",40),u.Lb(3,"i",41),u.Qb(4,"input",42),u.Yb("input",function(t){return u.yc(e),u.bc(),u.wc(76).filterGlobal(t.target.value,"contains")}),u.Pb(),u.Pb(),u.Pb(),u.Pb()}}function F(t,a){if(1&t&&(u.Qb(0,"th",45),u.Jc(1),u.Lb(2,"p-sortIcon",46),u.Pb()),2&t){var e=a.$implicit;u.Fc("width: ",e.width,""),u.jc("pSortableColumn",e.field),u.xb(1),u.Lc(" ",e.header," "),u.xb(1),u.jc("field",e.field)}}function H(t,a){if(1&t&&(u.Qb(0,"tr"),u.Lb(1,"th",43),u.Hc(2,F,3,6,"th",44),u.Pb()),2&t){var e=a.$implicit;u.xb(2),u.ic("ngForOf",e)}}function L(t,a){if(1&t&&(u.Qb(0,"span"),u.Jc(1),u.Pb()),2&t){var e=u.bc().$implicit,i=u.bc().$implicit,n=u.bc();u.xb(1),u.Lc(" ",n.formatRupiah(i[e.field],""),"")}}function O(t,a){if(1&t&&(u.Qb(0,"span"),u.Jc(1),u.Pb()),2&t){var e=u.bc().$implicit,i=u.bc().$implicit;u.xb(1),u.Lc(" ",i[e.field],"")}}function Y(t,a){if(1&t&&(u.Qb(0,"td"),u.Hc(1,L,2,1,"span",37),u.Hc(2,O,2,1,"span",37),u.Pb()),2&t){var e=a.$implicit;u.Fc("width: ",e.width,""),u.xb(1),u.ic("ngIf",null!=e.isCurrency),u.xb(1),u.ic("ngIf",null==e.isCurrency)}}function $(t,a){if(1&t){var e=u.Sb();u.Qb(0,"tr"),u.Qb(1,"td",43),u.Lb(2,"button",47),u.Qb(3,"button",48),u.Yb("click",function(){u.yc(e);var t=a.$implicit;return u.bc().hapusAlkes(t)}),u.Pb(),u.Qb(4,"button",49),u.Yb("click",function(){u.yc(e);var t=a.$implicit;return u.bc().editAlkes(t)}),u.Pb(),u.Pb(),u.Hc(5,Y,3,5,"td",34),u.Pb()}if(2&t){var i=a.$implicit,n=a.columns,s=a.expanded;u.xb(2),u.ic("pRowToggler",i)("icon",s?"pi pi-chevron-down":"pi pi-chevron-right"),u.xb(3),u.ic("ngForOf",n)}}function B(t,a){1&t&&(u.Qb(0,"tr"),u.Qb(1,"th"),u.Jc(2,"Produk"),u.Pb(),u.Qb(3,"th"),u.Jc(4,"Satuan"),u.Pb(),u.Qb(5,"th"),u.Jc(6,"Qty"),u.Pb(),u.Pb())}function A(t,a){if(1&t&&(u.Qb(0,"tr"),u.Qb(1,"td"),u.Jc(2),u.Pb(),u.Qb(3,"td"),u.Jc(4),u.Pb(),u.Qb(5,"td"),u.Jc(6),u.Pb(),u.Pb()),2&t){var e=a.$implicit;u.xb(2),u.Kc(e.namaproduk),u.xb(2),u.Kc(e.satuanstandar),u.xb(2),u.Kc(e.jumlah)}}function N(t,a){if(1&t&&(u.Qb(0,"tr"),u.Qb(1,"td",50),u.Qb(2,"div",51),u.Qb(3,"p-table",52),u.Hc(4,B,7,0,"ng-template",24),u.Hc(5,A,7,3,"ng-template",25),u.Pb(),u.Pb(),u.Pb(),u.Pb()),2&t){var e=a.$implicit;u.xb(3),u.ic("value",e.details)}}var G,E,U,V=function(){return[5,10,25,50]},q=function(){return["namaruangan","noorder","namalengkap","statusorder"]},X=[{path:"",component:(G=function(){function e(a,i,n,s,r,o,l,u,d){t(this,e),this.rekamMedis=a,this.apiService=i,this.authService=n,this.confirmationService=s,this.cacheHelper=r,this.dateHelper=o,this.alertService=l,this.activeRoute=u,this.router=d,this.item={tglresep:new Date,tglresepAkhir:new Date,aturanCheck:[],rke:1},this.skeleton=[],this.maxDateValue=new Date,this.headData={},this.dataProdukDetail=[],this.listSatuan=[],this.statusTambah=!0,this.listDataSigna=[{id:1,nama:"P",isChecked:!1},{id:2,nama:"S",isChecked:!1},{id:3,nama:"Sr",isChecked:!1},{id:4,nama:"M",isChecked:!1}],this.hrg1=0,this.columnGrid=[],this.dataSource=[],this.data2=[],this.norecOrder="",this.tambah=function(){if(0!=this.statusTambah)if(0!=this.item.jumlah)if(null!=this.item.produk)if(null!=this.item.satuan){var t,a="";this.item.KeteranganPakai&&(a=this.item.KeteranganPakai),t=null==this.dataSource?1:this.data2.length+1;var e={};if(this.disabledRuangan=!0,null!=this.item.no)for(var i=this.data2.length-1;i>=0;i--)this.data2[i].no==this.item.no&&(e.no=this.item.no,e.generik=null,e.hargajual=this.item.hargaSatuan,e.stock=this.item.stok,e.harganetto=this.item.hargaSatuan,e.nostrukterimafk=this.noTerima,e.ruanganfk=this.item.ruangan.id,e.produkfk=this.item.produk.id,e.namaproduk=this.item.produk.namaproduk,e.nilaikonversi=this.item.nilaiKonversi,e.satuanstandarfk=this.item.satuan.ssid,e.satuanstandar=this.item.satuan.satuanstandar,e.satuanviewfk=this.item.satuan.ssid,e.satuanview=this.item.satuan.satuanstandar,e.jmlstok=this.item.stok,e.jumlah=this.item.jumlah,e.hargasatuan=this.item.hargaSatuan,e.hargadiscount=0,e.total=this.item.total,e.jumlahxmakan=this.item.jumlahxmakan,e.keterangan=a,this.data2[i]=e,this.dataSource=this.data2);else this.data2.push(e={no:t,generik:null,hargajual:this.item.hargaSatuan,stock:this.item.stok,harganetto:this.item.hargaSatuan,nostrukterimafk:this.noTerima,ruanganfk:this.item.ruangan.id,produkfk:this.item.produk.id,namaproduk:this.item.produk.namaproduk,nilaikonversi:this.item.nilaiKonversi,satuanstandarfk:this.item.satuan.ssid,satuanstandar:this.item.satuan.satuanstandar,satuanviewfk:this.item.satuan.ssid,satuanview:this.item.satuan.satuanstandar,jmlstok:this.item.stok,jumlah:this.item.jumlah,hargasatuan:this.item.hargaSatuan,hargadiscount:0,total:this.item.total,jumlahxmakan:this.item.jumlahxmakan,keterangan:a}),this.dataSource=this.data2;this.kosongkan()}else this.alertService.error("Info","Pilih Satuan terlebih dahulu!!");else this.alertService.error("Info","Pilih Produk terlebih dahulu!!");else this.alertService.error("Info","Jumlah harus di isi!")}}var i,n,s;return i=e,(n=[{key:"ngOnInit",value:function(){if(this.dataLogin=this.authService.getDataLoginUser(),null==this.rekamMedis.header.norec){var t=this.cacheHelper.get("cacheEMR_qwertyuiop");null!=t&&(t=JSON.parse(t),this.headData=t)}else this.headData=this.rekamMedis.header;null==this.headData.norec&&window.history.back(),this.dataLogin=this.authService.getDataLoginUser(),this.item.idPegawaiLogin=this.authService.getDataLoginUser().pegawai.id,this.listPenulisResep=[{id:this.authService.getDataLoginUser().pegawai.id,namalengkap:this.authService.getDataLoginUser().pegawai.namaLengkap}],this.item.penulisResep=this.listPenulisResep[0],this.listRuangan=this.dataLogin.mapLoginUserToRuangan,this.loadDropdown(),this.loadColumn(),this.diffDays=1;var a=new Date(this.item.tglresep),e=new Date(this.item.tglresepAkhir);this.diffDays=e.getDate()-a.getDate(),this.diffDays=this.diffDays+1}},{key:"formatRupiah",value:function(t,a){return a+" "+parseFloat(t).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}},{key:"loadDropdown",value:function(){var t=this;this.apiService.get("emr/get-combo-resep-emr").subscribe(function(a){t.listAsalProduk=a.asalproduk,t.item.ruangan=a.ruanganfarmasi[1]})}},{key:"loadColumn",value:function(){this.columnGrid=[{field:"namaproduk",header:"Produk",width:"120px"},{field:"satuanstandar",header:"Satuan",width:"100px"},{field:"jumlah",header:"Jumlah",width:"150px"},{field:"keterangan",header:"Keterangan",width:"150px"}],this.columnRiwayat=[{field:"tglinput",header:"Tgl Input",width:"100px"},{field:"noalkes",header:"No Transaksi",width:"150px"},{field:"namalengkap",header:"Pegawai",width:"120px"},{field:"namaruangan",header:"Ruangan",width:"200px"}]}},{key:"handleChangeTab",value:function(t){this.indexTab=t.index,0==t.index||1==t.index&&this.loadRiwayat()}},{key:"loadRiwayat",value:function(){var t=this;this.apiService.get("emr/get-daftar-detail-alkes?noreg="+this.headData.noregistrasi).subscribe(function(a){for(var e=a.length-1;e>=0;e--)a[e].no=e+1;t.dataSourceRiwayat=a})}},{key:"filterProduk",value:function(t){var a=this;this.apiService.get("emr/get-produk-resep?namaproduk="+t.query).subscribe(function(t){a.listProduk=t})}},{key:"getSatuan",value:function(){null!=this.item.produk.id&&this.GETKONVERSI()}},{key:"GETKONVERSI",value:function(){var t=this;this.listSatuan=this.item.produk.konversisatuan,0==this.listSatuan.length&&(this.listSatuan=[{ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar}]),this.item.satuan={ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar},this.item.nilaiKonversi=1,null!=this.item.ruangan&&(this.statusTambah=!1,this.apiService.get("emr/get-produkdetail?produkfk="+this.item.produk.id+"&ruanganfk="+this.item.ruangan.id).subscribe(function(a){t.dataProdukDetail=a.detail,t.item.stok=a.jmlstok/t.item.nilaiKonversi,t.onChangeKonversi(),0==a.kekuatan&&(a.kekuatan=1),t.item.kekuatan=a.kekuatan,t.item.sediaan=a.sediaan,t.dataProdukDetail.length>0&&null!=t.dataSelected&&(t.item.jumlah=t.dataSelected.jumlah,t.item.hargaSatuan=t.dataSelected.hargasatuan,t.item.total=t.dataSelected.total,null!=t.item.kekuatan&&0!=t.item.kekuatan&&(t.item.jumlahxmakan=parseFloat(t.item.jumlah)/parseFloat(t.item.dosis)*parseFloat(t.item.kekuatan))),t.statusTambah=!0,t.gettotal()}))}},{key:"onChangeQty",value:function(t){this.item.jumlah=t.value,this.gettotal()}},{key:"onChangeJmlXMakan",value:function(t){null!=this.item.kekuatan&&0!=this.item.kekuatan||(this.item.kekuatan=1),this.item.jumlah=parseFloat(this.item.jumlahxmakan)*parseFloat(this.item.dosis)/parseFloat(this.item.kekuatan)}},{key:"onChangeKonversi",value:function(){this.item.stok=parseFloat(this.item.stok)*parseFloat(this.item.nilaiKonversi),this.item.jumlah=1,this.item.hargaSatuan=0,this.item.total=0}},{key:"getNilaiKonversi",value:function(){this.item.nilaiKonversi=this.item.satuan.nilaikonversi}},{key:"gettotal",value:function(){for(var t=!1,a=0;a<this.dataProdukDetail.length;a++)if(t=!1,this.item.jumlah*parseFloat(this.item.nilaiKonversi)>0){this.hrg1=Math.round(parseFloat(this.dataProdukDetail[a].hargajual)*parseFloat(this.item.nilaiKonversi)),this.item.hargaSatuan=parseFloat(this.hrg1),this.item.total=this.item.jumlah*this.hrg1,this.noTerima=this.dataProdukDetail[a].norec,t=!0;break}0==t&&(this.item.hargaSatuan=0,this.item.total=0,this.noTerima=""),0==this.item.jumlah&&(this.item.hargaSatuan=0)}},{key:"kosongkan",value:function(){this.dataSelected=void 0,delete this.item.produk,delete this.item.satuan,delete this.item.nilaiKonversi,delete this.item.sediaan,delete this.item.kekuatan,this.item.stok=0,this.item.jumlah=1,this.item.no=void 0,this.item.total=0,this.item.hargaSatuan=0,delete this.item.KeteranganPakai}},{key:"batal",value:function(){this.kosongkan()}},{key:"batalGrid",value:function(){this.kosongkan(),this.data2=[],this.dataSource=void 0}},{key:"hapusD",value:function(t){for(var a=this.data2.length-1;a>=0;a--)if(this.data2[a].no==t.no){for(this.data2.splice(a,1),a=this.data2.length-1;a>=0;a--)this.data2[a].no=a+1;this.dataSource=this.data2}this.kosongkan()}},{key:"editD",value:function(t){var a=this;if(0!=this.statusTambah){var e=[];this.dataSelected=t,this.item.no=t.no,this.item.jumlahxmakan=t.jumlahxmakan,this.item.KeteranganPakai=t.keterangan,this.item.asal={id:t.asalprodukfk,asalproduk:t.asalproduk},this.apiService.get("emr/get-produk-resep?idproduk="+t.produkfk).subscribe(function(i){a.listProduk=i;for(var n=a.listProduk.length-1;n>=0;n--)if(a.listProduk[n].id==t.produkfk){e=a.listProduk[n];break}a.item.produk=e,a.GETKONVERSI()})}}},{key:"save",value:function(){var t=this;if(0!=this.data2.length)if(null!=this.item.tglresep)if(null!=this.item.penulisResep){var a={strukorder:{norec:this.norecOrder,tglresep:l(this.item.tglresep).format("YYYY-MM-DD HH:mm"),penulisresepfk:this.item.penulisResep.id,ruanganfk:this.item.ruangan.id,noregistrasifk:this.headData.norec,qtyproduk:this.data2.length,noruangan:null!=this.item.noRuang?this.item.noRuang:null},orderfarmasi:this.data2};this.isSimpan=!0,this.apiService.post("emr/simpan-input-obat-alkes",{data:a}).subscribe(function(a){t.norecOrder="",t.apiService.postLog("Input Alkes Ruangan","Norec transaksialkestr",a.noresep.norec,"Simpan Input Alkes Ruangan No. Transaksi : "+a.noresep.noalkes+" dengan No Registrasi "+t.headData.noregistrasi).subscribe(function(t){}),t.isSimpan=!1,t.batalGrid(),t.disabledRuangan=!1,null!=t.item.noRuang&&t.cacheHelper.set("noRuangInputAlkes",t.item.noRuang)},function(a){t.isSimpan=!1})}else this.alertService.error("Info","Penginput Harus diisi!!");else this.alertService.error("Info","Tanggal Harus diisi!!");else this.alertService.error("Info","Pilih Produk terlebih dahulu!!")}},{key:"hapusAlkes",value:function(t){var a=this;null!=t?this.apiService.post("emr/hapus-input-obat-alkes",{norec:t.norec}).subscribe(function(t){a.loadRiwayat()}):this.alertService.error("Info","Tidak Belum Dipilih")}},{key:"editAlkes",value:function(t){var a=this;this.apiService.get("emr/get-daftar-detail-alkes?noalkes="+t.noalkes).subscribe(function(e){a.norecOrder=t.norec,a.item.resep=t.noalkes,a.item.ruangan={id:t.ruanganidfk,namaruangan:t.namaruangan},a.item.penulisResep={id:t.petugasidfk,namalengkap:t.namalengkap},a.item.tglresep=new Date(t.tglinput);for(var i=0;i<t.details.length;i++)t.details[i].no=1+i;a.data2=t.details,a.dataSource=a.data2;for(var n=0,s=a.data2.length-1;s>=0;s--)n+=parseFloat(a.data2[s].total);a.item.totalSubTotal=n,a.indexTab=0,a.handleChangeTab({index:a.indexTab})})}}])&&a(i.prototype,n),s&&a(i,s),e}(),G.\u0275fac=function(t){return new(t||G)(u.Jb(d.a),u.Jb(h.a),u.Jb(h.b),u.Jb(o.a),u.Jb(b.a),u.Jb(c.a),u.Jb(p.a),u.Jb(r.a),u.Jb(r.f))},G.\u0275cmp=u.Db({type:G,selectors:[["app-input-alkes-ruangan"]],features:[u.wb([o.a])],decls:81,vars:53,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[3,"activeIndex","onChange","activeIndexChange"],["header","Input Alkes/BHP Ruangan","leftIcon","fa fa-stethoscope"],[1,"p-grid"],[1,"p-col-12"],["header","Detail Ruangan",3,"toggleable"],[1,"p-col-12","p-md-4"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Pelayanan","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","ngModelChange"],["placeholder","Penulis","optionLabel","namalengkap",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["placeholder","Ruangan ","optionLabel","namaruangan","dataKey","id",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["header","Detail Alkes",3,"toggleable"],[1,"p-col-12","p-md-6"],["field","namaproduk","placeholder","Pilih Produk",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod","onSelect"],[1,"p-col-12","p-md-2"],["placeholder","Jumlah","inputId","stacked",3,"ngModel","showButtons","ngModelChange","onInput"],["placeholder","Satuan ","optionLabel","satuanstandar","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["type","text","pInputText","","placeholder","Keterangan",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-2","p-md-offset-8"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah","label","Tambah",1,"p-button","p-button-success","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-refresh","pTooltip","Batal","label","Batal",1,"p-button","p-button-warning","p-mr-2",3,"click"],["styleClass","p-datatable-customers","scrollable","true","dataKey","no",3,"value","columns","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["pTemplate","header"],["pTemplate","body"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan Data","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-refresh","pTooltip","Batal","label","Reset",1,"p-button","p-button-danger","p-mr-2",3,"click"],["header","Riwayat Input","leftIcon","fa fa-list"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec_order","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","rowexpansion"],[2,"width","80px"],[3,"style",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit Data","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Data","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[4,"ngIf"],[1,"table-header","p-grid"],[1,"p-col-12","p-md-3"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filter",3,"input"],[2,"width","150px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-2",3,"pRowToggler","icon"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Alkes","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit Alkes","label","",1,"p-button-rounded","p-mr-2",3,"click"],["colspan","8"],[1,"p-p-3"],["dataKey","norec_order",3,"value"]],template:function(t,a){1&t&&(u.Qb(0,"div",0),u.Qb(1,"div",1),u.Qb(2,"h4"),u.Jc(3,"Input Alkes/BHP Ruangan"),u.Pb(),u.Qb(4,"div",2),u.Qb(5,"p-tabView",3),u.Yb("onChange",function(t){return a.handleChangeTab(t)})("activeIndexChange",function(t){return a.indexTab=t}),u.Qb(6,"p-tabPanel",4),u.Qb(7,"div",5),u.Qb(8,"div",2),u.Qb(9,"div",5),u.Qb(10,"div",6),u.Qb(11,"p-panel",7),u.Qb(12,"div",2),u.Qb(13,"div",5),u.Qb(14,"div",8),u.Qb(15,"label",9),u.Jc(16,"Tanggal "),u.Pb(),u.Qb(17,"p-calendar",10),u.Yb("ngModelChange",function(t){return a.item.tglresep=t}),u.Pb(),u.Pb(),u.Qb(18,"div",8),u.Qb(19,"label",9),u.Jc(20,"Petugas "),u.Pb(),u.Qb(21,"p-dropdown",11),u.Yb("ngModelChange",function(t){return a.item.penulisResep=t}),u.Pb(),u.Pb(),u.Qb(22,"div",8),u.Qb(23,"label",9),u.Jc(24,"Ruangan "),u.Pb(),u.Qb(25,"p-dropdown",12),u.Yb("ngModelChange",function(t){return a.item.ruangan=t}),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(26,"div",6),u.Qb(27,"p-panel",13),u.Qb(28,"div",2),u.Qb(29,"div",5),u.Qb(30,"div",14),u.Qb(31,"label",9),u.Jc(32,"Produk "),u.Pb(),u.Qb(33,"p-autoComplete",15),u.Yb("ngModelChange",function(t){return a.item.produk=t})("completeMethod",function(t){return a.filterProduk(t)})("onSelect",function(){return a.getSatuan()}),u.Pb(),u.Pb(),u.Qb(34,"div",16),u.Qb(35,"label",9),u.Jc(36,"Qty Obat "),u.Pb(),u.Qb(37,"p-inputNumber",17),u.Yb("ngModelChange",function(t){return a.item.jumlah=t})("onInput",function(t){return a.onChangeQty(t)}),u.Pb(),u.Pb(),u.Qb(38,"div",8),u.Qb(39,"label",9),u.Jc(40,"Satuan "),u.Pb(),u.Qb(41,"p-dropdown",18),u.Yb("ngModelChange",function(t){return a.item.satuan=t})("onChange",function(){return a.getNilaiKonversi()}),u.Pb(),u.Pb(),u.Qb(42,"div",14),u.Qb(43,"label",9),u.Jc(44,"Keterangan "),u.Pb(),u.Qb(45,"input",19),u.Yb("ngModelChange",function(t){return a.item.KeteranganPakai=t}),u.Pb(),u.Pb(),u.Pb(),u.Qb(46,"div",5),u.Qb(47,"div",20),u.Qb(48,"button",21),u.Yb("click",function(){return a.tambah()}),u.Pb(),u.Pb(),u.Qb(49,"div",16),u.Qb(50,"button",22),u.Yb("click",function(){return a.batal()}),u.Pb(),u.Pb(),u.Pb(),u.Qb(51,"div",5),u.Qb(52,"div",8),u.Qb(53,"label"),u.Jc(54,"Konversi "),u.Qb(55,"b"),u.Jc(56),u.Pb(),u.Pb(),u.Pb(),u.Qb(57,"div",8),u.Qb(58,"label"),u.Jc(59,"Stok "),u.Qb(60,"b"),u.Jc(61),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Lb(62,"p-divider"),u.Qb(63,"div",5),u.Qb(64,"div",6),u.Qb(65,"p-table",23),u.Hc(66,T,3,1,"ng-template",24),u.Hc(67,K,5,1,"ng-template",25),u.Pb(),u.Pb(),u.Pb(),u.Qb(68,"div",5),u.Qb(69,"div",20),u.Qb(70,"button",26),u.Yb("click",function(){return a.save()}),u.Pb(),u.Pb(),u.Qb(71,"div",16),u.Qb(72,"button",27),u.Yb("click",function(){return a.batalGrid()}),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(73,"p-tabPanel",28),u.Qb(74,"div",5),u.Qb(75,"p-table",29,30),u.Yb("selectionChange",function(t){return a.selectedData=t}),u.Hc(77,I,5,0,"ng-template",31),u.Hc(78,H,3,1,"ng-template",24),u.Hc(79,$,6,3,"ng-template",25),u.Hc(80,N,6,1,"ng-template",32),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb()),2&t&&(u.xb(5),u.ic("activeIndex",a.indexTab),u.xb(6),u.ic("toggleable",!0),u.xb(6),u.ic("ngModel",a.item.tglresep)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1)("maxDate",a.maxDateValue),u.xb(4),u.ic("options",a.listPenulisResep)("ngModel",a.item.penulisResep)("filter",!0)("showClear",!0)("disabled",!0),u.xb(4),u.ic("options",a.listRuangan)("ngModel",a.item.ruangan)("filter",!0)("showClear",!0)("disabled",a.disabledRuangan),u.xb(2),u.ic("toggleable",!0),u.xb(6),u.ic("ngModel",a.item.produk)("suggestions",a.listProduk)("dropdown",!0),u.xb(4),u.ic("ngModel",a.item.jumlah)("showButtons",!0),u.xb(4),u.ic("options",a.listSatuan)("ngModel",a.item.satuan)("filter",!0)("showClear",!0),u.xb(4),u.ic("ngModel",a.item.KeteranganPakai),u.xb(3),u.ic("disabled",!a.statusTambah),u.xb(8),u.Kc(a.item.nilaiKonversi),u.xb(5),u.Kc(a.item.stok),u.xb(4),u.ic("value",a.dataSource)("columns",a.columnGrid)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",u.mc(50,V))("paginator",!0)("pageLinks",5),u.xb(5),u.ic("disabled",a.isSimpan),u.xb(5),u.ic("columns",a.columnRiwayat)("value",a.dataSourceRiwayat)("selection",a.selectedData)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",u.mc(51,V))("paginator",!0)("pageLinks",5)("globalFilterFields",u.mc(52,q)))},directives:[m.b,m.a,g.a,k.a,f.g,f.h,v.a,P.a,w.a,f.a,Q.a,y.b,S.a,x.a,C.h,o.k,s.k,s.l,C.g,C.f,R.a,C.d],styles:[""]}),G)}],_=((E=function a(){t(this,a)}).\u0275mod=u.Hb({type:E}),E.\u0275inj=u.Gb({factory:function(t){return new(t||E)},imports:[[r.j.forChild(X)],r.j]}),E),z=n("PCNd"),W=((U=function a(){t(this,a)}).\u0275mod=u.Hb({type:U}),U.\u0275inj=u.Gb({factory:function(t){return new(t||U)},imports:[[s.b,_,z.a]]}),U)}}])}();