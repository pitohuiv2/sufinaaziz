!function(){function a(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function e(a,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{bplo:function(n,i,t){"use strict";t.r(i),t.d(i,"PembayaranTagihanLayananModule",function(){return $});var l=t("ofXK"),r=t("tyNb"),o=t("7zfz"),b=t("1zoS"),c=t("wd/R"),p=t("fXoL"),s=t("EJUL"),d=t("U+s4"),u=t("G0w9"),g=t("ujBT"),h=t("7CaW"),m=t("3Pt+"),f=t("7kUa"),y=t("rEr+"),P=t("Nf9I"),v=t("jIHw"),x=t("xlun");function Q(a,e){if(1&a){var n=p.Sb();p.Qb(0,"div",6),p.Qb(1,"label",7),p.Jc(2,"No Registrasi "),p.Pb(),p.Qb(3,"input",9),p.Yb("ngModelChange",function(a){return p.yc(n),p.bc().item.pasien.noregistrasi=a}),p.Pb(),p.Pb()}if(2&a){var i=p.bc();p.xb(3),p.ic("ngModel",i.item.pasien.noregistrasi)}}function w(a,e){if(1&a){var n=p.Sb();p.Qb(0,"div",6),p.Qb(1,"label",7),p.Jc(2,"No Rekam Medis "),p.Pb(),p.Qb(3,"input",26),p.Yb("ngModelChange",function(a){return p.yc(n),p.bc().item.pasien.nocm=a}),p.Pb(),p.Pb()}if(2&a){var i=p.bc();p.xb(3),p.ic("ngModel",i.item.pasien.nocm)}}function M(a,e){if(1&a){var n=p.Sb();p.Qb(0,"div",6),p.Qb(1,"label",7),p.Jc(2,"Tgl Lahir "),p.Pb(),p.Qb(3,"input",27),p.Yb("ngModelChange",function(a){return p.yc(n),p.bc().item.pasien.tgllahir=a}),p.Pb(),p.Pb()}if(2&a){var i=p.bc();p.xb(3),p.ic("ngModel",i.item.pasien.tgllahir)}}function C(a,e){if(1&a){var n=p.Sb();p.Qb(0,"div",6),p.Qb(1,"label",7),p.Jc(2,"Umur "),p.Pb(),p.Qb(3,"input",9),p.Yb("ngModelChange",function(a){return p.yc(n),p.bc().item.pasien.umur=a}),p.Pb(),p.Pb()}if(2&a){var i=p.bc();p.xb(3),p.ic("ngModel",i.item.pasien.umur)}}function J(a,e){if(1&a){var n=p.Sb();p.Qb(0,"div",6),p.Qb(1,"label",7),p.Jc(2,"Alamat "),p.Pb(),p.Qb(3,"input",28),p.Yb("ngModelChange",function(a){return p.yc(n),p.bc().item.pasien.alamatlengkap=a}),p.Pb(),p.Pb()}if(2&a){var i=p.bc();p.xb(3),p.ic("ngModel",i.item.pasien.alamatlengkap)}}function T(a,e){if(1&a){var n=p.Sb();p.Qb(0,"div",6),p.Qb(1,"label",7),p.Jc(2,"Kelas "),p.Pb(),p.Qb(3,"input",9),p.Yb("ngModelChange",function(a){return p.yc(n),p.bc().item.pasien.namakelas=a}),p.Pb(),p.Pb()}if(2&a){var i=p.bc();p.xb(3),p.ic("ngModel",i.item.pasien.namakelas)}}function k(a,e){if(1&a){var n=p.Sb();p.Qb(0,"div",6),p.Qb(1,"label",7),p.Jc(2,"Ruangan "),p.Pb(),p.Qb(3,"input",9),p.Yb("ngModelChange",function(a){return p.yc(n),p.bc().item.pasien.namaruangan=a}),p.Pb(),p.Pb()}if(2&a){var i=p.bc();p.xb(3),p.ic("ngModel",i.item.pasien.namaruangan)}}function j(a,e){if(1&a&&(p.Qb(0,"th",30),p.Jc(1),p.Lb(2,"p-sortIcon",31),p.Pb()),2&a){var n=e.$implicit;p.Fc("width: ",n.width,""),p.jc("pSortableColumn",n.field),p.xb(1),p.Lc(" ",n.header," "),p.xb(1),p.jc("field",n.field)}}function S(a,e){if(1&a&&(p.Qb(0,"tr"),p.Hc(1,j,3,6,"th",29),p.Pb()),2&a){var n=e.$implicit;p.xb(1),p.ic("ngForOf",n)}}function D(a,e){if(1&a&&(p.Qb(0,"span"),p.Jc(1),p.Pb()),2&a){var n=p.bc().$implicit,i=p.bc().$implicit,t=p.bc();p.xb(1),p.Lc(" ",t.formatRupiah(i[n.field],"")," ")}}function I(a,e){if(1&a&&(p.Qb(0,"span"),p.Jc(1),p.Pb()),2&a){var n=p.bc().$implicit,i=p.bc().$implicit;p.xb(1),p.Lc(" ",i[n.field],"")}}function R(a,e){if(1&a&&(p.Qb(0,"td"),p.Hc(1,D,2,1,"span",34),p.Hc(2,I,2,1,"span",34),p.Pb()),2&a){var n=e.$implicit;p.Fc("width: ",n.width,""),p.xb(1),p.ic("ngIf",null!=n.isCurrency),p.xb(1),p.ic("ngIf",null==n.isCurrency)}}function L(a,e){if(1&a&&(p.Qb(0,"tr",32),p.Hc(1,R,3,5,"td",33),p.Pb()),2&a){var n=e.columns,i=e.rowIndex;p.ic("pSelectableRow",e.$implicit)("pSelectableRowIndex",i),p.xb(1),p.ic("ngForOf",n)}}var H,Y,B,N=function(){return[5,10,25,50]},K=function(){return{width:"50vw"}},F=[{path:"",component:(H=function(){function n(e,i,t,l,r,o,c,p,s){a(this,n),this.apiService=e,this.authService=i,this.confirmationService=t,this.messageService=l,this.cacheHelper=r,this.dateHelper=o,this.alertService=c,this.route=p,this.router=s,this.params={},this.item={pasien:{}},this.isClosing=!1,this.page=b.b.get().page,this.rows=b.b.get().rows}var i,t,l;return i=n,(t=[{key:"ngOnInit",value:function(){var a=this;this.route.params.subscribe(function(e){a.currentNorecSP=e.norec_sp,a.currentJenisLayanan=e.jenislayanan,a.jenisPelayan=e.jenislayanan,a.norec_sp=a.currentNorecSP,a.loadHead()})}},{key:"loadHead",value:function(){var a=this;null!=this.currentNorecSP&&null!=this.currentJenisLayanan?"layanan"==this.currentJenisLayanan?(this.column=[{field:"no",header:"No",width:"65px"},{field:"namaLayanan",header:"Layanan",width:"250px"},{field:"jumlah",header:"Jumlah",width:"100px"},{field:"harga",header:"Harga",width:"180px",isCurrency:!0},{field:"diskon",header:"Diskon",width:"180px",isCurrency:!0},{field:"total",header:"Total",width:"120px",isCurrency:!0}],this.apiService.get("general/get-pasien-bystrukpelayan-general?norec_sp="+this.currentNorecSP).subscribe(function(e){e.tgllahir=c(new Date(e.tgllahir)).format("YYYY-MM-DD"),e.umur=a.dateHelper.getUmur(new Date(e.tgllahir),new Date),a.item.pasien=e,a.item.pasien.jenispelayanan=a.currentJenisLayanan.toUpperCase(),a.loadDataDetail()})):(this.column=[{field:"no",header:"No",width:"65px"},{field:"namaLayanan",header:"Layanan",width:"250px"},{field:"keterangan",header:"Keterangan",width:"250px"},{field:"jumlah",header:"Jumlah",width:"100px"},{field:"qtyoranglast",header:"Jumlah Per Org/ Per Km",width:"200px"},{field:"harga",header:"Harga",width:"140px",isCurrency:!0},{field:"jasa",header:"Jasa",width:"140px",isCurrency:!0},{field:"total",header:"Total",width:"120px",isCurrency:!0}],this.apiService.get("general/get-pasien-nonlayanan-general?norec_sp="+this.currentNorecSP).subscribe(function(e){e.tgllahir=c(new Date(e.tgllahir)).format("YYYY-MM-DD"),e.umur=a.dateHelper.getUmur(new Date(e.tgllahir),new Date),a.item.pasien=e,a.item.pasien.jenispelayanan=a.currentJenisLayanan.toUpperCase(),a.loadDataDetail()})):this.alertService.error("Info","Data Tidak Ditemukan!")}},{key:"formatRupiah",value:function(a,e){return e+" "+parseFloat(a).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}},{key:"loadDataDetail",value:function(){var a=this;"layanan"==this.currentJenisLayanan?this.apiService.get("kasir/detail-tagihan-pasien-layanan?norec_sp="+this.norec_sp).subscribe(function(e){var n,i=e.detailTagihan,t=0,l=0;a.item.deposit=a.formatRupiah(e.totalDeposit,"Rp."),a.totalDeposit=parseFloat(e.totalDeposit);for(var r=0;r<i.length;r++){var o=i[r];o.no=r+1,l+=o.total}null!=e.totalPenjamin&&(t=parseFloat(e.totalPenjamin)),n=l-a.totalDeposit-t,a.item.billing=a.formatRupiah(l,"Rp."),a.item.jumlahBayar=a.formatRupiah(n,"Rp."),a.item.totalKlaim=a.formatRupiah(t,"Rp."),a.totalBilling=l,a.totalBayar=n,a.totalKlaim=t,a.dataTable=i}):this.apiService.get("kasir/detail-tagihan-non-layanan?norec_sp="+this.norec_sp).subscribe(function(e){for(var n,i=e.detailTagihan,t=0,l=0;l<i.length;l++){var r=i[l];r.no=l+1,t+=r.total}n=t,a.item.billing=a.formatRupiah(t,"Rp."),a.item.jumlahBayar=a.formatRupiah(n,"Rp."),a.item.totalKlaim=a.formatRupiah(0,"Rp."),a.totalBilling=t,a.totalBayar=n,a.totalKlaim=0,a.item.deposit=a.formatRupiah(0,"Rp."),a.totalDeposit=parseFloat(0),a.dataTable=i})}},{key:"Batal",value:function(){this.router.navigate(["daftar-pasien-pulang"])}},{key:"bayarTagihan",value:function(){null!=this.norec_sp?this.router.navigate("layanan"==this.currentJenisLayanan?["bayar-tagihan-pasien",this.norec_sp,"tagihanPasien",this.totalBayar]:["bayar-tagihan-pasien",this.norec_sp,"pembayaranNonLayanan",this.totalBayar]):this.alertService.warn("Info","Data Tidak Ditemukan!")}},{key:"changeKlaim",value:function(a){}}])&&e(i.prototype,t),l&&e(i,l),n}(),H.\u0275fac=function(a){return new(a||H)(p.Jb(s.a),p.Jb(s.b),p.Jb(o.a),p.Jb(o.h),p.Jb(d.a),p.Jb(u.a),p.Jb(g.a),p.Jb(r.a),p.Jb(r.f))},H.\u0275cmp=p.Db({type:H,selectors:[["app-pembayaran-tagihan-layanan"]],features:[p.wb([o.a])],decls:69,vars:31,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-3"],["header","Data Pasien",3,"toggleable"],["class","p-col-12 p-md-12",4,"ngIf"],[1,"p-col-12","p-md-12"],["for","input",1,"label"],["type","text","pInputText","","placeholder","Nama Pasien","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-9"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"p-col-12","p-md-6"],["header","Tagihan",3,"toggleable"],["type","text","pInputText","","placeholder","Total Tagihan Verifikasi","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Total Deposit","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Total Klaim","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Total Bayar","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-8"],[1,"p-col-12","p-md-2",2,"margin-top","15px"],["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],["pButton","","type","submit","icon","fa fa-money","pTooltip","Bayar","label","Bayar",3,"click"],["pButton","","type","submit","icon","fa fa-ban","pTooltip","Batal","label","Batal",2,"background-color","red",3,"click"],["type","text","pInputText","","placeholder","No Rekam Medis","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Tgl Lahir","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Alamat","disabled","",3,"ngModel","ngModelChange"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(a,e){1&a&&(p.Qb(0,"div",0),p.Qb(1,"div",1),p.Qb(2,"h4"),p.Jc(3,"Pembayaran Tagihan Layanan"),p.Pb(),p.Qb(4,"div",2),p.Qb(5,"div",3),p.Qb(6,"p-panel",4),p.Qb(7,"div",2),p.Hc(8,Q,4,1,"div",5),p.Hc(9,w,4,1,"div",5),p.Qb(10,"div",6),p.Qb(11,"label",7),p.Jc(12,"Nama Pasien "),p.Pb(),p.Qb(13,"input",8),p.Yb("ngModelChange",function(a){return e.item.pasien.namapasien=a}),p.Pb(),p.Pb(),p.Qb(14,"div",6),p.Qb(15,"label",7),p.Jc(16,"Tgl Registrasi "),p.Pb(),p.Qb(17,"input",9),p.Yb("ngModelChange",function(a){return e.item.pasien.tglregistrasi=a}),p.Pb(),p.Pb(),p.Hc(18,M,4,1,"div",5),p.Hc(19,C,4,1,"div",5),p.Hc(20,J,4,1,"div",5),p.Hc(21,T,4,1,"div",5),p.Hc(22,k,4,1,"div",5),p.Qb(23,"div",6),p.Qb(24,"label",7),p.Jc(25,"Jenis Pelayanan "),p.Pb(),p.Qb(26,"input",9),p.Yb("ngModelChange",function(a){return e.item.pasien.jenispelayanan=a}),p.Pb(),p.Pb(),p.Qb(27,"div",6),p.Qb(28,"label",7),p.Jc(29,"Nomor Tagihan"),p.Pb(),p.Qb(30,"input",9),p.Yb("ngModelChange",function(a){return e.item.pasien.nostruk=a}),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(31,"div",10),p.Qb(32,"div",2),p.Qb(33,"div",6),p.Qb(34,"p-table",11,12),p.Yb("selectionChange",function(a){return e.selected=a}),p.Hc(36,S,2,1,"ng-template",13),p.Hc(37,L,2,3,"ng-template",14),p.Pb(),p.Pb(),p.Qb(38,"div",6),p.Qb(39,"div",2),p.Lb(40,"div",15),p.Qb(41,"div",15),p.Qb(42,"p-panel",16),p.Qb(43,"div",6),p.Qb(44,"div",2),p.Qb(45,"div",15),p.Qb(46,"label",7),p.Jc(47,"Total Tagihan Verifikasi"),p.Pb(),p.Qb(48,"input",17),p.Yb("ngModelChange",function(a){return e.item.billing=a}),p.Pb(),p.Pb(),p.Qb(49,"div",15),p.Qb(50,"label",7),p.Jc(51,"Total Deposit"),p.Pb(),p.Qb(52,"input",18),p.Yb("ngModelChange",function(a){return e.item.deposit=a}),p.Pb(),p.Pb(),p.Qb(53,"div",15),p.Qb(54,"label",7),p.Jc(55,"Total Klaim"),p.Pb(),p.Qb(56,"input",19),p.Yb("ngModelChange",function(a){return e.item.totalKlaim=a})("ngModelChange",function(){return e.changeKlaim(e.item.totalKlaim)}),p.Pb(),p.Pb(),p.Qb(57,"div",15),p.Qb(58,"label",7),p.Jc(59,"Total Bayar"),p.Pb(),p.Qb(60,"input",20),p.Yb("ngModelChange",function(a){return e.item.jumlahBayar=a}),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(61,"div",6),p.Qb(62,"div",2),p.Lb(63,"div",21),p.Qb(64,"div",22),p.Lb(65,"p-confirmDialog",23),p.Qb(66,"button",24),p.Yb("click",function(){return e.bayarTagihan()}),p.Pb(),p.Pb(),p.Qb(67,"div",22),p.Qb(68,"button",25),p.Yb("click",function(){return e.Batal()}),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb()),2&a&&(p.xb(6),p.ic("toggleable",!0),p.xb(2),p.ic("ngIf","layanan"==e.jenisPelayan),p.xb(1),p.ic("ngIf","layanan"==e.jenisPelayan),p.xb(4),p.ic("ngModel",e.item.pasien.namapasien),p.xb(4),p.ic("ngModel",e.item.pasien.tglregistrasi),p.xb(1),p.ic("ngIf","layanan"==e.jenisPelayan),p.xb(1),p.ic("ngIf","layanan"==e.jenisPelayan),p.xb(1),p.ic("ngIf","layanan"==e.jenisPelayan),p.xb(1),p.ic("ngIf","layanan"==e.jenisPelayan),p.xb(1),p.ic("ngIf","layanan"==e.jenisPelayan),p.xb(4),p.ic("ngModel",e.item.pasien.jenispelayanan),p.xb(4),p.ic("ngModel",e.item.pasien.nostruk),p.xb(4),p.ic("columns",e.column)("value",e.dataTable)("selection",e.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",p.mc(29,N))("paginator",!0)("pageLinks",5),p.xb(8),p.ic("toggleable",!0),p.xb(6),p.ic("ngModel",e.item.billing),p.xb(4),p.ic("ngModel",e.item.deposit),p.xb(4),p.ic("ngModel",e.item.totalKlaim),p.xb(4),p.ic("ngModel",e.item.jumlahBayar),p.xb(5),p.Ec(p.mc(30,K)),p.ic("baseZIndex",1e4))},directives:[h.a,l.l,m.a,f.a,m.g,m.h,y.h,o.k,P.a,v.b,x.a,l.k,y.g,y.f,y.e],styles:[""]}),H)}],_=((Y=function e(){a(this,e)}).\u0275mod=p.Hb({type:Y}),Y.\u0275inj=p.Gb({factory:function(a){return new(a||Y)},imports:[[r.j.forChild(F)],r.j]}),Y),O=t("PCNd"),$=((B=function e(){a(this,e)}).\u0275mod=p.Hb({type:B}),B.\u0275inj=p.Gb({factory:function(a){return new(a||B)},imports:[[l.b,_,O.a]]}),B)}}])}();