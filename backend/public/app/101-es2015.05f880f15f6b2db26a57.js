(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{t8iL:function(e,i,t){"use strict";t.r(i),t.d(i,"DaftarPasienTerdaftarModule",function(){return Y});var a=t("ofXK"),n=t("tyNb"),o=t("7zfz"),l=t("wd/R"),r=t("fXoL"),s=t("EJUL"),p=t("G0w9"),b=t("U+s4"),d=t("ujBT"),c=t("RTT/"),h=t("3Pt+"),m=t("7kUa"),u=t("eO1q"),g=t("jIHw"),P=t("xlun"),f=t("rEr+"),v=t("/RsI"),w=t("arFO"),M=t("zFJ7");function Q(e,i){if(1&e&&(r.Qb(0,"th",36),r.Jc(1),r.Lb(2,"p-sortIcon",37),r.Pb()),2&e){const e=i.$implicit;r.Fc("width: ",e.width,""),r.jc("pSortableColumn",e.field),r.xb(1),r.Lc(" ",e.header," "),r.xb(1),r.jc("field",e.field)}}function x(e,i){if(1&e&&(r.Qb(0,"tr"),r.Qb(1,"th",34),r.Jc(2,"Aksi"),r.Pb(),r.Hc(3,Q,3,6,"th",35),r.Pb()),2&e){const e=i.$implicit;r.xb(3),r.ic("ngForOf",e)}}function y(e,i){if(1&e&&(r.Qb(0,"td"),r.Jc(1),r.Pb()),2&e){const e=i.$implicit,t=r.bc().$implicit;r.Fc("width: ",e.width,""),r.xb(1),r.Lc(" ",t[e.field]," ")}}function T(e,i){if(1&e){const e=r.Sb();r.Qb(0,"tr",38),r.Qb(1,"td",34),r.Qb(2,"button",39),r.Yb("click",function(){r.yc(e);const t=i.$implicit;return r.bc().popUpTriasePasienBaru2(t)}),r.Pb(),r.Qb(3,"button",40),r.Yb("click",function(){r.yc(e);const t=i.$implicit;return r.bc().inputTriase2(t)}),r.Pb(),r.Pb(),r.Hc(4,y,2,4,"td",41),r.Pb()}if(2&e){const e=i.columns,t=i.rowIndex;r.ic("pSelectableRow",i.$implicit)("pSelectableRowIndex",t),r.xb(4),r.ic("ngForOf",e)}}const k=function(){return[5,10,25,50]},J=function(){return{width:"800px",minWidth:"800px"}},S=function(){return{minHeight:"300px"}},C=[{path:"",component:(()=>{class e{constructor(e,i,t,a,n,o,l,r,s){this.apiService=e,this.authService=i,this.confirmationService=t,this.messageService=a,this.router=n,this.DateHelper=o,this.cacheHelper=l,this.alertService=r,this.route=s,this.rows=50,this.pencarian="",this.item={},this.itemD={},this.now=new Date,this.isSimpan=!1}ngOnInit(){this.column=[{field:"no",header:"No",width:"65px"},{field:"nocm",header:"No RM",width:"80px"},{field:"noidentitas",header:"NIK",width:"140px"},{field:"nobpjs",header:"No BPJS",width:"140px"},{field:"namapasien",header:"Nama Pasien",width:"250px"},{field:"jeniskelamin",header:"Jenis Kelamin",width:"100px"},{field:"namaayah",header:"Nama Ayah Kandung",width:"180px"},{field:"tgllahir",header:"Tgl Lahir",width:"140px"},{field:"alamatlengkap",header:"Alamat",width:"220px"},{field:"nohp",header:"No Hp",width:"100px"},{field:"statuspasien",header:"Status Pasien",width:"140px"}],this.getData(this.page,this.rows,this.sortField,this.sortOrder,""),this.combo()}getData(e,i,t,a,n){this.loading=!0,null==t&&(t=""),this.apiService.get("registrasi/get-pasien?"+this.pencarian+"&sortfield="+t+"&sortorder="+a+"&page="+e+"&rows="+i).subscribe(e=>{this.loading=!0;for(let i=0;i<e.daftar.length;i++){const t=e.daftar[i];t.no=i+1,t.tgllahir=l(new Date(t.tgllahir)).format("DD-MM-YYYY"),null==t.tglmeninggal?(t.statuspasien="Hidup",t.color="info"):(t.statuspasien="Meninggal",t.color="danger")}this.dataTable=e.daftar,this.totalRecords=e.totalRow})}combo(){this.apiService.get("registrasi/get-combo-registrasi").subscribe(e=>{this.listJenisKelamin=e.jeniskelamin})}cari(){var e="";null!=this.item.noRM&&(e="&norm="+this.item.noRM);var i="";null!=this.item.namaPasien&&(i="&namaPasien="+this.item.namaPasien);var t="";null!=this.item.namaAyah&&(t="&namaAyah="+this.item.namaAyah);var a="";null!=this.item.alamat&&(a="&alamat="+this.item.alamat);var n="";null!=this.item.nik&&(n="nik="+this.item.nik);var o="";null!=this.item.noBPJS&&(o="&bpjs="+this.item.noBPJS),null!=this.item.namaAyah&&(t="&namaAyah="+this.item.namaAyah);var r="";null!=this.item.tglLahir&&(r="tglLahir="+l(new Date(this.item.tglLahir)).format("YYYY-MM-DD")),this.pencarian=n+r+e+i+t+a+o,this.getData(this.page,this.rows,this.sortField,this.sortOrder,this.pencarian)}findSelectedIndex(){return this.dataTable.indexOf(this.selected)}loadLazy(e){this.getData(e.first,e.rows,e.sortField,e.sortOrder,this.pencarian),this.page=e.first,this.rows=e.rows,this.sortField=e.sortField,this.sortOrder=e.sortOrder}onRowSelect(e){this.selected=e.data}popUpTriasePasienBaru(){this.isSimpan=!1,this.item.tglLahir=this.now,this.pop_DataPasien=!0}popUpTriasePasienBaru2(e){this.isSimpan=!1,this.item.tglLahir=this.now,this.pop_DataPasien=!0}tutupPasienTriase(){this.item.namaPasien=void 0,this.item.jenisKelamin=void 0,this.item.tempatLahir=void 0,this.item.Notelepon=void 0,this.item.Alamat=void 0,this.item.tglLahir=this.now,this.pop_DataPasien=!1}simpanPasienTriase(){if(this.isSimpan=!0,null!=this.item.namaPasien)if(null!=this.item.jenisKelamin)if(null!=this.item.tglLahir){var e={idpasien:"",namapasien:this.item.namaPasien,jeniskelamin:this.item.jenisKelamin.id,tgllahir:l(this.item.tglLahir).format("YYYY-MM-DD HH:mm"),tempatlahir:null!=this.item.tempatLahir?this.item.tempatLahir:null,nohp:null!=this.item.Notelepon?this.item.Notelepon:null,alamat:null!=this.item.Alamat?this.item.Alamat:null};this.apiService.post("registrasi/simpan-pasien-triase",e).subscribe(e=>{this.apiService.postLog("Simpan Pasien Baru Triase","id Triase Pasien",e.data.id,"Simpan Pasien Baru Triase dengan Nama Pasien "+e.data.namapasien).subscribe(e=>{}),this.router.navigate(["rekam-medis-igd",e.data.id,"pasienTriase"])})}else this.alertService.warn("Info","Tanggal Lahir Belum Diisi");else this.alertService.warn("Info","Jenis Kelamin Belum Diisi");else this.alertService.warn("Info","Nama Pasien Belum Diisi")}inputTriase(){null!=this.selected?this.router.navigate(["rekam-medis-igd",this.selected.nocm,"pasienTerdaftar"]):this.alertService.warn("Info,","Data Belum Dipilih!")}inputTriase2(e){this.router.navigate(["rekam-medis-igd",e.nocm,"pasienTerdaftar"])}}return e.\u0275fac=function(i){return new(i||e)(r.Jb(s.a),r.Jb(s.b),r.Jb(o.a),r.Jb(o.h),r.Jb(n.f),r.Jb(p.a),r.Jb(b.a),r.Jb(d.a),r.Jb(n.a))},e.\u0275cmp=r.Db({type:e,selectors:[["app-daftar-pasien-terdaftar"]],features:[r.wb([o.a])],decls:75,vars:45,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-2","p-md-offset-1"],["for","input",1,"label"],["type","text","pInputText","","placeholder","No Rekam Medis",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col","p-md-2"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","NIK",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","No BPJS ",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-2"],["yearRange","1980:2030","dateFormat","dd-mm-yy",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["type","text","pInputText","","placeholder","Alamat ",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1",2,"margin-top","15px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["header","Data Pasien",3,"visible","modal","maximizable","draggable","resizable","contentStyle","visibleChange"],[1,"p-col-12","p-md-12"],[1,"p-col-12","p-md-4"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange"],["placeholder","Jenis Kelamin","optionLabel","jeniskelamin","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Tempat Lahir","appendTo","body",3,"ngModel","ngModelChange"],["yearRange","1980:2030","dateFormat","yy-mm-dd","hourFormat","24","placeholder","Tgl Registrasi","appendTo","body",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","disabled","ngModelChange"],["type","text","pInputText","","placeholder","No Telepon","appendTo","body",3,"ngModel","ngModelChange"],["pInputTextarea","","placeholder","Alamat",2,"height","85px",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-8"],[1,"p-col-12","p-md-2",2,"margin-top","15px"],["pButton","","type","submit","icon","fa fa-floppy-o","pTooltip","Simpan","label","Simpan",3,"disabled","click"],["pButton","","type","submit","icon","fa fa-times-circle-o","pTooltip","Tutup","label","Tutup",2,"background-color","red",3,"click"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],["pButton","","type","button","icon","fa fa-stethoscope","pTooltip","Input Triase Pasien Baru","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","fa fa-medkit","pTooltip","Input Triase Pasien","label","",1,"p-button-rounded","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(r.Lb(0,"p-confirmPopup"),r.Qb(1,"div",0),r.Qb(2,"div",1),r.Qb(3,"h4"),r.Jc(4,"Pasien List"),r.Pb(),r.Qb(5,"div",2),r.Qb(6,"div",3),r.Qb(7,"label",4),r.Jc(8,"No RM "),r.Pb(),r.Qb(9,"input",5),r.Yb("ngModelChange",function(e){return i.item.noRM=e})("keyup.enter",function(){return i.cari()}),r.Pb(),r.Pb(),r.Qb(10,"div",6),r.Qb(11,"label",4),r.Jc(12,"Nama Pasien "),r.Pb(),r.Qb(13,"input",7),r.Yb("ngModelChange",function(e){return i.item.namaPasien=e})("keyup.enter",function(){return i.cari()}),r.Pb(),r.Pb(),r.Qb(14,"div",8),r.Qb(15,"label",4),r.Jc(16,"NIK "),r.Pb(),r.Qb(17,"input",9),r.Yb("ngModelChange",function(e){return i.item.nik=e})("keyup.enter",function(){return i.cari()}),r.Pb(),r.Pb(),r.Qb(18,"div",8),r.Qb(19,"label",4),r.Jc(20,"No BPJS "),r.Pb(),r.Qb(21,"input",10),r.Yb("ngModelChange",function(e){return i.item.noBPJS=e})("keyup.enter",function(){return i.cari()}),r.Pb(),r.Pb(),r.Qb(22,"div",11),r.Qb(23,"label",4),r.Jc(24,"Tgl Lahir "),r.Pb(),r.Qb(25,"p-calendar",12),r.Yb("ngModelChange",function(e){return i.item.tglLahir=e}),r.Pb(),r.Pb(),r.Qb(26,"div",11),r.Qb(27,"label",4),r.Jc(28,"Alamat "),r.Pb(),r.Qb(29,"input",13),r.Yb("ngModelChange",function(e){return i.item.alamat=e})("keyup.enter",function(){return i.cari()}),r.Pb(),r.Pb(),r.Qb(30,"div",14),r.Qb(31,"button",15),r.Yb("click",function(){return i.cari()}),r.Pb(),r.Pb(),r.Pb(),r.Qb(32,"div",16),r.Qb(33,"p-table",17,18),r.Yb("selectionChange",function(e){return i.selected=e}),r.Hc(35,x,4,1,"ng-template",19),r.Hc(36,T,5,3,"ng-template",20),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(37,"p-dialog",21),r.Yb("visibleChange",function(e){return i.pop_DataPasien=e}),r.Qb(38,"div",0),r.Qb(39,"div",2),r.Qb(40,"div",22),r.Qb(41,"div",2),r.Qb(42,"div",23),r.Qb(43,"label",4),r.Jc(44,"Nama Pasien "),r.Pb(),r.Qb(45,"input",24),r.Yb("ngModelChange",function(e){return i.item.namaPasien=e}),r.Pb(),r.Pb(),r.Qb(46,"div",11),r.Qb(47,"label",4),r.Jc(48,"Jenis Kelamin"),r.Pb(),r.Qb(49,"p-dropdown",25),r.Yb("ngModelChange",function(e){return i.item.jenisKelamin=e}),r.Pb(),r.Pb(),r.Qb(50,"div",11),r.Qb(51,"label",4),r.Jc(52,"Tempat Lahir "),r.Pb(),r.Qb(53,"input",26),r.Yb("ngModelChange",function(e){return i.item.tempatLahir=e}),r.Pb(),r.Pb(),r.Qb(54,"div",11),r.Qb(55,"label",4),r.Jc(56,"Tanggal Lahir "),r.Pb(),r.Qb(57,"p-calendar",27),r.Yb("ngModelChange",function(e){return i.item.tglLahir=e}),r.Pb(),r.Pb(),r.Qb(58,"div",11),r.Qb(59,"label",4),r.Jc(60,"Notelepon"),r.Pb(),r.Qb(61,"input",28),r.Yb("ngModelChange",function(e){return i.item.Notelepon=e}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(62,"div",22),r.Qb(63,"div",2),r.Qb(64,"div",22),r.Qb(65,"label",4),r.Jc(66,"Alamat "),r.Pb(),r.Qb(67,"textarea",29),r.Yb("ngModelChange",function(e){return i.item.Alamat=e}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(68,"div",22),r.Qb(69,"div",2),r.Lb(70,"div",30),r.Qb(71,"div",31),r.Qb(72,"button",32),r.Yb("click",function(){return i.simpanPasienTriase()}),r.Pb(),r.Pb(),r.Qb(73,"div",31),r.Qb(74,"button",33),r.Yb("click",function(){return i.tutupPasienTriase()}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.xb(9),r.ic("ngModel",i.item.noRM),r.xb(4),r.ic("ngModel",i.item.namaPasien),r.xb(4),r.ic("ngModel",i.item.nik),r.xb(4),r.ic("ngModel",i.item.noBPJS),r.xb(4),r.ic("ngModel",i.item.tglLahir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),r.xb(4),r.ic("ngModel",i.item.alamat),r.xb(4),r.ic("columns",i.column)("value",i.dataTable)("selection",i.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",r.mc(42,k))("paginator",!0)("pageLinks",5),r.xb(4),r.Ec(r.mc(43,J)),r.ic("visible",i.pop_DataPasien)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0)("contentStyle",r.mc(44,S)),r.xb(8),r.ic("ngModel",i.item.namaPasien),r.xb(4),r.ic("options",i.listJenisKelamin)("ngModel",i.item.jenisKelamin)("filter",!0)("showClear",!0),r.xb(4),r.ic("ngModel",i.item.tempatLahir),r.xb(4),r.ic("ngModel",i.item.tglLahir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1)("disabled",i.isTglRegistrasi),r.xb(4),r.ic("ngModel",i.item.Notelepon),r.xb(6),r.ic("ngModel",i.item.Alamat),r.xb(5),r.ic("disabled",i.isSimpan))},directives:[c.a,h.a,m.a,h.g,h.h,u.a,g.b,P.a,f.h,o.k,v.a,w.a,M.a,a.k,f.g,f.f,f.e],styles:[""]}),e})()}];let L=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(i){return new(i||e)},imports:[[n.j.forChild(C)],n.j]}),e})();var N=t("PCNd");let Y=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(i){return new(i||e)},imports:[[a.b,L,N.a]]}),e})()}}]);