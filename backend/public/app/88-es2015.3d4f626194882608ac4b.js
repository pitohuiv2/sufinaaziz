(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{qNTz:function(a,t,e){"use strict";e.r(t),e.d(t,"AntrolDashboardModule",function(){return D});var i=e("ofXK"),n=e("tyNb"),o=e("wd/R"),l=e("fXoL"),r=e("EJUL"),d=e("ujBT"),s=e("7LiV"),b=e("eO1q"),p=e("3Pt+"),c=e("arFO"),u=e("jIHw"),h=e("xlun"),g=e("rEr+"),k=e("7zfz"),m=e("7kUa");function w(a,t){if(1&a&&(l.Qb(0,"th",34),l.Jc(1),l.Lb(2,"p-sortIcon",35),l.Pb()),2&a){const a=t.$implicit;l.Fc("width: ",a.width,""),l.jc("pSortableColumn",a.field),l.xb(1),l.Lc(" ",a.header," "),l.xb(1),l.jc("field",a.field)}}function f(a,t){if(1&a&&(l.Qb(0,"tr"),l.Hc(1,w,3,6,"th",33),l.Pb()),2&a){const a=t.$implicit;l.xb(1),l.ic("ngForOf",a)}}function P(a,t){if(1&a&&(l.Qb(0,"td"),l.Qb(1,"span",38),l.Jc(2),l.Pb(),l.Jc(3),l.Pb()),2&a){const a=t.$implicit,e=l.bc().$implicit;l.Fc("width: ",a.width,""),l.xb(2),l.Lc(" ",a.header," "),l.xb(1),l.Lc(" ",e[a.field]," ")}}function Q(a,t){if(1&a&&(l.Qb(0,"tr",36),l.Hc(1,P,4,5,"td",37),l.Pb()),2&a){const a=t.columns,e=t.rowIndex;l.ic("pSelectableRow",t.$implicit)("pSelectableRowIndex",e),l.xb(1),l.ic("ngForOf",a)}}function v(a,t){if(1&a&&(l.Qb(0,"th",34),l.Jc(1),l.Lb(2,"p-sortIcon",35),l.Pb()),2&a){const a=t.$implicit;l.Fc("width: ",a.width,""),l.jc("pSortableColumn",a.field),l.xb(1),l.Lc(" ",a.header," "),l.xb(1),l.jc("field",a.field)}}function x(a,t){if(1&a&&(l.Qb(0,"tr"),l.Hc(1,v,3,6,"th",33),l.Pb()),2&a){const a=t.$implicit;l.xb(1),l.ic("ngForOf",a)}}function S(a,t){if(1&a&&(l.Qb(0,"td"),l.Qb(1,"span",38),l.Jc(2),l.Pb(),l.Jc(3),l.Pb()),2&a){const a=t.$implicit,e=l.bc().$implicit;l.Fc("width: ",a.width,""),l.xb(2),l.Lc(" ",a.header," "),l.xb(1),l.Lc(" ",e[a.field]," ")}}function M(a,t){if(1&a&&(l.Qb(0,"tr",36),l.Hc(1,S,4,5,"td",37),l.Pb()),2&a){const a=t.columns,e=t.rowIndex;l.ic("pSelectableRow",t.$implicit)("pSelectableRowIndex",e),l.xb(1),l.ic("ngForOf",a)}}const y=function(){return[5,10,25,50]},J=[{path:"",component:(()=>{class a{constructor(a,t){this.apiService=a,this.alertService=t,this.item={now:o(new Date).format("YYYY-MM-DD"),tglAwal:new Date,tglAkhir:new Date,tahun:(new Date).getFullYear(),tglperiksa:new Date},this.sisa={},this.dataSource=[],this.column=[],this.listPoli=[],this.listDokter=[],this.listBulan=[{kode:"01",nama:"JANUARI"},{kode:"02",nama:"FEBRUARI"},{kode:"03",nama:"MARET"},{kode:"04",nama:"APRIL"},{kode:"05",nama:"MEI"},{kode:"06",nama:"JUNI"},{kode:"08",nama:"JULI"},{kode:"09",nama:"AGUSTUS"},{kode:"10",nama:"SEPTEMBER"},{kode:"11",nama:"NOVEMBER"},{kode:"12",nama:"DESEMBER"}],this.add={},this.selected={},this.dataSource2=[],this.column2=[],this.data2=[],this.listWaktu=[{nama:"rs"},{nama:"server"}]}ngOnInit(){this.apiService.get("bridging/antrean/get-combo").subscribe(a=>{this.listDokter=a.dokter,this.listPoli=a.ruangan}),this.apiService.get("bridging/bpjs/get-ref-dokter-dpjp?jenisPelayanan=1&tglPelayanan="+o(new Date).format("YYYY-MM-DD")+"&kodeSpesialis=IGD").subscribe(a=>{200==a.metaData.code?this.listDokterHFIS=a.response.list:this.alertService.info("Info","Dokter DPJP tidak ada")}),this.column=[{field:"kdppk",header:"Kode Faskes",width:"80px"},{field:"nmppk",header:"Faskes",width:"200px"},{field:"tanggal",header:"Tanggal",width:"100px"},{field:"jumlah_antrean",header:"Jumlah Antrean",width:"100px"},{field:"namapoli",header:"Poli",width:"200px"},{field:"waktu_task1",header:"Waktu tunggu admisi",width:"100px"},{field:"avg_waktu_task1",header:"Rata2 Waktu tunggu admisi",width:"100px"},{field:"waktu_task2",header:"Waktu layan admisi",width:"100px"},{field:"avg_waktu_task2",header:"Rata2 Waktu layan admisi",width:"100px"},{field:"waktu_task3",header:"Waktu tunggu poli",width:"100px"},{field:"avg_waktu_task3",header:"Rata2 Waktu tunggu poli",width:"100px"},{field:"waktu_task4",header:"Waktu layan poli",width:"100px"},{field:"avg_waktu_task4",header:"Rata2 Waktu layan Poli",width:"100px"},{field:"waktu_task5",header:"Waktu layan poli",width:"100px"},{field:"avg_waktu_task5",header:"Rata2 Waktu tunggu farmasi",width:"100px"},{field:"waktu_task6",header:"Waktu layan farmasi",width:"100px"},{field:"avg_waktu_task6",header:"Rata2 Waktu layan farmasi",width:"100px"},{field:"insertdate",header:"Update",width:"100px"}],this.column2=[{field:"kdppk",header:"Kode Faskes",width:"80px"},{field:"nmppk",header:"Faskes",width:"200px"},{field:"tanggal",header:"Tanggal",width:"100px"},{field:"jumlah_antrean",header:"Jumlah Antrean",width:"100px"},{field:"namapoli",header:"Poli",width:"200px"},{field:"waktu_task1",header:"Waktu tunggu admisi",width:"100px"},{field:"avg_waktu_task1",header:"Rata2 Waktu tunggu admisi",width:"100px"},{field:"waktu_task2",header:"Waktu layan admisi",width:"100px"},{field:"avg_waktu_task2",header:"Rata2 Waktu layan admisi",width:"100px"},{field:"waktu_task3",header:"Waktu tunggu poli",width:"100px"},{field:"avg_waktu_task3",header:"Rata2 Waktu tunggu poli",width:"100px"},{field:"waktu_task4",header:"Waktu layan poli",width:"100px"},{field:"avg_waktu_task4",header:"Rata2 Waktu layan Poli",width:"100px"},{field:"waktu_task5",header:"Waktu layan poli",width:"100px"},{field:"avg_waktu_task5",header:"Rata2 Waktu tunggu farmasi",width:"100px"},{field:"waktu_task6",header:"Waktu layan farmasi",width:"100px"},{field:"avg_waktu_task6",header:"Rata2 Waktu layan farmasi",width:"100px"},{field:"insertdate",header:"Update",width:"100px"}]}cari(){if(!this.item.waktu)return void this.alertService.warn("Info","Waktu harus dipilih");let a={url:"dashboard/waktutunggu/tanggal/"+o(this.item.tglAwal).format("YYYY-MM-DD")+"/waktu/"+this.item.waktu.nama,jenis:"antrean",method:"GET",data:null};this.dataSource=[],this.apiService.post("bridging/bpjs/tools",a).subscribe(a=>{"200"==a.metaData.code?this.dataSource=a.response.list:this.alertService.error("Info",a.metaData.message)})}cari2(){if(!this.item.waktu)return void this.alertService.warn("Info","Waktu harus dipilih");if(!this.item.bulan)return void this.alertService.warn("Info","Bulan harus dipilih");let a={url:"dashboard/waktutunggu/bulan/"+this.item.bulan.kode+"/tahun/"+this.item.tahun+"/waktu/"+this.item.waktu.nama,jenis:"antrean",method:"GET",data:null};this.dataSource2=[],this.apiService.post("bridging/bpjs/tools",a).subscribe(a=>{"200"==a.metaData.code?this.dataSource2=a.response.list:this.alertService.error("Info",a.metaData.message)})}cari3(){if(!this.item.tglperiksa)return;if(!this.item.poli)return;if(!this.item.dokterHFIS)return;let a={kodepoli:this.item.poli.kode,kodedokter:this.item.dokterHFIS.kode,tanggalperiksa:o(this.item.tglperiksa).format("YYYY-MM-DD"),jampraktek:"08:00-16:00"};this.dataSource2=[],this.apiService.post("jkn/get-status-antrean",a).subscribe(a=>{"200"==a.metadata.code?this.sisa=a.response:this.alertService.error("Info",a.metadata.message)})}}return a.\u0275fac=function(t){return new(t||a)(l.Jb(r.a),l.Jb(d.a))},a.\u0275cmp=l.Db({type:a,selectors:[["app-antrol-dashboard"]],decls:108,vars:56,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-12"],["header","Per Tanggal",3,"selected"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],[1,"p-col-12","p-md-3"],["placeholder","Waktu","optionLabel","nama","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",1,"p-button-primary","p-mr-1",3,"click"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["dt",""],["pTemplate","header"],["pTemplate","body"],["header","Per Bulan"],["type","text","pInputText","","placeholder","Tahun ",3,"ngModel","ngModelChange"],["placeholder","Bulan","optionLabel","nama","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["header","Sisa Antrean"],["placeholder","Poli","optionLabel","nama","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Dokter HFIS","optionLabel","nama","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-12","timeline"],[1,"satu"],[1,"pi","pi-circle-on"],[1,"event-content"],[1,"event-title"],[1,"dua"],[1,"tiga"],[1,"empat"],[1,"lima"],[1,"enam"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"style",4,"ngFor","ngForOf"],[1,"p-column-title"]],template:function(a,t){1&a&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"h4"),l.Jc(3,"Dashboard Antrean"),l.Pb(),l.Qb(4,"div",2),l.Qb(5,"div",3),l.Qb(6,"p-accordion"),l.Qb(7,"p-accordionTab",4),l.Qb(8,"div",3),l.Qb(9,"div",2),l.Qb(10,"div",5),l.Qb(11,"label",6),l.Jc(12,"Tanggal"),l.Pb(),l.Qb(13,"p-calendar",7),l.Yb("ngModelChange",function(a){return t.item.tglAwal=a}),l.Pb(),l.Pb(),l.Qb(14,"div",8),l.Qb(15,"label",6),l.Jc(16,"Waktu"),l.Pb(),l.Qb(17,"p-dropdown",9),l.Yb("ngModelChange",function(a){return t.item.waktu=a}),l.Pb(),l.Pb(),l.Qb(18,"div",10),l.Qb(19,"button",11),l.Yb("click",function(){return t.cari()}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(20,"div",12),l.Qb(21,"p-table",13,14),l.Hc(23,f,2,1,"ng-template",15),l.Hc(24,Q,2,3,"ng-template",16),l.Pb(),l.Pb(),l.Pb(),l.Qb(25,"p-accordionTab",17),l.Qb(26,"div",3),l.Qb(27,"div",2),l.Qb(28,"div",5),l.Qb(29,"label",6),l.Jc(30,"Tahun"),l.Pb(),l.Qb(31,"input",18),l.Yb("ngModelChange",function(a){return t.item.tahun=a}),l.Pb(),l.Pb(),l.Qb(32,"div",8),l.Qb(33,"label",6),l.Jc(34,"Bulan"),l.Pb(),l.Qb(35,"p-dropdown",19),l.Yb("ngModelChange",function(a){return t.item.bulan=a}),l.Pb(),l.Pb(),l.Qb(36,"div",8),l.Qb(37,"label",6),l.Jc(38,"Waktu"),l.Pb(),l.Qb(39,"p-dropdown",9),l.Yb("ngModelChange",function(a){return t.item.waktu=a}),l.Pb(),l.Pb(),l.Qb(40,"div",10),l.Qb(41,"button",11),l.Yb("click",function(){return t.cari2()}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(42,"div",12),l.Qb(43,"p-table",13,14),l.Hc(45,x,2,1,"ng-template",15),l.Hc(46,M,2,3,"ng-template",16),l.Pb(),l.Pb(),l.Pb(),l.Qb(47,"p-accordionTab",20),l.Qb(48,"div",3),l.Qb(49,"div",2),l.Qb(50,"div",5),l.Qb(51,"label",6),l.Jc(52,"Tanggal"),l.Pb(),l.Qb(53,"p-calendar",7),l.Yb("ngModelChange",function(a){return t.item.tglperiksa=a}),l.Pb(),l.Pb(),l.Qb(54,"div",5),l.Qb(55,"label",6),l.Jc(56,"Poli"),l.Pb(),l.Qb(57,"p-dropdown",21),l.Yb("ngModelChange",function(a){return t.item.poli=a}),l.Pb(),l.Pb(),l.Qb(58,"div",8),l.Qb(59,"label",6),l.Jc(60,"Dokter"),l.Pb(),l.Qb(61,"p-dropdown",22),l.Yb("ngModelChange",function(a){return t.item.dokterHFIS=a}),l.Pb(),l.Pb(),l.Qb(62,"div",10),l.Qb(63,"button",11),l.Yb("click",function(){return t.cari3()}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(64,"div",23),l.Qb(65,"ul"),l.Qb(66,"li",24),l.Lb(67,"i",25),l.Qb(68,"div",26),l.Qb(69,"span"),l.Jc(70,"Poli "),l.Pb(),l.Qb(71,"span",27),l.Jc(72),l.Pb(),l.Pb(),l.Pb(),l.Qb(73,"li",28),l.Lb(74,"i",25),l.Qb(75,"div",26),l.Qb(76,"span"),l.Jc(77,"Dokter"),l.Pb(),l.Qb(78,"span",27),l.Jc(79),l.Pb(),l.Pb(),l.Pb(),l.Qb(80,"li",29),l.Lb(81,"i",25),l.Qb(82,"div",26),l.Qb(83,"span"),l.Jc(84,"Total Antrean"),l.Pb(),l.Qb(85,"span",27),l.Jc(86),l.Pb(),l.Pb(),l.Pb(),l.Qb(87,"li",30),l.Lb(88,"i",25),l.Qb(89,"div",26),l.Qb(90,"span"),l.Jc(91," Sisa Antrean "),l.Pb(),l.Qb(92,"span",27),l.Jc(93),l.Pb(),l.Pb(),l.Pb(),l.Qb(94,"li",31),l.Lb(95,"i",25),l.Qb(96,"div",26),l.Qb(97,"span"),l.Jc(98,"Antrean Dipanggil"),l.Pb(),l.Qb(99,"span",27),l.Jc(100),l.Pb(),l.Pb(),l.Pb(),l.Qb(101,"li",32),l.Lb(102,"i",25),l.Qb(103,"div",26),l.Qb(104,"span"),l.Jc(105,"Keterangan"),l.Pb(),l.Qb(106,"span",27),l.Jc(107),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&a&&(l.xb(7),l.ic("selected",!0),l.xb(6),l.ic("ngModel",t.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),l.xb(4),l.ic("options",t.listWaktu)("ngModel",t.item.waktu)("filter",!0)("showClear",!0),l.xb(4),l.ic("columns",t.column)("value",t.dataSource)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",l.mc(54,y))("paginator",!0)("pageLinks",5),l.xb(10),l.ic("ngModel",t.item.tahun),l.xb(4),l.ic("options",t.listBulan)("ngModel",t.item.bulan)("filter",!0)("showClear",!0),l.xb(4),l.ic("options",t.listWaktu)("ngModel",t.item.waktu)("filter",!0)("showClear",!0),l.xb(4),l.ic("columns",t.column2)("value",t.dataSource2)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",l.mc(55,y))("paginator",!0)("pageLinks",5),l.xb(10),l.ic("ngModel",t.item.tglperiksa)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),l.xb(4),l.ic("options",t.listPoli)("ngModel",t.item.poli)("filter",!0)("showClear",!0),l.xb(4),l.ic("options",t.listDokterHFIS)("ngModel",t.item.dokterHFIS)("filter",!0)("showClear",!0),l.xb(11),l.Kc(t.sisa.namapoli),l.xb(7),l.Kc(t.sisa.namadokter),l.xb(7),l.Kc(t.sisa.totalantrean),l.xb(7),l.Kc(t.sisa.sisaantrean),l.xb(7),l.Kc(""!=t.sisa.antreanpanggil?t.sisa.antreanpanggil:"-"),l.xb(7),l.Kc(""!=t.sisa.keterangan?t.sisa.keterangan:"-"))},directives:[s.a,s.c,b.a,p.g,p.h,c.a,u.b,h.a,g.h,k.k,p.a,m.a,i.k,g.g,g.f,g.e],styles:[""]}),a})()}];let _=(()=>{class a{}return a.\u0275mod=l.Hb({type:a}),a.\u0275inj=l.Gb({factory:function(t){return new(t||a)},imports:[[n.j.forChild(J)],n.j]}),a})();var C=e("PCNd");let D=(()=>{class a{}return a.\u0275mod=l.Hb({type:a}),a.\u0275inj=l.Gb({factory:function(t){return new(t||a)},imports:[[i.b,_,C.a]]}),a})()}}]);