!function(){function a(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function e(a,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}function i(a,i,t){return i&&e(a.prototype,i),t&&e(a,t),a}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{abSf:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var s=n("fXoL"),l=n("7CaW"),o=n("SSqW"),b=n("ofXK"),r=n("3Pt+"),u=n("7kUa"),c=n("jeV5");function p(a,e){if(1&a){var i=s.Sb();s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"div",0),s.Qb(3,"div",1),s.Qb(4,"label",4),s.Jc(5,"No Registrasi "),s.Pb(),s.Qb(6,"input",5),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.noregistrasi=a}),s.Pb(),s.Pb(),s.Qb(7,"div",1),s.Qb(8,"label",4),s.Jc(9,"No Rekam Medis "),s.Pb(),s.Qb(10,"input",6),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.nocm=a}),s.Pb(),s.Pb(),s.Qb(11,"div",1),s.Qb(12,"label",4),s.Jc(13,"Nama Pasien "),s.Pb(),s.Qb(14,"input",7),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.namapasien=a}),s.Pb(),s.Pb(),s.Qb(15,"div",1),s.Qb(16,"label",4),s.Jc(17,"Tgl Registrasi "),s.Pb(),s.Qb(18,"input",8),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.tglregistrasi=a}),s.Pb(),s.Pb(),s.Qb(19,"div",1),s.Qb(20,"label",4),s.Jc(21,"Tipe Pasien "),s.Pb(),s.Qb(22,"input",8),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.kelompokpasien=a}),s.Pb(),s.Pb(),s.Qb(23,"div",1),s.Qb(24,"label",4),s.Jc(25,"Jenis Kelamin "),s.Pb(),s.Qb(26,"input",7),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.jeniskelamin=a}),s.Pb(),s.Pb(),s.Qb(27,"div",1),s.Qb(28,"label",4),s.Jc(29,"Tgl Lahir "),s.Pb(),s.Qb(30,"input",9),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.tgllahir=a}),s.Pb(),s.Pb(),s.Qb(31,"div",1),s.Qb(32,"label",4),s.Jc(33,"Umur "),s.Pb(),s.Qb(34,"input",8),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.umur=a}),s.Pb(),s.Pb(),s.Qb(35,"div",1),s.Qb(36,"label",4),s.Jc(37,"Alamat "),s.Pb(),s.Qb(38,"input",10),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.alamatlengkap=a}),s.Pb(),s.Pb(),s.Qb(39,"div",1),s.Qb(40,"label",4),s.Jc(41,"Kelas "),s.Pb(),s.Qb(42,"input",8),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.namakelas=a}),s.Pb(),s.Pb(),s.Qb(43,"div",1),s.Qb(44,"label",4),s.Jc(45,"Ruangan "),s.Pb(),s.Qb(46,"input",8),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.namaruangan=a}),s.Pb(),s.Pb(),s.Qb(47,"div",1),s.Qb(48,"label",4),s.Jc(49,"Pendidikan "),s.Pb(),s.Qb(50,"input",11),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.pendidikan=a}),s.Pb(),s.Pb(),s.Qb(51,"div",1),s.Qb(52,"label",4),s.Jc(53,"Jenis Pelayanan "),s.Pb(),s.Qb(54,"input",8),s.Yb("ngModelChange",function(a){return s.yc(i),s.bc().item.pasien.jenispelayanan=a}),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb()}if(2&a){var t=s.bc();s.xb(6),s.ic("ngModel",t.item.pasien.noregistrasi),s.xb(4),s.ic("ngModel",t.item.pasien.nocm),s.xb(4),s.ic("ngModel",t.item.pasien.namapasien),s.xb(4),s.ic("ngModel",t.item.pasien.tglregistrasi),s.xb(4),s.ic("ngModel",t.item.pasien.kelompokpasien),s.xb(4),s.ic("ngModel",t.item.pasien.jeniskelamin),s.xb(4),s.ic("ngModel",t.item.pasien.tgllahir),s.xb(4),s.ic("ngModel",t.item.pasien.umur),s.xb(4),s.ic("ngModel",t.item.pasien.alamatlengkap),s.xb(4),s.ic("ngModel",t.item.pasien.namakelas),s.xb(4),s.ic("ngModel",t.item.pasien.namaruangan),s.xb(4),s.ic("ngModel",t.item.pasien.pendidikan),s.xb(4),s.ic("ngModel",t.item.pasien.jenispelayanan)}}function d(a,e){1&a&&(s.Qb(0,"div",1),s.Lb(1,"p-skeleton",13),s.Pb())}function g(a,e){if(1&a&&(s.Qb(0,"div",0),s.Hc(1,d,2,0,"div",12),s.Pb()),2&a){var i=s.bc();s.xb(1),s.ic("ngForOf",i.numberss)}}var h=function(){return{width:"100%",height:"70vh"}},m=function(){var e=function(){function e(){a(this,e),this.item={pasien:{}},this.numberss=Array(15).map(function(a,e){return e})}return i(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=s.Db({type:e,selectors:[["app-head-pasien"]],decls:6,vars:6,consts:[[1,"p-grid"],[1,"p-col-12","p-md-12"],["header","Info Pasien",3,"toggleable"],["class","p-grid",4,"ngIf"],["for","input",1,"label"],["type","text","pInputText","","placeholder","Cari No Registrasi","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Rekam Medis","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Pasien","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Tgl Lahir","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Alamat","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Pendidikan","disabled","",3,"ngModel","ngModelChange"],["class","p-col-12 p-md-12",4,"ngFor","ngForOf"],["height","2.4rem"]],template:function(a,e){1&a&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"p-panel",2),s.Qb(3,"p-scrollPanel"),s.Hc(4,p,55,13,"div",3),s.Hc(5,g,2,1,"div",3),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&a&&(s.xb(2),s.ic("toggleable",!0),s.xb(1),s.Ec(s.mc(5,h)),s.xb(1),s.ic("ngIf",null!=e.item.pasien.nocm),s.xb(1),s.ic("ngIf",null==e.item.pasien.nocm))},directives:[l.a,o.a,b.l,r.a,u.a,r.g,r.h,b.k,c.a],styles:[""]}),e}()},cfze:function(e,t,n){"use strict";n.r(t),n.d(t,"InputTindakanModule",function(){return X});var s=n("ofXK"),l=n("tyNb"),o=n("7zfz"),b=n("1zoS"),r=n("wd/R"),u=n("abSf"),c=n("fXoL"),p=n("EJUL"),d=n("U+s4"),g=n("G0w9"),h=n("ujBT"),m=n("7CaW"),P=n("Ji6n"),k=n("3Pt+"),f=n("eO1q"),v=n("V5BG"),Q=n("7kUa"),y=n("Ks7X"),w=n("arFO"),j=n("lVkt"),M=n("jIHw"),J=n("xlun"),C=n("rEr+"),x=n("Q4Mo"),T=n("Wq6t");function S(a,e){1&a&&c.Lb(0,"app-head-pasien")}function Y(a,e){if(1&a&&(c.Qb(0,"table",41),c.Qb(1,"tr"),c.Qb(2,"th"),c.Jc(3,"Deskripsi"),c.Pb(),c.Qb(4,"th"),c.Jc(5,"Harga"),c.Pb(),c.Pb(),c.Qb(6,"tr"),c.Qb(7,"td"),c.Jc(8),c.Pb(),c.Qb(9,"td"),c.Jc(10),c.Pb(),c.Pb(),c.Pb()),2&a){var i=e.$implicit;c.xb(8),c.Kc(i.namaproduk),c.xb(2),c.Kc(i.hargasatuan)}}function I(a,e){if(1&a){var i=c.Sb();c.Qb(0,"div",3),c.Qb(1,"div",2),c.Qb(2,"div",10),c.Qb(3,"label",11),c.Jc(4,"Jenis Pelaksana "),c.Pb(),c.Qb(5,"p-dropdown",22),c.Yb("ngModelChange",function(a){return c.yc(i),c.bc().item.jenisPelaksana1=a})("onChange",function(){c.yc(i);var a=c.bc();return a.getPegawaiByJenis(a.item.jenisPelaksana1)}),c.Pb(),c.Pb(),c.Qb(6,"div",13),c.Qb(7,"label",11),c.Jc(8,"Petugas Pelaksana "),c.Pb(),c.Qb(9,"p-multiSelect",23),c.Yb("ngModelChange",function(a){return c.yc(i),c.bc().item.petugasPelaksana1=a}),c.Pb(),c.Pb(),c.Qb(10,"div",24),c.Qb(11,"button",25),c.Yb("click",function(){return c.yc(i),c.bc().showKeun(2)}),c.Pb(),c.Qb(12,"button",42),c.Yb("click",function(){return c.yc(i),c.bc().hide(1)}),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&a){var t=c.bc();c.xb(5),c.ic("options",t.listJenisPelaksana)("ngModel",t.item.jenisPelaksana1)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",t.listPegawai)("ngModel",t.item.petugasPelaksana1)}}function H(a,e){if(1&a){var i=c.Sb();c.Qb(0,"div",3),c.Qb(1,"div",2),c.Qb(2,"div",10),c.Qb(3,"label",11),c.Jc(4,"Jenis Pelaksana "),c.Pb(),c.Qb(5,"p-dropdown",22),c.Yb("ngModelChange",function(a){return c.yc(i),c.bc().item.jenisPelaksana2=a})("onChange",function(){c.yc(i);var a=c.bc();return a.getPegawaiByJenis(a.item.jenisPelaksana2)}),c.Pb(),c.Pb(),c.Qb(6,"div",13),c.Qb(7,"label",11),c.Jc(8,"Petugas Pelaksana "),c.Pb(),c.Qb(9,"p-multiSelect",23),c.Yb("ngModelChange",function(a){return c.yc(i),c.bc().item.petugasPelaksana2=a}),c.Pb(),c.Pb(),c.Qb(10,"div",24),c.Qb(11,"button",25),c.Yb("click",function(){return c.yc(i),c.bc().showKeun(3)}),c.Pb(),c.Qb(12,"button",42),c.Yb("click",function(){return c.yc(i),c.bc().hide(2)}),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&a){var t=c.bc();c.xb(5),c.ic("options",t.listJenisPelaksana)("ngModel",t.item.jenisPelaksana2)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",t.listPegawai)("ngModel",t.item.petugasPelaksana2)}}function N(a,e){if(1&a){var i=c.Sb();c.Qb(0,"div",3),c.Qb(1,"div",2),c.Qb(2,"div",10),c.Qb(3,"label",11),c.Jc(4,"Jenis Pelaksana "),c.Pb(),c.Qb(5,"p-dropdown",22),c.Yb("ngModelChange",function(a){return c.yc(i),c.bc().item.jenisPelaksana3=a})("onChange",function(){c.yc(i);var a=c.bc();return a.getPegawaiByJenis(a.item.jenisPelaksana3)}),c.Pb(),c.Pb(),c.Qb(6,"div",13),c.Qb(7,"label",11),c.Jc(8,"Petugas Pelaksana "),c.Pb(),c.Qb(9,"p-multiSelect",23),c.Yb("ngModelChange",function(a){return c.yc(i),c.bc().item.petugasPelaksana3=a}),c.Pb(),c.Pb(),c.Qb(10,"div",24),c.Qb(11,"button",25),c.Yb("click",function(){return c.yc(i),c.bc().showKeun(4)}),c.Pb(),c.Qb(12,"button",42),c.Yb("click",function(){return c.yc(i),c.bc().hide(3)}),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&a){var t=c.bc();c.xb(5),c.ic("options",t.listJenisPelaksana)("ngModel",t.item.jenisPelaksana3)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",t.listPegawai)("ngModel",t.item.petugasPelaksana3)}}function K(a,e){if(1&a){var i=c.Sb();c.Qb(0,"div",3),c.Qb(1,"div",2),c.Qb(2,"div",10),c.Qb(3,"label",11),c.Jc(4,"Jenis Pelaksana "),c.Pb(),c.Qb(5,"p-dropdown",22),c.Yb("ngModelChange",function(a){return c.yc(i),c.bc().item.jenisPelaksana4=a})("onChange",function(){c.yc(i);var a=c.bc();return a.getPegawaiByJenis(a.item.jenisPelaksana4)}),c.Pb(),c.Pb(),c.Qb(6,"div",13),c.Qb(7,"label",11),c.Jc(8,"Petugas Pelaksana "),c.Pb(),c.Qb(9,"p-multiSelect",23),c.Yb("ngModelChange",function(a){return c.yc(i),c.bc().item.petugasPelaksana4=a}),c.Pb(),c.Pb(),c.Qb(10,"div",24),c.Qb(11,"button",25),c.Yb("click",function(){return c.yc(i),c.bc().showKeun(5)}),c.Pb(),c.Qb(12,"button",42),c.Yb("click",function(){return c.yc(i),c.bc().hide(4)}),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&a){var t=c.bc();c.xb(5),c.ic("options",t.listJenisPelaksana)("ngModel",t.item.jenisPelaksana4)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",t.listPegawai)("ngModel",t.item.petugasPelaksana4)}}function D(a,e){if(1&a){var i=c.Sb();c.Qb(0,"div",3),c.Qb(1,"div",2),c.Qb(2,"div",10),c.Qb(3,"label",11),c.Jc(4,"Jenis Pelaksana "),c.Pb(),c.Qb(5,"p-dropdown",22),c.Yb("ngModelChange",function(a){return c.yc(i),c.bc().item.jenisPelaksana5=a})("onChange",function(){c.yc(i);var a=c.bc();return a.getPegawaiByJenis(a.item.jenisPelaksana5)}),c.Pb(),c.Pb(),c.Qb(6,"div",13),c.Qb(7,"label",11),c.Jc(8,"Petugas Pelaksana "),c.Pb(),c.Qb(9,"p-multiSelect",23),c.Yb("ngModelChange",function(a){return c.yc(i),c.bc().item.petugasPelaksana5=a}),c.Pb(),c.Pb(),c.Qb(10,"div",24),c.Qb(11,"button",42),c.Yb("click",function(){return c.yc(i),c.bc().hide(5)}),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&a){var t=c.bc();c.xb(5),c.ic("options",t.listJenisPelaksana)("ngModel",t.item.jenisPelaksana5)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",t.listPegawai)("ngModel",t.item.petugasPelaksana5)}}function R(a,e){1&a&&(c.Qb(0,"tr"),c.Lb(1,"th",43),c.Qb(2,"th",43),c.Jc(3," Tgl Pelayanan"),c.Pb(),c.Qb(4,"th",44),c.Jc(5," Nama Pelayanan"),c.Pb(),c.Qb(6,"th",45),c.Jc(7," Harga"),c.Pb(),c.Qb(8,"th",43),c.Jc(9," Jumlah "),c.Pb(),c.Qb(10,"th",46),c.Jc(11," Sub Total"),c.Pb(),c.Qb(12,"th",43),c.Jc(13," Cito "),c.Pb(),c.Pb())}function B(a,e){if(1&a){var i=c.Sb();c.Qb(0,"tr"),c.Qb(1,"td",43),c.Lb(2,"button",47),c.Qb(3,"button",48),c.Yb("click",function(){c.yc(i);var a=e.$implicit;return c.bc().hapusItem(a)}),c.Pb(),c.Pb(),c.Qb(4,"td",43),c.Jc(5),c.Pb(),c.Qb(6,"td",44),c.Jc(7),c.Pb(),c.Qb(8,"td",45),c.Jc(9),c.Pb(),c.Qb(10,"td",43),c.Jc(11),c.Pb(),c.Qb(12,"td",46),c.Jc(13),c.Pb(),c.Qb(14,"td",43),c.Jc(15),c.Pb(),c.Pb()}if(2&a){var t=e.$implicit,n=e.expanded;c.xb(2),c.ic("pRowToggler",t)("icon",n?"pi pi-chevron-down":"pi pi-chevron-right"),c.xb(3),c.Kc(t.tglPelayanan),c.xb(2),c.Kc(t.produk.namaproduk),c.xb(2),c.Kc(t.hargaSatuan),c.xb(2),c.Kc(t.qty),c.xb(2),c.Kc(t.subTotal),c.xb(2),c.Kc(t.statuscito)}}function A(a,e){1&a&&(c.Qb(0,"tr"),c.Qb(1,"th"),c.Jc(2,"Jenis Pelaksana"),c.Pb(),c.Qb(3,"th"),c.Jc(4,"Nama Pelaksana"),c.Pb(),c.Pb())}function L(a,e){if(1&a&&(c.Qb(0,"tr"),c.Qb(1,"td"),c.Jc(2),c.Pb(),c.Qb(3,"td"),c.Jc(4),c.Pb(),c.Pb()),2&a){var i=e.$implicit;c.xb(2),c.Kc(i.jenisPetugas.jenisPelaksana),c.xb(2),c.Kc(i.namalengkap)}}function F(a,e){if(1&a&&(c.Qb(0,"tr"),c.Qb(1,"td",49),c.Qb(2,"div",50),c.Qb(3,"p-table",51),c.Hc(4,A,5,0,"ng-template",34),c.Hc(5,L,5,2,"ng-template",35),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&a){var i=e.$implicit;c.xb(3),c.ic("value",i.pelayananpetugas)}}function E(a,e){if(1&a&&(c.Qb(0,"tr"),c.Qb(1,"td",52),c.Jc(2,"Grand Total : "),c.Pb(),c.Qb(3,"td"),c.Jc(4),c.Pb(),c.Pb()),2&a){var i=c.bc();c.xb(4),c.Lc(" ",i.item.totalAlls,"")}}function O(a,e){if(1&a&&(c.Qb(0,"div",10),c.Lb(1,"p-splitButton",53),c.Pb()),2&a){var i=c.bc();c.xb(1),c.ic("model",i.listBtn)}}var q,z,_,U=function(){return[5,10,25,50]},V=[{path:"",component:(q=function(){function e(i,t,n,s,l,o,r,u,c){a(this,e),this.apiService=i,this.authService=t,this.confirmationService=n,this.messageService=s,this.cacheHelper=l,this.dateHelper=o,this.alertService=r,this.route=u,this.router=c,this.params={},this.item={pasien:{},jumlah:1,tglPelayanan:new Date},this.maxDateValue=new Date,this.isClosing=!1,this.listProduk=[],this.listJenisPelaksana=[],this.listPegawai=[],this.dataTindakan=[],this.listKomponen=[],this.data2=[],this.hideEMR=!0,this.page=b.b.get().page,this.rows=b.b.get().rows}return i(e,[{key:"ngAfterViewInit",value:function(){var a=this;this.route.params.subscribe(function(e){if(null==e.norec_rp){var i=a.cacheHelper.get("cacheEMR_qwertyuiop");null!=i?(i=JSON.parse(i),a.currentNorecPD=i.norec_pd,a.currentNorecAPD=i.norec,a.item.pasien=i,a.isClosing=!1,a.hideEMR=!1,1==i.isclosing&&(a.alertService.warn("Peringatan!","Pemeriksaan sudah ditutup tanggal "+r(new Date(i.tglclosing)).format("DD-MMM-YYYY HH:mm")),a.isClosing=!0)):window.history.back()}else a.currentNorecPD=e.norec_rp,a.currentNorecAPD=e.norec_dpr,a.loadHead()})}},{key:"loadHead",value:function(){var a=this;this.isClosing=!1,this.apiService.get("registrasi/get-pasien-bynorec?norec_pd="+this.currentNorecPD+"&norec_apd="+this.currentNorecAPD).subscribe(function(e){e.tgllahir=r(new Date(e.tgllahir)).format("YYYY-MM-DD"),e.umur=a.dateHelper.getUmur(new Date(e.tgllahir),new Date),a.h.item.pasien=e,a.item.pasien=e,a.apiService.get("sysadmin/general/get-status-close/"+a.item.pasien.noregistrasi).subscribe(function(e){1==e.status&&(a.alertService.warn("Peringatan!","Pemeriksaan sudah ditutup tanggal "+r(new Date(e.tglclosing)).format("DD-MMM-YYYY HH:mm")),a.isClosing=!0)})})}},{key:"ngOnInit",value:function(){this.isClosing=!1,this.loadCombo()}},{key:"loadCombo",value:function(){var a=this;this.apiService.get("tindakan/get-combo").subscribe(function(e){a.listJenisPelaksana=e.jenispelaksana,a.item.jenisPelaksana=a.listJenisPelaksana[6],a.getPegawaiByJenis(a.item.jenisPelaksana),a.item.nilaiStatusCito=parseFloat(e.tarifcito)})}},{key:"filterProduk",value:function(a){var e=this;null!=this.item.pasien.objectruanganfk&&this.apiService.get("tindakan/get-tindakan?namaproduk="+a.query+"&idRuangan="+this.item.pasien.objectruanganfk+"&idKelas="+this.item.pasien.objectkelasfk+"&idJenisPelayanan="+this.item.pasien.objectjenispelayananfk).subscribe(function(a){for(var i=0;i<a.length;i++){var t=a[i];t.hargasatuan=e.formatRupiah(parseFloat(t.hargasatuan),"")}e.listProduk=a})}},{key:"getPegawaiByJenis",value:function(a){var e=this;this.apiService.get("tindakan/get-pegawaibyjenispetugas?idJenisPetugas="+a.id).subscribe(function(a){e.listPegawai=a.jenispelaksana})}},{key:"getHargaTindakan",value:function(){var a=this;this.item.hargaTindakan=0,this.item.jumlah=0,this.listKomponen=[],null!=this.item.namaProduk&&this.apiService.get("tindakan/get-komponenharga?idRuangan="+this.item.pasien.objectruanganfk+"&idKelas="+this.item.pasien.objectkelasfk+"&idProduk="+this.item.namaProduk.id+"&idJenisPelayanan="+this.item.pasien.objectjenispelayananfk).subscribe(function(e){a.listKomponen=e.data,a.item.hargaTindakan=e.data2[0].hargasatuan,a.item.jumlah=1})}},{key:"multiSelectArrayToString",value:function(a){if(a.length>0)return a.map(function(a){return a.namalengkap}).join(", ")}},{key:"multiSelectArrayToString2",value:function(a){if(a.length>0)return a.map(function(a){return a.produk.namaproduk}).join(", ")}},{key:"hapusAll",value:function(){this.data2=[],this.dataTindakan=this.data2,this.item.StatusCito=void 0,this.item.JasaCito=0,this.item.NilaiCito=0,this.item.totalAlls=this.formatRupiah(0,"Rp.")}},{key:"hapusItem",value:function(a){for(var e=this.data2.length-1;e>=0;e--)this.data2[e].rowNumber==a.rowNumber&&this.data2.splice(e,1);this.dataTindakan=this.data2;var i=0;for(e=this.data2.length-1;e>=0;e--)i+=parseFloat(this.data2[e].subTotal);this.item.totalAlls=this.formatRupiah(i,"Rp.")}},{key:"tambahTindakan",value:function(){if(1!=this.isClosing)if(null!=this.item.namaProduk)if(0!=this.item.jumlah)if(null!=this.item.jenisPelaksana)if(null!=this.item.petugasPelaksana&&0!=this.item.petugasPelaksana.length){var a="";1==this.item.iscito?(a="\u2714",this.item.JasaCito=parseFloat(this.item.hargaTindakan)*this.item.nilaiStatusCito,this.item.NilaiCito=this.item.nilaiStatusCito):(a="",this.item.JasaCito=0,this.item.NilaiCito=0);var e={},i={idParent:(e={rowNumber:0==this.dataTindakan.length?1:this.data2.length+1,tglPelayanan:r(this.item.tglPelayanan).format("YYYY-MM-DD HH:mm:ss"),produk:this.item.namaProduk,qty:this.item.jumlah,hargaSatuan:this.item.hargaTindakan,hargadiskon:0,subTotal:this.item.hargaTindakan*this.item.jumlah,listKomponen:this.listKomponen,statuscito:a,cito:this.item.iscito,jasacito:this.item.JasaCito,isparamedis:this.item.paramedis,jenispelayananfk:this.item.pasien.objectjenispelayananfk,nilaicito:this.item.NilaiCito,pelayananpetugas:[]}).rowNumber,jenisPetugas:{id:this.item.jenisPelaksana.id,jenisPelaksana:this.item.jenisPelaksana.jenispetugaspe},objectjenispetugaspefk:this.item.jenisPelaksana.id,listpegawai:this.item.petugasPelaksana,namalengkap:this.multiSelectArrayToString(this.item.petugasPelaksana)};e.pelayananpetugas.push(i),null!=this.item.jenisPelaksana1&&null!=this.item.petugasPelaksana1&&this.item.petugasPelaksana1.length>0&&(i={idParent:e.rowNumber,jenisPetugas:{id:this.item.jenisPelaksana1.id,jenisPelaksana:this.item.jenisPelaksana1.jenispetugaspe},objectjenispetugaspefk:this.item.jenisPelaksana1.id,listpegawai:this.item.petugasPelaksana1,namalengkap:this.multiSelectArrayToString(this.item.petugasPelaksana1)},e.pelayananpetugas.push(i),this.show1=!1,delete this.item.jenisPelaksana1,delete this.item.petugasPelaksana1),null!=this.item.jenisPelaksana2&&null!=this.item.petugasPelaksana2&&this.item.petugasPelaksana2.length>0&&(i={idParent:e.rowNumber,jenisPetugas:{id:this.item.jenisPelaksana2.id,jenisPelaksana:this.item.jenisPelaksana2.jenispetugaspe},objectjenispetugaspefk:this.item.jenisPelaksana2.id,listpegawai:this.item.petugasPelaksana2,namalengkap:this.multiSelectArrayToString(this.item.petugasPelaksana2)},e.pelayananpetugas.push(i),this.show2=!1,delete this.item.jenisPelaksana2,delete this.item.petugasPelaksana2),null!=this.item.jenisPelaksana3&&null!=this.item.petugasPelaksana3&&this.item.petugasPelaksana3.length>0&&(i={idParent:e.rowNumber,jenisPetugas:{id:this.item.jenisPelaksana3.id,jenisPelaksana:this.item.jenisPelaksana3.jenispetugaspe},objectjenispetugaspefk:this.item.jenisPelaksana3.id,listpegawai:this.item.petugasPelaksana3,namalengkap:this.multiSelectArrayToString(this.item.petugasPelaksana3)},e.pelayananpetugas.push(i),this.show3=!1,delete this.item.jenisPelaksana3,delete this.item.petugasPelaksana3),null!=this.item.jenisPelaksana4&&null!=this.item.petugasPelaksana4&&this.item.petugasPelaksana4.length>0&&(i={idParent:e.rowNumber,jenisPetugas:{id:this.item.jenisPelaksana4.id,jenisPelaksana:this.item.jenisPelaksana4.jenispetugaspe},objectjenispetugaspefk:this.item.jenisPelaksana4.id,listpegawai:this.item.petugasPelaksana4,namalengkap:this.multiSelectArrayToString(this.item.petugasPelaksana4)},e.pelayananpetugas.push(i),this.show4=!1,delete this.item.jenisPelaksana4,delete this.item.petugasPelaksana4),null!=this.item.jenisPelaksana5&&null!=this.item.petugasPelaksana5&&this.item.petugasPelaksana5.length>0&&(i={idParent:e.rowNumber,jenisPetugas:{id:this.item.jenisPelaksana5.id,jenisPelaksana:this.item.jenisPelaksana5.jenispetugaspe},objectjenispetugaspefk:this.item.jenisPelaksana5.id,listpegawai:this.item.petugasPelaksana5,namalengkap:this.multiSelectArrayToString(this.item.petugasPelaksana5)},e.pelayananpetugas.push(i),this.show5=!1,delete this.item.jenisPelaksana5,delete this.item.petugasPelaksana5),this.data2.push(e),this.dataTindakan=this.data2;for(var t=0,n=this.data2.length-1;n>=0;n--)t+=parseFloat(this.data2[n].subTotal);this.item.totalAlls=this.formatRupiah(t,"Rp."),this.kosongkan(),this.item.Cito=void 0}else this.alertService.error("Info","Petugas Pelaksana harus di isi");else this.alertService.error("Info","Jenis Pelaksana harus di isi");else this.alertService.error("Info","Jumlah tidak boleh nol");else this.alertService.error("Info","Tindakan harus di isi");else this.alertService.error("Info","Data sudah di closing, tidak bisa input tindakan ")}},{key:"kosongkan",value:function(){this.item.namaProduk=void 0,this.item.hargaTindakan=void 0,this.item.jumlah=void 0}},{key:"save",value:function(){var a=this;if(0!=this.dataTindakan.length){for(var e=[],i=0;i<this.dataTindakan.length;i++){var t=this.dataTindakan[i];if(t.listKomponen.length<=0)return void this.alertService.error("Info","Tidak bisa Simpan, Komponen Tindakan tidak ada");var n=0;1==t.cito&&(n=1);var s=0,l=0;0!=t.jasacito&&(s=t.jasacito,l=t.nilaicito),e.push({noregistrasifk:this.currentNorecAPD,tglregistrasi:this.item.pasien.tglregistrasi,tglpelayanan:r(t.tglPelayanan).format("YYYY-MM-DD HH:mm:ss"),ruangan:t.ruangan,produkfk:t.produk.id,hargasatuan:t.hargaSatuan,diskon:t.hargadiskon,hargajual:t.hargaSatuan,harganetto:t.hargaSatuan,jumlah:t.qty,kelasfk:this.item.pasien.objectkelasfk,pelayananpetugas:t.pelayananpetugas,komponenharga:t.listKomponen,keterangan:!0===this.item.pemeriksaanKeluar?"Pemeriksaan Keluar":"-",iscito:n,jasacito:s,isparamedis:null!=t.isparamedis&&t.isparamedis,jenispelayananfk:t.jenispelayananfk,nilaicito:l})}var o=this.multiSelectArrayToString2(this.dataTindakan),b={pelayananpasien:e};this.isSimpan=!0,this.apiService.post("tindakan/save-tindakan",b).subscribe(function(e){a.apiService.postLog("Input Tindakan","norec PP",e.dataPP.norec,"Input Tindakan : ("+o+") pada No Registrasi "+a.item.pasien.noregistrasi+" di "+a.item.pasien.namaruangan).subscribe(function(a){}),a.hapusAll(),a.isSimpan=!1,0==a.hideEMR&&window.history.back()},function(a){this.isSimpan=!1})}else this.alertService.error("Info","Tindakan belum di isi")}},{key:"cancel",value:function(){this.hapusAll(),window.history.back()}},{key:"showKeun",value:function(a){1==a&&(this.show1=!0),2==a&&(this.show2=!0),3==a&&(this.show3=!0),4==a&&(this.show4=!0),5==a&&(this.show5=!0)}},{key:"hide",value:function(a){1==a&&(this.show1=!1),2==a&&(this.show2=!1),3==a&&(this.show3=!1),4==a&&(this.show4=!1),5==a&&(this.show5=!1)}},{key:"formatRupiah",value:function(a,e){return e+" "+parseFloat(a).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}},{key:"cekPaket",value:function(a){}}]),e}(),q.\u0275fac=function(a){return new(a||q)(c.Jb(p.a),c.Jb(p.b),c.Jb(o.a),c.Jb(o.h),c.Jb(d.a),c.Jb(g.a),c.Jb(h.a),c.Jb(l.a),c.Jb(l.f))},q.\u0275cmp=c.Db({type:q,selectors:[["app-input-tindakan"]],viewQuery:function(a,e){var i;1&a&&c.Nc(u.a,!0),2&a&&c.vc(i=c.Zb())&&(e.h=i.first)},features:[c.wb([o.a])],decls:80,vars:43,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12"],[4,"ngIf"],[1,"p-col-12","p-md-12"],["header","Detail Tindakan",3,"toggleable"],[1,"p-col-12","p-md-3"],["binary","true","inputId","item.paket",3,"ngModel","ngModelChange","onChange"],["for","item.paket",1,"label"],[1,"p-col-12","p-md-2"],["for","input",1,"label-required"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Pelayanan","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","ngModelChange"],[1,"p-col-12","p-md-4"],["field","namaproduk","placeholder","Filter Pelayanan",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod","onSelect"],["pTemplate","item"],["type","text","pInputText","","placeholder","Harga Pelayanan","disabled","",3,"ngModel","ngModelChange"],["for","horizontal",1,"label-required"],["buttonLayout","horizontal","inputId","horizontal","spinnerMode","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"ngModel","showButtons","step","ngModelChange"],[1,"p-col-12","p-md-1",2,"margin-top","15px"],["binary","true","inputId","item.iscito",3,"ngModel","ngModelChange"],["for","item.iscito",1,"label"],["placeholder","Jenis Pelaksana","optionLabel","jenispetugaspe",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["defaultLabel","Pilih Petugas Pelaksana","optionLabel","namalengkap","display","chip",3,"options","ngModel","ngModelChange"],[1,"p-col-12","p-md-2",2,"margin-top","15px"],["pButton","","type","button","icon","pi pi-plus-circle","pTooltip","Tambah Petugas Pelaksana","label","",1,"p-button","p-mr-2",3,"click"],[1,"p-col-12","p-md-3",2,"margin-top","15px"],["binary","true","inputId","item.paramedis",3,"ngModel","ngModelChange"],["for","item.paramedis",1,"label"],["class","p-col-12",4,"ngIf"],[1,"p-col-12","p-md-2","p-md-offset-8"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah Data Ke Table","label","Tambah",1,"p-button","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Semua Tindakan","label","Hapus Semua",1,"p-button","p-button-warning","p-mr-2",3,"click"],["styleClass","p-datatable-customers","scrollable","true","dataKey","rowNumber",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","summary"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-arrow-left","pTooltip","Kembali","label","Batal",1,"p-button","p-button-danger","p-mr-2",3,"click"],["class","p-col-12 p-md-2",4,"ngIf"],[1,"country-item"],["pButton","","type","button","icon","pi pi-times-circle","pTooltip","Hapus Petugas Pelaksana","label","",1,"p-button","p-button-danger","p-mr-2",3,"click"],[2,"width","100px"],[2,"width","250px"],[2,"width","200px"],[2,"width","150px"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-1",3,"pRowToggler","icon"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Data","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],["colspan","8"],[1,"p-p-3"],["dataKey","id",3,"value"],["rowspan","6"],["label","Action","styleClass","p-button-success","icon","pi pi-ellipsis-v",3,"model"]],template:function(a,e){1&a&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"h4"),c.Jc(3,"Tindakan"),c.Pb(),c.Qb(4,"div",2),c.Qb(5,"div",3),c.Hc(6,S,1,0,"app-head-pasien",4),c.Pb(),c.Qb(7,"div",3),c.Qb(8,"div",2),c.Qb(9,"div",5),c.Qb(10,"p-panel",6),c.Qb(11,"div",2),c.Qb(12,"div",7),c.Qb(13,"p-checkbox",8),c.Yb("ngModelChange",function(a){return e.item.paket=a})("onChange",function(){return e.cekPaket(e.item.paket)}),c.Pb(),c.Qb(14,"label",9),c.Jc(15," Paket"),c.Pb(),c.Pb(),c.Pb(),c.Qb(16,"div",2),c.Qb(17,"div",3),c.Qb(18,"div",2),c.Qb(19,"div",10),c.Qb(20,"label",11),c.Jc(21," Tgl Pelayanan "),c.Pb(),c.Qb(22,"p-calendar",12),c.Yb("ngModelChange",function(a){return e.item.tglPelayanan=a}),c.Pb(),c.Pb(),c.Qb(23,"div",13),c.Qb(24,"label",11),c.Jc(25," Pelayanan"),c.Pb(),c.Qb(26,"p-autoComplete",14),c.Yb("ngModelChange",function(a){return e.item.namaProduk=a})("completeMethod",function(a){return e.filterProduk(a)})("onSelect",function(){return e.getHargaTindakan()}),c.Hc(27,Y,11,2,"ng-template",15),c.Pb(),c.Pb(),c.Qb(28,"div",7),c.Qb(29,"label",11),c.Jc(30," Harga"),c.Pb(),c.Qb(31,"input",16),c.Yb("ngModelChange",function(a){return e.item.hargaTindakan=a}),c.Pb(),c.Pb(),c.Qb(32,"div",10),c.Qb(33,"label",17),c.Jc(34,"Jumlah"),c.Pb(),c.Qb(35,"p-inputNumber",18),c.Yb("ngModelChange",function(a){return e.item.jumlah=a}),c.Pb(),c.Pb(),c.Qb(36,"div",19),c.Qb(37,"p-checkbox",20),c.Yb("ngModelChange",function(a){return e.item.iscito=a}),c.Pb(),c.Qb(38,"label",21),c.Jc(39," Cito"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(40,"div",3),c.Qb(41,"div",2),c.Qb(42,"div",10),c.Qb(43,"label",11),c.Jc(44,"Jenis Pelaksana "),c.Pb(),c.Qb(45,"p-dropdown",22),c.Yb("ngModelChange",function(a){return e.item.jenisPelaksana=a})("onChange",function(){return e.getPegawaiByJenis(e.item.jenisPelaksana)}),c.Pb(),c.Pb(),c.Qb(46,"div",13),c.Qb(47,"label",11),c.Jc(48,"Petugas Pelaksana "),c.Pb(),c.Qb(49,"p-multiSelect",23),c.Yb("ngModelChange",function(a){return e.item.petugasPelaksana=a}),c.Pb(),c.Pb(),c.Qb(50,"div",24),c.Qb(51,"button",25),c.Yb("click",function(){return e.showKeun(1)}),c.Pb(),c.Pb(),c.Qb(52,"div",26),c.Qb(53,"p-checkbox",27),c.Yb("ngModelChange",function(a){return e.item.paramedis=a}),c.Pb(),c.Qb(54,"label",28),c.Jc(55," Dilakukan Oleh Paramedis"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Hc(56,I,13,6,"div",29),c.Hc(57,H,13,6,"div",29),c.Hc(58,N,13,6,"div",29),c.Hc(59,K,13,6,"div",29),c.Hc(60,D,12,6,"div",29),c.Pb(),c.Qb(61,"div",2),c.Qb(62,"div",30),c.Qb(63,"button",31),c.Yb("click",function(){return e.tambahTindakan()}),c.Pb(),c.Pb(),c.Qb(64,"div",10),c.Qb(65,"button",32),c.Yb("click",function(){return e.hapusAll()}),c.Pb(),c.Pb(),c.Pb(),c.Qb(66,"div",2),c.Qb(67,"div",3),c.Qb(68,"p-table",33),c.Hc(69,R,14,0,"ng-template",34),c.Hc(70,B,16,8,"ng-template",35),c.Hc(71,F,6,1,"ng-template",36),c.Hc(72,E,5,1,"ng-template",37),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(73,"div",5),c.Qb(74,"div",2),c.Qb(75,"div",30),c.Qb(76,"button",38),c.Yb("click",function(){return e.save()}),c.Pb(),c.Pb(),c.Qb(77,"div",10),c.Qb(78,"button",39),c.Yb("click",function(){return e.cancel()}),c.Pb(),c.Pb(),c.Hc(79,O,2,1,"div",40),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&a&&(c.xb(5),c.Bb("p-md-3",e.hideEMR),c.xb(1),c.ic("ngIf",e.hideEMR),c.xb(1),c.Bb("p-md-9",e.hideEMR),c.xb(3),c.ic("toggleable",!0),c.xb(3),c.ic("ngModel",e.item.paket),c.xb(9),c.ic("ngModel",e.item.tglPelayanan)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("maxDate",e.maxDateValue),c.xb(4),c.ic("ngModel",e.item.namaProduk)("suggestions",e.listProduk)("dropdown",!0),c.xb(5),c.ic("ngModel",e.item.hargaTindakan),c.xb(4),c.ic("ngModel",e.item.jumlah)("showButtons",!0)("step",1),c.xb(2),c.ic("ngModel",e.item.iscito),c.xb(8),c.ic("options",e.listJenisPelaksana)("ngModel",e.item.jenisPelaksana)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",e.listPegawai)("ngModel",e.item.petugasPelaksana),c.xb(4),c.ic("ngModel",e.item.paramedis),c.xb(3),c.ic("ngIf",e.show1),c.xb(1),c.ic("ngIf",e.show2),c.xb(1),c.ic("ngIf",e.show3),c.xb(1),c.ic("ngIf",e.show4),c.xb(1),c.ic("ngIf",e.show5),c.xb(3),c.ic("disabled",e.isClosing),c.xb(5),c.ic("value",e.dataTindakan)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",c.mc(42,U))("paginator",!0)("pageLinks",5),c.xb(8),c.ic("disabled",e.isSimpan),c.xb(3),c.ic("ngIf",e.isNext))},directives:[s.l,m.a,P.a,k.g,k.h,f.a,v.a,o.k,k.a,Q.a,y.a,w.a,j.a,M.b,J.a,C.h,u.a,x.a,C.d,T.a],styles:[""]}),q)}],$=((z=function e(){a(this,e)}).\u0275mod=c.Hb({type:z}),z.\u0275inj=c.Gb({factory:function(a){return new(a||z)},imports:[[l.j.forChild(V)],l.j]}),z),G=n("PCNd"),X=((_=function e(){a(this,e)}).\u0275mod=c.Hb({type:_}),_.\u0275inj=c.Gb({factory:function(a){return new(a||_)},providers:[],imports:[[s.b,$,G.a]]}),_)}}])}();