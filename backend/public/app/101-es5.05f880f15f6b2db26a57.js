!function(){function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var a=i[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{t8iL:function(t,a,n){"use strict";n.r(a),n.d(a,"DaftarPasienTerdaftarModule",function(){return j});var o=n("ofXK"),l=n("tyNb"),r=n("7zfz"),s=n("wd/R"),p=n("fXoL"),b=n("EJUL"),d=n("G0w9"),c=n("U+s4"),h=n("ujBT"),m=n("RTT/"),u=n("3Pt+"),g=n("7kUa"),f=n("eO1q"),P=n("jIHw"),v=n("xlun"),y=n("rEr+"),w=n("/RsI"),M=n("arFO"),Q=n("zFJ7");function x(e,i){if(1&e&&(p.Qb(0,"th",36),p.Jc(1),p.Lb(2,"p-sortIcon",37),p.Pb()),2&e){var t=i.$implicit;p.Fc("width: ",t.width,""),p.jc("pSortableColumn",t.field),p.xb(1),p.Lc(" ",t.header," "),p.xb(1),p.jc("field",t.field)}}function T(e,i){if(1&e&&(p.Qb(0,"tr"),p.Qb(1,"th",34),p.Jc(2,"Aksi"),p.Pb(),p.Hc(3,x,3,6,"th",35),p.Pb()),2&e){var t=i.$implicit;p.xb(3),p.ic("ngForOf",t)}}function k(e,i){if(1&e&&(p.Qb(0,"td"),p.Jc(1),p.Pb()),2&e){var t=i.$implicit,a=p.bc().$implicit;p.Fc("width: ",t.width,""),p.xb(1),p.Lc(" ",a[t.field]," ")}}function J(e,i){if(1&e){var t=p.Sb();p.Qb(0,"tr",38),p.Qb(1,"td",34),p.Qb(2,"button",39),p.Yb("click",function(){p.yc(t);var e=i.$implicit;return p.bc().popUpTriasePasienBaru2(e)}),p.Pb(),p.Qb(3,"button",40),p.Yb("click",function(){p.yc(t);var e=i.$implicit;return p.bc().inputTriase2(e)}),p.Pb(),p.Pb(),p.Hc(4,k,2,4,"td",41),p.Pb()}if(2&e){var a=i.columns,n=i.rowIndex;p.ic("pSelectableRow",i.$implicit)("pSelectableRowIndex",n),p.xb(4),p.ic("ngForOf",a)}}var S,C,L,N=function(){return[5,10,25,50]},Y=function(){return{width:"800px",minWidth:"800px"}},I=function(){return{minHeight:"300px"}},D=[{path:"",component:(S=function(){function t(i,a,n,o,l,r,s,p,b){e(this,t),this.apiService=i,this.authService=a,this.confirmationService=n,this.messageService=o,this.router=l,this.DateHelper=r,this.cacheHelper=s,this.alertService=p,this.route=b,this.rows=50,this.pencarian="",this.item={},this.itemD={},this.now=new Date,this.isSimpan=!1}var a,n,o;return a=t,(n=[{key:"ngOnInit",value:function(){this.column=[{field:"no",header:"No",width:"65px"},{field:"nocm",header:"No RM",width:"80px"},{field:"noidentitas",header:"NIK",width:"140px"},{field:"nobpjs",header:"No BPJS",width:"140px"},{field:"namapasien",header:"Nama Pasien",width:"250px"},{field:"jeniskelamin",header:"Jenis Kelamin",width:"100px"},{field:"namaayah",header:"Nama Ayah Kandung",width:"180px"},{field:"tgllahir",header:"Tgl Lahir",width:"140px"},{field:"alamatlengkap",header:"Alamat",width:"220px"},{field:"nohp",header:"No Hp",width:"100px"},{field:"statuspasien",header:"Status Pasien",width:"140px"}],this.getData(this.page,this.rows,this.sortField,this.sortOrder,""),this.combo()}},{key:"getData",value:function(e,i,t,a,n){var o=this;this.loading=!0,null==t&&(t=""),this.apiService.get("registrasi/get-pasien?"+this.pencarian+"&sortfield="+t+"&sortorder="+a+"&page="+e+"&rows="+i).subscribe(function(e){o.loading=!0;for(var i=0;i<e.daftar.length;i++){var t=e.daftar[i];t.no=i+1,t.tgllahir=s(new Date(t.tgllahir)).format("DD-MM-YYYY"),null==t.tglmeninggal?(t.statuspasien="Hidup",t.color="info"):(t.statuspasien="Meninggal",t.color="danger")}o.dataTable=e.daftar,o.totalRecords=e.totalRow})}},{key:"combo",value:function(){var e=this;this.apiService.get("registrasi/get-combo-registrasi").subscribe(function(i){e.listJenisKelamin=i.jeniskelamin})}},{key:"cari",value:function(){var e="";null!=this.item.noRM&&(e="&norm="+this.item.noRM);var i="";null!=this.item.namaPasien&&(i="&namaPasien="+this.item.namaPasien);var t="";null!=this.item.namaAyah&&(t="&namaAyah="+this.item.namaAyah);var a="";null!=this.item.alamat&&(a="&alamat="+this.item.alamat);var n="";null!=this.item.nik&&(n="nik="+this.item.nik);var o="";null!=this.item.noBPJS&&(o="&bpjs="+this.item.noBPJS),null!=this.item.namaAyah&&(t="&namaAyah="+this.item.namaAyah);var l="";null!=this.item.tglLahir&&(l="tglLahir="+s(new Date(this.item.tglLahir)).format("YYYY-MM-DD")),this.pencarian=n+l+e+i+t+a+o,this.getData(this.page,this.rows,this.sortField,this.sortOrder,this.pencarian)}},{key:"findSelectedIndex",value:function(){return this.dataTable.indexOf(this.selected)}},{key:"loadLazy",value:function(e){this.getData(e.first,e.rows,e.sortField,e.sortOrder,this.pencarian),this.page=e.first,this.rows=e.rows,this.sortField=e.sortField,this.sortOrder=e.sortOrder}},{key:"onRowSelect",value:function(e){this.selected=e.data}},{key:"popUpTriasePasienBaru",value:function(){this.isSimpan=!1,this.item.tglLahir=this.now,this.pop_DataPasien=!0}},{key:"popUpTriasePasienBaru2",value:function(e){this.isSimpan=!1,this.item.tglLahir=this.now,this.pop_DataPasien=!0}},{key:"tutupPasienTriase",value:function(){this.item.namaPasien=void 0,this.item.jenisKelamin=void 0,this.item.tempatLahir=void 0,this.item.Notelepon=void 0,this.item.Alamat=void 0,this.item.tglLahir=this.now,this.pop_DataPasien=!1}},{key:"simpanPasienTriase",value:function(){var e=this;if(this.isSimpan=!0,null!=this.item.namaPasien)if(null!=this.item.jenisKelamin)if(null!=this.item.tglLahir){var i={idpasien:"",namapasien:this.item.namaPasien,jeniskelamin:this.item.jenisKelamin.id,tgllahir:s(this.item.tglLahir).format("YYYY-MM-DD HH:mm"),tempatlahir:null!=this.item.tempatLahir?this.item.tempatLahir:null,nohp:null!=this.item.Notelepon?this.item.Notelepon:null,alamat:null!=this.item.Alamat?this.item.Alamat:null};this.apiService.post("registrasi/simpan-pasien-triase",i).subscribe(function(i){e.apiService.postLog("Simpan Pasien Baru Triase","id Triase Pasien",i.data.id,"Simpan Pasien Baru Triase dengan Nama Pasien "+i.data.namapasien).subscribe(function(e){}),e.router.navigate(["rekam-medis-igd",i.data.id,"pasienTriase"])})}else this.alertService.warn("Info","Tanggal Lahir Belum Diisi");else this.alertService.warn("Info","Jenis Kelamin Belum Diisi");else this.alertService.warn("Info","Nama Pasien Belum Diisi")}},{key:"inputTriase",value:function(){null!=this.selected?this.router.navigate(["rekam-medis-igd",this.selected.nocm,"pasienTerdaftar"]):this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"inputTriase2",value:function(e){this.router.navigate(["rekam-medis-igd",e.nocm,"pasienTerdaftar"])}}])&&i(a.prototype,n),o&&i(a,o),t}(),S.\u0275fac=function(e){return new(e||S)(p.Jb(b.a),p.Jb(b.b),p.Jb(r.a),p.Jb(r.h),p.Jb(l.f),p.Jb(d.a),p.Jb(c.a),p.Jb(h.a),p.Jb(l.a))},S.\u0275cmp=p.Db({type:S,selectors:[["app-daftar-pasien-terdaftar"]],features:[p.wb([r.a])],decls:75,vars:45,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-2","p-md-offset-1"],["for","input",1,"label"],["type","text","pInputText","","placeholder","No Rekam Medis",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col","p-md-2"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","NIK",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","No BPJS ",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-2"],["yearRange","1980:2030","dateFormat","dd-mm-yy",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["type","text","pInputText","","placeholder","Alamat ",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1",2,"margin-top","15px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["header","Data Pasien",3,"visible","modal","maximizable","draggable","resizable","contentStyle","visibleChange"],[1,"p-col-12","p-md-12"],[1,"p-col-12","p-md-4"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange"],["placeholder","Jenis Kelamin","optionLabel","jeniskelamin","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Tempat Lahir","appendTo","body",3,"ngModel","ngModelChange"],["yearRange","1980:2030","dateFormat","yy-mm-dd","hourFormat","24","placeholder","Tgl Registrasi","appendTo","body",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","disabled","ngModelChange"],["type","text","pInputText","","placeholder","No Telepon","appendTo","body",3,"ngModel","ngModelChange"],["pInputTextarea","","placeholder","Alamat",2,"height","85px",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-8"],[1,"p-col-12","p-md-2",2,"margin-top","15px"],["pButton","","type","submit","icon","fa fa-floppy-o","pTooltip","Simpan","label","Simpan",3,"disabled","click"],["pButton","","type","submit","icon","fa fa-times-circle-o","pTooltip","Tutup","label","Tutup",2,"background-color","red",3,"click"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],["pButton","","type","button","icon","fa fa-stethoscope","pTooltip","Input Triase Pasien Baru","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","fa fa-medkit","pTooltip","Input Triase Pasien","label","",1,"p-button-rounded","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(p.Lb(0,"p-confirmPopup"),p.Qb(1,"div",0),p.Qb(2,"div",1),p.Qb(3,"h4"),p.Jc(4,"Pasien List"),p.Pb(),p.Qb(5,"div",2),p.Qb(6,"div",3),p.Qb(7,"label",4),p.Jc(8,"No RM "),p.Pb(),p.Qb(9,"input",5),p.Yb("ngModelChange",function(e){return i.item.noRM=e})("keyup.enter",function(){return i.cari()}),p.Pb(),p.Pb(),p.Qb(10,"div",6),p.Qb(11,"label",4),p.Jc(12,"Nama Pasien "),p.Pb(),p.Qb(13,"input",7),p.Yb("ngModelChange",function(e){return i.item.namaPasien=e})("keyup.enter",function(){return i.cari()}),p.Pb(),p.Pb(),p.Qb(14,"div",8),p.Qb(15,"label",4),p.Jc(16,"NIK "),p.Pb(),p.Qb(17,"input",9),p.Yb("ngModelChange",function(e){return i.item.nik=e})("keyup.enter",function(){return i.cari()}),p.Pb(),p.Pb(),p.Qb(18,"div",8),p.Qb(19,"label",4),p.Jc(20,"No BPJS "),p.Pb(),p.Qb(21,"input",10),p.Yb("ngModelChange",function(e){return i.item.noBPJS=e})("keyup.enter",function(){return i.cari()}),p.Pb(),p.Pb(),p.Qb(22,"div",11),p.Qb(23,"label",4),p.Jc(24,"Tgl Lahir "),p.Pb(),p.Qb(25,"p-calendar",12),p.Yb("ngModelChange",function(e){return i.item.tglLahir=e}),p.Pb(),p.Pb(),p.Qb(26,"div",11),p.Qb(27,"label",4),p.Jc(28,"Alamat "),p.Pb(),p.Qb(29,"input",13),p.Yb("ngModelChange",function(e){return i.item.alamat=e})("keyup.enter",function(){return i.cari()}),p.Pb(),p.Pb(),p.Qb(30,"div",14),p.Qb(31,"button",15),p.Yb("click",function(){return i.cari()}),p.Pb(),p.Pb(),p.Pb(),p.Qb(32,"div",16),p.Qb(33,"p-table",17,18),p.Yb("selectionChange",function(e){return i.selected=e}),p.Hc(35,T,4,1,"ng-template",19),p.Hc(36,J,5,3,"ng-template",20),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(37,"p-dialog",21),p.Yb("visibleChange",function(e){return i.pop_DataPasien=e}),p.Qb(38,"div",0),p.Qb(39,"div",2),p.Qb(40,"div",22),p.Qb(41,"div",2),p.Qb(42,"div",23),p.Qb(43,"label",4),p.Jc(44,"Nama Pasien "),p.Pb(),p.Qb(45,"input",24),p.Yb("ngModelChange",function(e){return i.item.namaPasien=e}),p.Pb(),p.Pb(),p.Qb(46,"div",11),p.Qb(47,"label",4),p.Jc(48,"Jenis Kelamin"),p.Pb(),p.Qb(49,"p-dropdown",25),p.Yb("ngModelChange",function(e){return i.item.jenisKelamin=e}),p.Pb(),p.Pb(),p.Qb(50,"div",11),p.Qb(51,"label",4),p.Jc(52,"Tempat Lahir "),p.Pb(),p.Qb(53,"input",26),p.Yb("ngModelChange",function(e){return i.item.tempatLahir=e}),p.Pb(),p.Pb(),p.Qb(54,"div",11),p.Qb(55,"label",4),p.Jc(56,"Tanggal Lahir "),p.Pb(),p.Qb(57,"p-calendar",27),p.Yb("ngModelChange",function(e){return i.item.tglLahir=e}),p.Pb(),p.Pb(),p.Qb(58,"div",11),p.Qb(59,"label",4),p.Jc(60,"Notelepon"),p.Pb(),p.Qb(61,"input",28),p.Yb("ngModelChange",function(e){return i.item.Notelepon=e}),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(62,"div",22),p.Qb(63,"div",2),p.Qb(64,"div",22),p.Qb(65,"label",4),p.Jc(66,"Alamat "),p.Pb(),p.Qb(67,"textarea",29),p.Yb("ngModelChange",function(e){return i.item.Alamat=e}),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(68,"div",22),p.Qb(69,"div",2),p.Lb(70,"div",30),p.Qb(71,"div",31),p.Qb(72,"button",32),p.Yb("click",function(){return i.simpanPasienTriase()}),p.Pb(),p.Pb(),p.Qb(73,"div",31),p.Qb(74,"button",33),p.Yb("click",function(){return i.tutupPasienTriase()}),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb()),2&e&&(p.xb(9),p.ic("ngModel",i.item.noRM),p.xb(4),p.ic("ngModel",i.item.namaPasien),p.xb(4),p.ic("ngModel",i.item.nik),p.xb(4),p.ic("ngModel",i.item.noBPJS),p.xb(4),p.ic("ngModel",i.item.tglLahir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),p.xb(4),p.ic("ngModel",i.item.alamat),p.xb(4),p.ic("columns",i.column)("value",i.dataTable)("selection",i.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",p.mc(42,N))("paginator",!0)("pageLinks",5),p.xb(4),p.Ec(p.mc(43,Y)),p.ic("visible",i.pop_DataPasien)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0)("contentStyle",p.mc(44,I)),p.xb(8),p.ic("ngModel",i.item.namaPasien),p.xb(4),p.ic("options",i.listJenisKelamin)("ngModel",i.item.jenisKelamin)("filter",!0)("showClear",!0),p.xb(4),p.ic("ngModel",i.item.tempatLahir),p.xb(4),p.ic("ngModel",i.item.tglLahir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1)("disabled",i.isTglRegistrasi),p.xb(4),p.ic("ngModel",i.item.Notelepon),p.xb(6),p.ic("ngModel",i.item.Alamat),p.xb(5),p.ic("disabled",i.isSimpan))},directives:[m.a,u.a,g.a,u.g,u.h,f.a,P.b,v.a,y.h,r.k,w.a,M.a,Q.a,o.k,y.g,y.f,y.e],styles:[""]}),S)}],B=((C=function i(){e(this,i)}).\u0275mod=p.Hb({type:C}),C.\u0275inj=p.Gb({factory:function(e){return new(e||C)},imports:[[l.j.forChild(D)],l.j]}),C),R=n("PCNd"),j=((L=function i(){e(this,i)}).\u0275mod=p.Hb({type:L}),L.\u0275inj=p.Gb({factory:function(e){return new(e||L)},imports:[[o.b,B,R.a]]}),L)}}])}();