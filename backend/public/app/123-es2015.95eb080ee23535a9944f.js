(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{EIR0:function(e,i,t){"use strict";t.r(i),t.d(i,"DataPegawaiModule",function(){return H});var a=t("ofXK"),n=t("PCNd"),l=t("tyNb"),o=t("7zfz"),s=t("wd/R"),p=t("fXoL"),r=t("EJUL"),b=t("U+s4"),d=t("G0w9"),c=t("ujBT"),g=t("Nf9I"),m=t("7kUa"),h=t("rEr+"),u=t("/RsI"),w=t("7CaW"),P=t("3Pt+"),f=t("eO1q"),v=t("arFO"),k=t("zFJ7"),Q=t("jIHw"),M=t("Q4Mo"),x=t("xlun");function y(e,i){if(1&e){const e=p.Sb();p.Qb(0,"div",32),p.Qb(1,"button",33),p.Yb("click",function(){return p.yc(e),p.bc().tambah()}),p.Pb(),p.Pb()}}function C(e,i){if(1&e&&(p.Qb(0,"th",36),p.Jc(1),p.Lb(2,"p-sortIcon",37),p.Pb()),2&e){const e=i.$implicit;p.Fc("width: ",e.width,""),p.jc("pSortableColumn",e.field),p.xb(1),p.Lc(" ",e.header," "),p.xb(1),p.jc("field",e.field)}}function L(e,i){if(1&e&&(p.Qb(0,"tr"),p.Lb(1,"th",34),p.Hc(2,C,3,6,"th",35),p.Pb()),2&e){const e=i.$implicit;p.xb(2),p.ic("ngForOf",e)}}function j(e,i){if(1&e&&(p.Qb(0,"td"),p.Jc(1),p.Pb()),2&e){const e=i.$implicit,t=p.bc().$implicit;p.Fc("width: ",e.width,""),p.xb(1),p.Lc(" ",t[e.field]," ")}}function J(e,i){if(1&e){const e=p.Sb();p.Qb(0,"tr"),p.Qb(1,"td",34),p.Qb(2,"button",38),p.Yb("click",function(){p.yc(e);const t=i.$implicit;return p.bc().editPegawai(t)}),p.Pb(),p.Qb(3,"button",39),p.Yb("click",function(){p.yc(e);const t=i.$implicit;return p.bc().hapusPegawai(t)}),p.Pb(),p.Pb(),p.Hc(4,j,2,4,"td",40),p.Pb()}if(2&e){const e=i.columns;p.xb(4),p.ic("ngForOf",e)}}function N(e,i){if(1&e){const e=p.Sb();p.Qb(0,"button",41),p.Yb("click",function(){return p.yc(e),p.bc().simpanPegawai()}),p.Pb(),p.Qb(1,"button",42),p.Yb("click",function(){return p.yc(e),p.bc().pop_Pegawai=!1}),p.Pb()}if(2&e){const e=p.bc();p.ic("disabled",e.isSimpan)}}const T=function(){return[5,10,25,50]},S=function(){return["namalengkap","statuspegawai","jenispegawai","jeniskelamin"]},I=function(){return{width:"900px",minWidth:"900px"}},D=[{path:"",component:(()=>{class e{constructor(e,i,t,a,n,l,o,s,p){this.apiService=e,this.authService=i,this.confirmationService=t,this.messageService=a,this.cacheHelper=n,this.dateHelper=l,this.alertService=o,this.route=s,this.router=p,this.item={},this.pop_Pegawai=!1,this.idPegawai=""}ngOnInit(){this.dataLogin=this.authService.dataLoginUser,this.kelUser=this.dataLogin.kelompokUser.kelompokUser,this.loadColumn(),this.loadCombo(),this.loadData()}loadColumn(){this.column=[{field:"no",header:"No",width:"80px"},{field:"namalengkap",header:"Nama Pegawai",width:"250px"},{field:"tempatlahir",header:"Tempat Lahir",width:"180px"},{field:"tgllahir",header:"Tgl Lahir",width:"160px"},{field:"jeniskelamin",header:"Jenis Kelamin",width:"180px"},{field:"noidentitas",header:"No Identitas",width:"120px"},{field:"nip_pns",header:"Nip",width:"120px"},{field:"tglmasuk",header:"Tgl Masuk",width:"160px"},{field:"jenispegawai",header:"Jenis Pegawai",width:"250px"},{field:"statuspegawai",header:"Status",width:"280px"},{field:"alamat",header:"Alamat",width:"250px"}]}loadCombo(){this.apiService.get("sysadmin/general/get-data-combo-pegawai-rs").subscribe(e=>{var i=e;this.listDataJenisKelamin=i.jeniskelamin,this.listDataJenisPegawai=i.jenispegawai,this.listDataStatusPegawai=i.statuspegawai})}loadData(){this.apiService.get("sysadmin/general/get-data-pegawai-rs").subscribe(e=>{for(let i=0;i<e.data.length;i++)e.data[i].no=i+1;this.dataSource=e.data})}clearData(){this.idPegawai="",this.item.NamaLengkap=void 0,this.item.TempatLahir=void 0,this.item.tglLahir=void 0,this.item.jenisKelamin=void 0,this.item.NoIdentitas=void 0,this.item.Nip=void 0,this.item.tglMasuk=void 0,this.item.jenisPegawai=void 0,this.item.statusPegawai=void 0,this.item.Alamat=void 0}editPegawai(e){var i=e;this.idPegawai=i.id,this.item.NamaLengkap=i.namalengkap,this.item.TempatLahir=i.tempatlahir,i.tgllahir&&(this.item.tglLahir=new Date(i.tgllahir)),this.item.jenisKelamin={id:i.objectjeniskelaminfk,jeniskelamin:i.jeniskelamin},this.item.NoIdentitas=i.noidentitas,this.item.Nip=i.nip_pns,i.tglmasuk&&(this.item.tglMasuk=new Date(i.tglmasuk)),this.item.jenisPegawai={id:i.objectjenispegawaifk,jenispegawai:i.jenispegawai},this.item.statusPegawai={id:i.objectstatuspegawaifk,statuspegawai:i.statuspegawai},this.item.Alamat=i.alamat,this.pop_Pegawai=!0}hapusPegawai(e){this.apiService.post("sysadmin/general/delete-pegawai-rs",{id:e.id}).subscribe(e=>{this.loadData()})}tambah(){this.pop_Pegawai=!0,this.clearData()}simpanPegawai(){if(null==this.item.NamaLengkap)return void this.alertService.warn("Info","Nama Lengkap Belum Diisi");if(null==this.item.jenisKelamin)return void this.alertService.warn("Info","Jenis Pegawai Belum Diisi");if(null==this.item.jenisPegawai)return void this.alertService.warn("Info","Jenis Pegawai Belum Diisi");let e={id:this.idPegawai,namalengkap:null!=this.item.NamaLengkap?this.item.NamaLengkap:null,tempatlahir:null!=this.item.TempatLahir?this.item.TempatLahir:null,tgllahir:null!=this.item.tglLahir?s(this.item.tglLahir).format("YYYY-MM-DD HH:mm"):null,objectjeniskelaminfk:null!=this.item.jenisKelamin?this.item.jenisKelamin.id:null,noidentitas:null!=this.item.NoIdentitas?this.item.NoIdentitas:null,nip_pns:null!=this.item.Nip?this.item.Nip:null,tglmasuk:null!=this.item.tglMasuk?s(this.item.tglMasuk).format("YYYY-MM-DD HH:mm"):null,jenispegawai:null!=this.item.jenisPegawai?this.item.jenisPegawai.id:null,statuspegawai:null!=this.item.statusPegawai?this.item.statusPegawai.id:null,alamat:null!=this.item.Alamat?this.item.Alamat:null};this.apiService.post("sysadmin/general/save-pegawai-rs",e).subscribe(e=>{this.loadData(),this.clearData(),this.pop_Pegawai=!1})}}return e.\u0275fac=function(i){return new(i||e)(p.Jb(r.a),p.Jb(r.b),p.Jb(o.a),p.Jb(o.h),p.Jb(b.a),p.Jb(d.a),p.Jb(c.a),p.Jb(l.a),p.Jb(l.f))},e.\u0275cmp=p.Db({type:e,selectors:[["app-data-pegawai"]],features:[p.wb([o.a])],decls:63,vars:48,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-4"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Pencarian ",3,"input"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Pegawai RS",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-fluid","p-grid"],["header","Detail Pegawai",3,"toggleable"],["for","input",1,"label"],["type","text","pInputText","","placeholder","Nama Lengkap","appendTo","body",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-3"],["type","text","pInputText","","placeholder","Tempat Lahir","appendTo","body",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-2"],["for","input",1,"label-required"],["yearRange","1980:2030","dateFormat","dd-mm-yy","placeholder","dd-mm-yyyy","appendTo","body",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Jenis Kelamin","optionLabel","jeniskelamin","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","No Identitas","appendTo","body",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","NIP","appendTo","body",3,"ngModel","ngModelChange"],["placeholder","Jenis Pegawai","optionLabel","jenispegawai","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Jenis Status","optionLabel","statuspegawai","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],["pTemplate","footer"],[1,"p-d-flex"],["type","button","pButton","","pRipple","","icon","pi pi-plus","pTooltip","Tambah ","tooltipPosition","bottom",1,"p-button-success","p-mr-2",3,"click"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit ","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus ","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],["pButton","","icon","pi pi-save","label","Simpan",1,"p-button","p-button-success","p-mr-2",3,"disabled","click"],["pButton","","icon","fa fa-refresh","label","Batal",1,"p-button","p-mr-2",3,"click"]],template:function(e,i){if(1&e){const e=p.Sb();p.Lb(0,"p-confirmDialog",0),p.Qb(1,"div",1),p.Qb(2,"div",2),p.Qb(3,"h4"),p.Jc(4,"Data Pegawai Rumah Sakit"),p.Pb(),p.Qb(5,"div",3),p.Qb(6,"div",4),p.Qb(7,"div",5),p.Qb(8,"span",6),p.Lb(9,"i",7),p.Qb(10,"input",8),p.Yb("input",function(i){return p.yc(e),p.wc(13).filterGlobal(i.target.value,"contains")}),p.Pb(),p.Pb(),p.Pb(),p.Qb(11,"div",9),p.Qb(12,"p-table",10,11),p.Yb("selectionChange",function(e){return i.selectedGrid=e}),p.Hc(14,y,2,0,"ng-template",12),p.Hc(15,L,3,1,"ng-template",13),p.Hc(16,J,5,1,"ng-template",14),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(17,"p-dialog",15),p.Yb("visibleChange",function(e){return i.pop_Pegawai=e}),p.Qb(18,"div",16),p.Qb(19,"div",3),p.Qb(20,"p-panel",17),p.Qb(21,"div",4),p.Qb(22,"div",5),p.Qb(23,"label",18),p.Jc(24,"Nama Lengkap"),p.Pb(),p.Qb(25,"input",19),p.Yb("ngModelChange",function(e){return i.item.NamaLengkap=e}),p.Pb(),p.Pb(),p.Qb(26,"div",20),p.Qb(27,"label",18),p.Jc(28,"Tempat Lahir"),p.Pb(),p.Qb(29,"input",21),p.Yb("ngModelChange",function(e){return i.item.TempatLahir=e}),p.Pb(),p.Pb(),p.Qb(30,"div",22),p.Qb(31,"label",23),p.Jc(32,"Tgl Lahir "),p.Pb(),p.Qb(33,"p-calendar",24),p.Yb("ngModelChange",function(e){return i.item.tglLahir=e}),p.Pb(),p.Pb(),p.Qb(34,"div",20),p.Qb(35,"label",23),p.Jc(36,"Jenis Kelamin "),p.Pb(),p.Qb(37,"p-dropdown",25),p.Yb("ngModelChange",function(e){return i.item.jenisKelamin=e}),p.Pb(),p.Pb(),p.Qb(38,"div",5),p.Qb(39,"label",18),p.Jc(40,"No Identitas"),p.Pb(),p.Qb(41,"input",26),p.Yb("ngModelChange",function(e){return i.item.NoIdentitas=e}),p.Pb(),p.Pb(),p.Qb(42,"div",5),p.Qb(43,"label",18),p.Jc(44,"Nip"),p.Pb(),p.Qb(45,"input",27),p.Yb("ngModelChange",function(e){return i.item.Nip=e}),p.Pb(),p.Pb(),p.Qb(46,"div",5),p.Qb(47,"label",23),p.Jc(48,"Tgl Masuk "),p.Pb(),p.Qb(49,"p-calendar",24),p.Yb("ngModelChange",function(e){return i.item.tglMasuk=e}),p.Pb(),p.Pb(),p.Qb(50,"div",5),p.Qb(51,"label",23),p.Jc(52,"Jenis Pegawai "),p.Pb(),p.Qb(53,"p-dropdown",28),p.Yb("ngModelChange",function(e){return i.item.jenisPegawai=e}),p.Pb(),p.Pb(),p.Qb(54,"div",5),p.Qb(55,"label",23),p.Jc(56,"Status Pegawai "),p.Pb(),p.Qb(57,"p-dropdown",29),p.Yb("ngModelChange",function(e){return i.item.statusPegawai=e}),p.Pb(),p.Pb(),p.Qb(58,"div",5),p.Qb(59,"label",18),p.Jc(60,"Alamat "),p.Pb(),p.Qb(61,"textarea",30),p.Yb("ngModelChange",function(e){return i.item.Alamat=e}),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Hc(62,N,2,1,"ng-template",31),p.Pb()}2&e&&(p.xb(12),p.ic("columns",i.column)("value",i.dataSource)("selection",i.selectedGrid)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",p.mc(45,T))("paginator",!0)("pageLinks",5)("globalFilterFields",p.mc(46,S)),p.xb(5),p.Ec(p.mc(47,I)),p.ic("visible",i.pop_Pegawai)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),p.xb(3),p.ic("toggleable",!0),p.xb(5),p.ic("ngModel",i.item.NamaLengkap),p.xb(4),p.ic("ngModel",i.item.TempatLahir),p.xb(4),p.ic("ngModel",i.item.tglLahir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),p.xb(4),p.ic("options",i.listDataJenisKelamin)("ngModel",i.item.jenisKelamin)("filter",!0)("showClear",!0),p.xb(4),p.ic("ngModel",i.item.NoIdentitas),p.xb(4),p.ic("ngModel",i.item.Nip),p.xb(4),p.ic("ngModel",i.item.tglMasuk)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),p.xb(4),p.ic("options",i.listDataJenisPegawai)("ngModel",i.item.jenisPegawai)("filter",!0)("showClear",!0),p.xb(4),p.ic("options",i.listDataStatusPegawai)("ngModel",i.item.statusPegawai)("filter",!0)("showClear",!0),p.xb(4),p.ic("ngModel",i.item.Alamat))},directives:[g.a,m.a,h.h,o.k,u.a,w.a,P.a,P.g,P.h,f.a,v.a,k.a,Q.b,M.a,x.a,a.k,h.g,h.f],styles:[""]}),e})()}];let Y=(()=>{class e{}return e.\u0275mod=p.Hb({type:e}),e.\u0275inj=p.Gb({factory:function(i){return new(i||e)},imports:[[l.j.forChild(D)],l.j]}),e})(),H=(()=>{class e{}return e.\u0275mod=p.Hb({type:e}),e.\u0275inj=p.Gb({factory:function(i){return new(i||e)},imports:[[a.b,Y,n.a]]}),e})()}}]);