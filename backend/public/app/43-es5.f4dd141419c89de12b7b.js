!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"6CRp":function(i,a,n){"use strict";n.r(a),n.d(a,"DaftarOrderResepModule",function(){return ae});var r=n("ofXK"),l=n("tyNb"),o=n("7zfz"),s=n("wd/R"),d=n("fXoL"),c=n("EJUL"),b=n("U+s4"),p=n("G0w9"),u=n("ujBT"),h=n("Nf9I"),g=n("eO1q"),m=n("3Pt+"),f=n("arFO"),v=n("7kUa"),k=n("lVkt"),P=n("jIHw"),w=n("xlun"),Q=n("5EWq"),x=n("rEr+"),M=n("/RsI"),y=n("7CaW"),S=n("Wq6t"),D=function(){return{display:"inline-flex"}};function C(e,t){if(1&e&&(d.Lb(0,"p-splitButton",53),d.Lb(1,"p-splitButton",54)),2&e){var i=d.bc();d.Ec(d.mc(6,D)),d.ic("model",i.listBtnObat),d.xb(1),d.Ec(d.mc(7,D)),d.ic("model",i.listBtnCetak)}}function O(e,t){if(1&e&&(d.Qb(0,"th",57),d.Jc(1),d.Lb(2,"p-sortIcon",58),d.Pb()),2&e){var i=t.$implicit;d.Fc("width: ",i.width,""),d.jc("pSortableColumn",i.field),d.xb(1),d.Lc(" ",i.header," "),d.xb(1),d.jc("field",i.field)}}function R(e,t){if(1&e&&(d.Qb(0,"tr"),d.Qb(1,"th",55),d.Jc(2," Aksi "),d.Pb(),d.Hc(3,O,3,6,"th",56),d.Pb()),2&e){var i=t.$implicit;d.xb(3),d.ic("ngForOf",i)}}function N(e,t){if(1&e&&(d.Qb(0,"span"),d.Jc(1),d.Pb()),2&e){var i=d.bc().$implicit,a=d.bc().$implicit;d.zb(a.class),d.xb(1),d.Lc(" ",a[i.field],"")}}function Y(e,t){if(1&e&&(d.Qb(0,"span"),d.Jc(1),d.Pb()),2&e){var i=d.bc().$implicit,a=d.bc().$implicit;d.xb(1),d.Lc(" ",a[i.field],"")}}function I(e,t){if(1&e&&(d.Qb(0,"td"),d.Hc(1,N,2,4,"span",62),d.Hc(2,Y,2,1,"span",63),d.Pb()),2&e){var i=t.$implicit;d.Fc("width: ",i.width,""),d.xb(1),d.ic("ngIf",1==i.isTag),d.xb(1),d.ic("ngIf",1!=i.isTag)}}function T(e,t){if(1&e){var i=d.Sb();d.Qb(0,"tr",59),d.Qb(1,"td",55),d.Qb(2,"p-splitButton",60),d.Yb("onDropdownClick",function(){d.yc(i);var e=t.$implicit;return d.bc().selectData(e)}),d.Pb(),d.Pb(),d.Hc(3,I,3,5,"td",61),d.Pb()}if(2&e){var a=t.$implicit,n=t.columns,r=t.rowIndex,l=d.bc();d.ic("pSelectableRow",a)("pSelectableRowIndex",r),d.xb(2),d.Ec(d.mc(6,D)),d.ic("model",l.listBtn),d.xb(1),d.ic("ngForOf",n)}}function L(e,t){if(1&e&&(d.Qb(0,"th",57),d.Jc(1),d.Lb(2,"p-sortIcon",58),d.Pb()),2&e){var i=t.$implicit;d.Fc("width: ",i.width,""),d.jc("pSortableColumn",i.field),d.xb(1),d.Lc(" ",i.header," "),d.xb(1),d.jc("field",i.field)}}function J(e,t){if(1&e&&(d.Qb(0,"tr"),d.Hc(1,L,3,6,"th",56),d.Pb()),2&e){var i=t.$implicit;d.xb(1),d.ic("ngForOf",i)}}function A(e,t){if(1&e&&(d.Qb(0,"td"),d.Jc(1),d.Pb()),2&e){var i=t.$implicit,a=d.bc().$implicit;d.Fc("width: ",i.width,""),d.xb(1),d.Lc(" ",a[i.field]," ")}}function B(e,t){if(1&e&&(d.Qb(0,"tr",59),d.Hc(1,A,2,4,"td",61),d.Pb()),2&e){var i=t.columns,a=t.rowIndex;d.ic("pSelectableRow",t.$implicit)("pSelectableRowIndex",a),d.xb(1),d.ic("ngForOf",i)}}function H(e,t){if(1&e&&(d.Qb(0,"th",57),d.Jc(1),d.Lb(2,"p-sortIcon",58),d.Pb()),2&e){var i=t.$implicit;d.Fc("width: ",i.width,""),d.jc("pSortableColumn",i.field),d.xb(1),d.Lc(" ",i.header," "),d.xb(1),d.jc("field",i.field)}}function j(e,t){if(1&e&&(d.Qb(0,"tr"),d.Hc(1,H,3,6,"th",56),d.Pb()),2&e){var i=t.$implicit;d.xb(1),d.ic("ngForOf",i)}}function F(e,t){if(1&e&&(d.Qb(0,"td"),d.Jc(1),d.Pb()),2&e){var i=t.$implicit,a=d.bc().$implicit;d.Fc("width: ",i.width,""),d.xb(1),d.Lc(" ",a[i.field]," ")}}function V(e,t){if(1&e&&(d.Qb(0,"tr",59),d.Hc(1,F,2,4,"td",61),d.Pb()),2&e){var i=t.columns,a=t.rowIndex;d.ic("pSelectableRow",t.$implicit)("pSelectableRowIndex",a),d.xb(1),d.ic("ngForOf",i)}}function E(e,t){if(1&e){var i=d.Sb();d.Qb(0,"p-button",64),d.Yb("click",function(){return d.yc(i),d.bc().cariFilter()}),d.Pb(),d.Qb(1,"p-button",65),d.Yb("click",function(){return d.yc(i),d.bc().clearFilter()}),d.Pb()}}var z,$,_,U=function(){return[5,10,25,50]},q=function(){return{width:"50vw"}},K=function(){return{width:"1000px",minWidth:"1000px"}},W=function(){return{minHeight:"280px"}},G=function(){return{width:"1200px",minWidth:"1200px"}},X=function(){return{width:"820px",minWidth:"820px"}},Z=function(){return{minHeight:"100px"}},ee=[{path:"",component:(z=function(){function i(t,a,n,r,l,o,s,d,c){e(this,i),this.apiService=t,this.authService=a,this.confirmationService=n,this.messageService=r,this.cacheHelper=l,this.dateHelper=o,this.alertService=s,this.route=d,this.router=c,this.item={pasien:{},order:{}},this.listStatusPengerjaan=[]}var a,n,r;return a=i,(n=[{key:"ngOnInit",value:function(){var e=this;this.dataLogin=this.authService.dataLoginUser,this.kelUser=this.dataLogin.kelompokUser.kelompokUser,this.dateNow=new Date,this.item.tglAwal=s(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=s(this.dateNow).format("YYYY-MM-DD 23:59"),this.item.jmlRows=50,this.column=[{field:"noantri",header:"No Antri",width:"125px"},{field:"noorder",header:"No Order",width:"140px"},{field:"statusorder",header:"Status",width:"120px",isTag:!0},{field:"tglorder",header:"Tgl Order",width:"140px"},{field:"tglregistrasi",header:"Tgl Registrasi",width:"140px"},{field:"tglpulang",header:"Tgl Pulang",width:"140px"},{field:"noregistrasi",header:"Noregistrasi",width:"125px"},{field:"norm",header:"No RM",width:"100px"},{field:"namapasien",header:"Nama Pasien",width:"200px"},{field:"namaruanganrawat",header:"Ruang Order",width:"180px"},{field:"namaruangan",header:"Depo",width:"180px"},{field:"umur",header:"Umur",width:"120px"},{field:"namalengkap",header:"Petugas",width:"180px"}],this.columnDo=[{field:"no",header:"No",width:"65px"},{field:"rke",header:"Rke",width:"80px"},{field:"jeniskemasan",header:"Jenis Kemasan",width:"140px"},{field:"namaproduk",header:"Produk",width:"180px"},{field:"satuanstandar",header:"Satuan",width:"140px"},{field:"aturanpakai",header:"Aturan Pakai",width:"140px"},{field:"jumlah",header:"Qty",width:"125px"},{field:"chekreseppulang",header:"Resep Pulang",width:"140px"}],this.loadBtn(),this.getDataCombo(),this.listBtn=[{label:"Verifikasi Order",icon:"fa fa-check-square-o",command:function(){e.verifikasiOrder()}},{label:"Detail Order",icon:"fa fa-info-circle",command:function(){e.detailOrder()}},{label:"Detail Verifikasi",icon:"fa fa-info-circle",command:function(){e.detailVerifikasi()}},{label:"Batal Verifikasi",icon:"fa fa-ban",command:function(){e.batalVerifikasi()}}]}},{key:"loadBtn",value:function(){var e=this;this.listBtnObat=[{label:"Produksi",icon:"fa fa-pencil-square-o",command:function(){e.produksi()}},{label:"Packaging",icon:"fa fa-pencil-square-o",command:function(){e.packaging()}},{label:"Selesai",icon:"fa fa-pencil-square-o",command:function(){e.selesai()}},{label:"Penyerahan Obat",icon:"fa fa-pencil-square-o",command:function(){e.penyerahanObat()}}],this.listBtnCetak=[{label:"Cetak Antrian",icon:"fa fa-print",command:function(){e.ctkNoAntrian()}},{label:"Cetak Label",icon:"fa fa-print",command:function(){e.ctkLabel()}},{label:"Cetak Resep Obat",icon:"fa fa-print",command:function(){e.ctkResepObat()}}]}},{key:"getDataCombo",value:function(){var e=this;this.apiService.get("farmasi/get-combo-farmasi").subscribe(function(t){var i=t;e.listRuangan=i.ruanglayanan,e.listRuanganFarmasi=i.ruangfarmasi,e.listStatusPengerjaan=i.statuspengerjaan,e.LoadCache()})}},{key:"LoadCache",value:function(){var e=this.cacheHelper.get("daftarOrderResepElektronikCtrl");null!=e?(this.item.tglAwal=new Date(e[0]),this.item.tglAkhir=new Date(e[1]),this.item.noRM=e[2],this.item.Noregistrasi=e[3],this.item.namaPasien=e[4],this.item.NoOrder=e[5],this.getData()):this.getData()}},{key:"getData",value:function(){var e=this,t="";null!=this.item.noRM&&(t="&nocm="+this.item.noRM);var i="";null!=this.item.Noregistrasi&&(i="&noregistrasi="+this.item.Noregistrasi);var a="";null!=this.item.namaPasien&&(a="&namaPasien="+this.item.namaPasien);var n="";null!=this.item.NoOrder&&(n="&noPesanan="+this.item.NoOrder);var r="";null!=this.item.dataRuangan&&(r="&ruanganId="+this.item.dataRuangan);var l="";null!=this.item.dataDepo&&(l="&depoId="+this.item.dataDepo);var o="";if(null!=this.item.selectedStatus&&0!=this.item.selectedStatus.length){for(var d="",c=this.item.selectedStatus.length-1;c>=0;c--)d+=","+this.item.selectedStatus[c].id;o=d.slice(1,d.length)}var b=s(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),p=s(this.item.tglAkhir).format("YYYY-MM-DD HH:mm");this.cacheHelper.set("daftarOrderResepElektronikCtrl",{0:b,1:p,2:null!=this.item.noRM?this.item.noRM:null,3:null!=this.item.Noregistrasi?this.item.Noregistrasi:null,4:null!=this.item.namaPasien?this.item.namaPasien:null,5:null!=this.item.NoOrder?this.item.NoOrder:null}),this.apiService.get("farmasi/get-daftar-order?tglAwal="+b+"&tglAkhir="+p+t+i+a+n+r+"&statusId="+o+l).subscribe(function(t){for(var i=t,a=0;a<i.length;a++){var n=i[a];n.no=a+1;var r=s(new Date(n.tglregistrasi)).format("YYYY-MM-DD"),l=s(new Date(n.tgllahir)).format("YYYY-MM-DD"),o=e.dateHelper.CountAge(new Date(l),new Date(r));n.umur=o.year+" thn "+o.month+" bln "+o.day+" hari",null!=n.noresep&&(n.statusorder="Verifikasi"),n.noorder==n.noresep&&"Menunggu"==n.statusorder&&(n.statusorder="Verifikasi"),n.class="Menunggu"==n.statusorder?"p-tag p-tag-warning":"Verifikasi"==n.statusorder?"p-tag p-tag-info":"p-tag p-tag-success",n.cekreseppulang="1"==n.checkreseppulang?"\u2714":"-"}i.sort(function(e,t){return e.noantri<t.noantri?-1:e.noantri>t.noantri?1:0}),e.dataTable=i})}},{key:"cari",value:function(){this.getData()}},{key:"onRowSelect",value:function(e){this.selected=e.data}},{key:"selectData",value:function(e){this.selected=e}},{key:"verifikasiOrder",value:function(){if(null!=this.selected)if("Menunggu"==this.selected.statusorder){this.cacheHelper.set("InputResepPasienCtrl",{0:this.selected.norm,1:this.selected.namapasien,2:this.selected.jeniskelamin,3:this.selected.noregistrasi,4:this.selected.umur,5:this.selected.klid,6:this.selected.namakelas,7:this.selected.tglregistrasi,8:this.selected.norec_apd,9:this.selected.norec_order,10:this.selected.kelompokpasien,11:this.selected.namaruanganrawat,12:this.selected.alamat,13:"",14:"",15:"",16:"OrderResep"}),this.router.navigate(["input-resep-apotik",this.selected.norec_pd,this.selected.norec_apd]);var e=this.selected.noregistrasi;null!=this.selected.noreservasi&&""!=this.selected.noreservasi&&"Kios-K"!=this.selected.noreservasi&&(e=this.selected.noreservasi),this.saveAntrol(e,6)}else this.alertService.warn("Info,","Sudah di verifikasi!");else this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"detailVerifikasi",value:function(){var e=this;null!=this.selected?null!=this.selected.norecresep?(this.item.order=this.selected,this.apiService.get("farmasi/get-detail-resep?norecResep="+this.selected.norecresep).subscribe(function(t){for(var i=t.pelayananPasien,a=0;a<i.length;a++){var n=i[a];n.no=a+1,n.chekreseppulang=1==n.isreseppulang||"1"==n.isreseppulang||1==n.isreseppulang?"\u2714":"-"}e.dataTableDo=i,e.pop_detailVerifikasi=!0})):this.alertService.warn("Info,","Data Belum Diverifikasi!"):this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"detailOrder",value:function(){var e=this;null!=this.selected?this.selected.noorder.indexOf("TR")>-1?this.alertService.warn("Info,","Bukan Merupakan order Resep, pilih detail verifikasi!"):(this.item.order=this.selected,this.apiService.get("farmasi/get-detail-order?norecOrder="+this.selected.norec_order).subscribe(function(t){for(var i=t.orderpelayanan,a=0;a<i.length;a++){var n=i[a];n.no=a+1,n.chekreseppulang=1==n.isreseppulang||"1"==n.isreseppulang||1==n.isreseppulang?"\u2714":"-"}e.dataTableDo=i,e.pop_detailOrder=!0})):this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"batalVerifikasi",value:function(){var e=this;null!=this.selected?null!=this.selected.norecresep?this.selected.noorder!=this.selected.noresep?this.apiService.get("farmasi/get-nostruk-kasir?norecresep="+this.selected.norecresep).subscribe(function(t){null==t[0].nostruk?e.confirmationService.confirm({message:"Lanjutkan Batal Verifikasi?",header:"Konfirmasi Batal Verifikasi",icon:"pi pi-info-circle",accept:function(){e.confirmationService.close(),e.apiService.post("farmasi/save-hapus-pelayananobat",{norec:e.selected.norecresep,norec_order:e.selected.norec_order}).subscribe(function(t){e.apiService.postLog("Batal Verifikasi Resep Elektronik","No Order Struk Order",e.selected.noorder,"Batal Verifikasi Resep Elektronik No Order: "+e.selected.noorder+"/ Noregistrasi : "+e.selected.noregistrasi).subscribe(function(e){}),e.apiService.postLog("Hapus Resep","Norec Transaksi Resep",e.selected.norecresep,"Hapus Resep No resep: "+e.selected.noresep+"/ Noregistrasi : "+e.selected.noregistrasi).subscribe(function(e){}),e.getData()})},reject:function(t){e.alertService.warn("Info, Konfirmasi","Batal Verifikasi Dibatalkan!"),e.confirmationService.close()}}):e.alertService.error("Info,","Tidak bisa batal verif karena sudah diverif kasir, harap hubungi kasir terlebih dahulu!")}):this.alertService.warn("Info,","Data Tidak bisa Unverifikasi!"):this.alertService.warn("Info,","Data Belum Diverifikasi!"):this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"produksi",value:function(){var e=this;null!=this.selected?"Verifikasi"==this.selected.statusorder?(this.strukresep="",this.selected.noorder==this.selected.noresep&&(this.strukresep=!0),this.apiService.post("farmasi/save-status-resepelektonik",{noorder:this.selected.noorder,statusorder:3,tglambil:null,namapengambil:null,strukresep:this.strukresep}).subscribe(function(t){e.apiService.postLog("Rubah Status Produksi Order Resep Elektronik","No Order Struk Order",e.selected.noorder,"Rubah Status Produksi Order Resep Elektronik No Order: "+e.selected.noorder+"/ Noregistrasi : "+e.selected.noregistrasi).subscribe(function(e){}),e.getData()})):this.alertService.warn("Info","Status Data Belum Diverifikasi!"):this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"packaging",value:function(){var e=this;if(null!=this.selected)return"Verifikasi"!=this.selected.statusorder&&"Produksi"!=this.selected.statusorder?"Menunggu"==this.selected.statusorder?void this.alertService.warn("Info,","Status Data Belum Diverifikasi !"):void this.alertService.warn("Info,","Status Data Belum Produksi !"):(this.strukresep="",this.selected.noorder==this.selected.noresep&&(this.strukresep=!0),void this.apiService.post("farmasi/save-status-resepelektonik",{noorder:this.selected.noorder,statusorder:4,tglambil:null,namapengambil:null,strukresep:this.strukresep}).subscribe(function(t){e.apiService.postLog("Rubah Status Packaging Order Resep Elektronik","No Order Struk Order",e.selected.noorder,"Rubah Status Packaging Order Resep Elektronik No Order: "+e.selected.noorder+"/ Noregistrasi : "+e.selected.noregistrasi).subscribe(function(e){}),e.getData()}));this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"selesai",value:function(){var e=this;if(null!=this.selected)return"Verifikasi"!=this.selected.statusorder&&"Packaging"!=this.selected.statusorder?"Menunggu"==this.selected.statusorder?void this.alertService.warn("Info,","Status Data Belum Diverifikasi!"):void this.alertService.warn("Info,","Status Data Belum Packaging!"):(this.strukresep="",this.selected.noorder==this.selected.noresep&&(this.strukresep=!0),void this.apiService.post("farmasi/save-status-resepelektonik",{noorder:this.selected.noorder,statusorder:5,tglambil:null,namapengambil:null,strukresep:this.strukresep}).subscribe(function(t){e.apiService.postLog("Rubah Status Selasai Order Resep Elektronik","No Order Struk Order",e.selected.noorder,"Rubah Status Selasai Order Resep Elektronik No Order: "+e.selected.noorder+"/ Noregistrasi : "+e.selected.noregistrasi).subscribe(function(e){}),e.getData()}));this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"penyerahanObat",value:function(){if(null!=this.selected){this.apiService.getUrlCetak("http://127.0.0.1:2905/printvb/panggil?displaykeun=1&noantri="+this.selected.noantri+"&namapasien="+this.selected.norm+", "+this.selected.namapasien+"&view=true",function(e){});var e=this.selected.noregistrasi;null!=this.selected.noreservasi&&""!=this.selected.noreservasi&&"Kios-K"!=this.selected.noreservasi&&(e=this.selected.noreservasi),this.saveAntrol(e,7),this.alertService.info(this.selected.noantri+" - "+this.selected.namapasien,"Panggil"),"Selesai"==this.selected.statusorder?(this.item.tglAmbil=this.dateNow,this.pop_penyerahanObat=!0):this.alertService.warn("Info","Status Data Harus Selesai !!")}else this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"ctkNoAntrian",value:function(){if(null!=this.selected)if(null!=this.selected.noantri){var e,t=this.authService.getDataLoginUser().pegawai.namaLengkap,i=this.selected.noresep,a=this.selected.noregistrasi;e=confirm("View Antrian Farmasi? ")?"true":"false",this.apiService.getUrlCetak("http://127.0.0.1:3885/desk/routes?cetak-buktiantrianfarmasi=1&noresep="+i+"&noregistrasi="+a+"&user="+t+"&view="+e,function(e){})}else this.alertService.warn("Info,","Data Belum Diverifikasi!");else this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"ctkLabel",value:function(){if(null!=this.selected)if(null!=this.selected.norecresep){var e,t=this.authService.getDataLoginUser().pegawai.namaLengkap,i=this.selected.norecresep;e=confirm("View Label Farmasi ? ")?"true":"false",this.apiService.getUrlCetak("http://127.0.0.1:3885/desk/routes?cetak-LabelFarmasi=1&norecresep="+i+"&user="+t+"&jenisdata=LAYANAN&view="+e,function(e){})}else this.alertService.warn("Info,","Data Belum Diverifikasi!");else this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"ctkRekapLabel",value:function(){throw new Error("Method not implemented.")}},{key:"ctkLabelResep",value:function(){throw new Error("Method not implemented.")}},{key:"ctkResepObat",value:function(){if(null!=this.selected)if(null!=this.selected.norecresep){var e,t=this.authService.getDataLoginUser().pegawai.namaLengkap,i=this.selected.norecresep;e=confirm("View Resep Farmasi ? ")?"true":"false",this.apiService.getUrlCetak("http://127.0.0.1:3885/desk/routes?cetak-resep=1&norecresep="+i+"&user="+t+"&jenisdata=LAYANAN&view="+e,function(e){})}else this.alertService.warn("Info,","Data Belum Diverifikasi!");else this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"batalAmbilObat",value:function(){this.item.tglAmbil=this.dateNow,this.item.namapengambil=void 0,this.pop_penyerahanObat=!1}},{key:"simpanAmbilObat",value:function(){var e=this;if(null!=this.selected){var t="";null!=this.item.namapengambil&&(t=this.item.namapengambil);var i="";this.selected.noorder==this.selected.noresep&&(i=!0);var a={noorder:this.selected.noorder,statusorder:7,tglambil:s(this.item.tglAmbil).format("YYYY-MM-DD HH:mm"),namapengambil:t,strukresep:i};this.apiService.post("farmasi/save-status-resepelektonik",a).subscribe(function(t){e.apiService.postLog("Rubah Status Sudah Di Ambil Order Resep Elektronik","No Order Struk Order",e.selected.noorder,"Rubah Sudah Di Ambil Order Resep Elektronik: "+e.selected.noorder+"/ Noregistrasi : "+e.selected.noregistrasi).subscribe(function(e){}),e.item.tglAmbil=e.dateNow,e.item.namapengambil=void 0,e.pop_penyerahanObat=!1,e.getData()})}else this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"filter",value:function(){this.popFilter=!0}},{key:"cariFilter",value:function(){this.popFilter=!1,this.getData()}},{key:"clearFilter",value:function(){this.popFilter=!1,this.item={},this.dateNow=new Date,this.item.tglAwal=s(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=s(this.dateNow).format("YYYY-MM-DD 23:59"),this.item.jmlRows=50,this.getData()}},{key:"saveAntrol",value:function(e,t){var i={url:"antrean/updatewaktu",jenis:"antrean",method:"POST",data:{kodebooking:e,taskid:t,waktu:(new Date).getTime()}};this.apiService.postNonMessage("bridging/bpjs/tools",i).subscribe(function(e){})}}])&&t(a.prototype,n),r&&t(a,r),i}(),z.\u0275fac=function(e){return new(e||z)(d.Jb(c.a),d.Jb(c.b),d.Jb(o.a),d.Jb(o.h),d.Jb(b.a),d.Jb(p.a),d.Jb(u.a),d.Jb(l.a),d.Jb(l.f))},z.\u0275cmp=d.Db({type:z,selectors:[["app-daftar-order-resep"]],features:[d.wb([o.a])],decls:167,vars:119,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Depo","optionLabel","namaruangan",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","No RM",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange","keyup.enter"],["optionLabel","status",3,"options","ngModel","ngModelChange"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",1,"p-mr-1",3,"click"],["pButton","","type","button","icon","pi pi-filter","pTooltip","Filter Detail",1,"p-button-success",3,"click"],["styleClass","p-mb-4"],["pTemplate","left"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],["header","Detail Order",3,"visible","modal","maximizable","draggable","resizable","contentStyle","visibleChange"],["header","Data Order",3,"toggleable"],[1,"p-col-12","p-md-4"],["type","text","pInputText","","placeholder","Tgl Order","appendTo","body","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Order","appendTo","body","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Pengorder","appendTo","body","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Pasien","appendTo","body","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Ruang Rawat","appendTo","body","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Depo Tujuan","appendTo","body","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-12",2,"margin-top","10px"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple",3,"columns","value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["header","Detail Verifikasi",3,"visible","modal","maximizable","draggable","resizable","contentStyle","visibleChange"],["header","Data Verifikasi",3,"toggleable"],["type","text","pInputText","","placeholder","Tgl Resep","appendTo","body","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Resep","appendTo","body","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Antrian","appendTo","body","disabled","",3,"ngModel","ngModelChange"],["header","PenyerahanObat",3,"visible","modal","maximizable","draggable","resizable","contentStyle","visibleChange"],["header","Penyerahan Obat",3,"toggleable"],[1,"p-col-12","p-md-3"],[1,"p-col-12","p-md-5"],["type","text","pInputText","","placeholder","Nama Pengambil","appendTo","body",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-2",2,"margin-top","15px"],["pButton","","type","submit","icon","fa fa-floppy-o","pTooltip","Simpan Penyerahan Obat","label","Simpan",3,"click"],["pButton","","type","submit","icon","fa fa-ban","pTooltip","Batal Penyerahan Obat","label","Batal",2,"background-color","red",3,"click"],["header","Filter",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],["placeholder","Ruangan","optionLabel","namaruangan","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","No Order",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Noregistrasi",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Jml Rows",3,"ngModel","ngModelChange","keyup.enter"],["pTemplate","footer"],["label","Pengerjaan","styleClass","p-button-help p-mr-1","icon","pi pi-ellipsis-v","appendTo","body",3,"model"],["label","Cetak","styleClass","p-button-help","icon","pi pi-print","appendTo","body",3,"model"],["width","100px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],["label","","styleClass","p-button-success p-ml-auto","icon","pi pi-user-edit","appendTo","body",3,"model","onDropdownClick"],[3,"style",4,"ngFor","ngForOf"],[3,"class",4,"ngIf"],[4,"ngIf"],["icon","pi pi-filter","label","Filter",1,"p-button-success",3,"click"],["icon","pi pi-close","label","Clear","styleClass","p-button-text",3,"click"]],template:function(e,t){1&e&&(d.Lb(0,"p-confirmDialog",0),d.Qb(1,"div",1),d.Qb(2,"div",2),d.Qb(3,"h4"),d.Jc(4,"Resep Dokter"),d.Pb(),d.Qb(5,"div",3),d.Qb(6,"div",4),d.Qb(7,"div",3),d.Qb(8,"div",4),d.Qb(9,"div",5),d.Qb(10,"label",6),d.Jc(11,"Periode Awal"),d.Pb(),d.Qb(12,"p-calendar",7),d.Yb("ngModelChange",function(e){return t.item.tglAwal=e}),d.Pb(),d.Pb(),d.Qb(13,"div",5),d.Qb(14,"label",6),d.Jc(15,"Periode Akhir"),d.Pb(),d.Qb(16,"p-calendar",7),d.Yb("ngModelChange",function(e){return t.item.tglAkhir=e}),d.Pb(),d.Pb(),d.Qb(17,"div",5),d.Qb(18,"label",6),d.Jc(19,"Depo"),d.Pb(),d.Qb(20,"p-dropdown",8),d.Yb("ngModelChange",function(e){return t.item.dataDepo=e}),d.Pb(),d.Pb(),d.Qb(21,"div",9),d.Qb(22,"label",6),d.Jc(23,"No RM "),d.Pb(),d.Qb(24,"input",10),d.Yb("ngModelChange",function(e){return t.item.noRM=e})("keyup.enter",function(){return t.cari()}),d.Pb(),d.Pb(),d.Qb(25,"div",5),d.Qb(26,"label",6),d.Jc(27,"Nama Pasien "),d.Pb(),d.Qb(28,"input",11),d.Yb("ngModelChange",function(e){return t.item.namaPasien=e})("keyup.enter",function(){return t.cari()}),d.Pb(),d.Pb(),d.Qb(29,"div",5),d.Qb(30,"label",6),d.Jc(31,"Status"),d.Pb(),d.Qb(32,"p-multiSelect",12),d.Yb("ngModelChange",function(e){return t.item.selectedStatus=e}),d.Pb(),d.Pb(),d.Qb(33,"div",13),d.Qb(34,"button",14),d.Yb("click",function(){return t.cari()}),d.Pb(),d.Qb(35,"button",15),d.Yb("click",function(){return t.filter()}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(36,"div",3),d.Qb(37,"p-toolbar",16),d.Hc(38,C,2,8,"ng-template",17),d.Pb(),d.Qb(39,"p-table",18,19),d.Yb("selectionChange",function(e){return t.selected=e}),d.Hc(41,R,4,1,"ng-template",20),d.Hc(42,T,4,7,"ng-template",21),d.Pb(),d.Pb(),d.Qb(43,"div",3),d.Lb(44,"div",4),d.Pb(),d.Pb(),d.Pb(),d.Lb(45,"p-confirmDialog",22),d.Qb(46,"p-dialog",23),d.Yb("visibleChange",function(e){return t.pop_detailOrder=e}),d.Qb(47,"p-panel",24),d.Qb(48,"div",1),d.Qb(49,"div",3),d.Qb(50,"div",4),d.Qb(51,"div",3),d.Qb(52,"div",4),d.Qb(53,"div",25),d.Qb(54,"label",6),d.Jc(55,"Tgl Order"),d.Pb(),d.Qb(56,"input",26),d.Yb("ngModelChange",function(e){return t.item.order.tglorder=e}),d.Pb(),d.Pb(),d.Qb(57,"div",25),d.Qb(58,"label",6),d.Jc(59,"Nomor Order"),d.Pb(),d.Qb(60,"input",27),d.Yb("ngModelChange",function(e){return t.item.order.noorder=e}),d.Pb(),d.Pb(),d.Qb(61,"div",25),d.Qb(62,"label",6),d.Jc(63,"Pengorder"),d.Pb(),d.Qb(64,"input",28),d.Yb("ngModelChange",function(e){return t.item.order.namalengkap=e}),d.Pb(),d.Pb(),d.Qb(65,"div",25),d.Qb(66,"label",6),d.Jc(67,"Nama Pasien"),d.Pb(),d.Qb(68,"input",29),d.Yb("ngModelChange",function(e){return t.item.order.namapasien=e}),d.Pb(),d.Pb(),d.Qb(69,"div",25),d.Qb(70,"label",6),d.Jc(71,"Ruang Rawat"),d.Pb(),d.Qb(72,"input",30),d.Yb("ngModelChange",function(e){return t.item.order.namaruanganrawat=e}),d.Pb(),d.Pb(),d.Qb(73,"div",25),d.Qb(74,"label",6),d.Jc(75,"Depo Tujuan"),d.Pb(),d.Qb(76,"input",31),d.Yb("ngModelChange",function(e){return t.item.order.namaruangan=e}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(77,"div",32),d.Qb(78,"p-table",33,19),d.Hc(80,J,2,1,"ng-template",20),d.Hc(81,B,2,3,"ng-template",21),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(82,"p-dialog",34),d.Yb("visibleChange",function(e){return t.pop_detailVerifikasi=e}),d.Qb(83,"p-panel",35),d.Qb(84,"div",1),d.Qb(85,"div",3),d.Qb(86,"div",4),d.Qb(87,"div",3),d.Qb(88,"div",4),d.Qb(89,"div",25),d.Qb(90,"label",6),d.Jc(91,"Tgl Order"),d.Pb(),d.Qb(92,"input",26),d.Yb("ngModelChange",function(e){return t.item.order.tglorder=e}),d.Pb(),d.Pb(),d.Qb(93,"div",25),d.Qb(94,"label",6),d.Jc(95,"Nomor Order"),d.Pb(),d.Qb(96,"input",27),d.Yb("ngModelChange",function(e){return t.item.order.noorder=e}),d.Pb(),d.Pb(),d.Qb(97,"div",25),d.Qb(98,"label",6),d.Jc(99,"Pengorder"),d.Pb(),d.Qb(100,"input",28),d.Yb("ngModelChange",function(e){return t.item.order.namalengkap=e}),d.Pb(),d.Pb(),d.Qb(101,"div",25),d.Qb(102,"label",6),d.Jc(103,"Nama Pasien"),d.Pb(),d.Qb(104,"input",29),d.Yb("ngModelChange",function(e){return t.item.order.namapasien=e}),d.Pb(),d.Pb(),d.Qb(105,"div",25),d.Qb(106,"label",6),d.Jc(107,"Ruang Rawat"),d.Pb(),d.Qb(108,"input",30),d.Yb("ngModelChange",function(e){return t.item.order.namaruanganrawat=e}),d.Pb(),d.Pb(),d.Qb(109,"div",25),d.Qb(110,"label",6),d.Jc(111,"Depo Tujuan"),d.Pb(),d.Qb(112,"input",31),d.Yb("ngModelChange",function(e){return t.item.order.namaruangan=e}),d.Pb(),d.Pb(),d.Qb(113,"div",25),d.Qb(114,"label",6),d.Jc(115,"Tgl Resep"),d.Pb(),d.Qb(116,"input",36),d.Yb("ngModelChange",function(e){return t.item.order.tglresep=e}),d.Pb(),d.Pb(),d.Qb(117,"div",25),d.Qb(118,"label",6),d.Jc(119,"Nomor Resep"),d.Pb(),d.Qb(120,"input",37),d.Yb("ngModelChange",function(e){return t.item.order.noresep=e}),d.Pb(),d.Pb(),d.Qb(121,"div",25),d.Qb(122,"label",6),d.Jc(123,"No Antrian"),d.Pb(),d.Qb(124,"input",38),d.Yb("ngModelChange",function(e){return t.item.order.noantri=e}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(125,"div",32),d.Qb(126,"p-table",33,19),d.Hc(128,j,2,1,"ng-template",20),d.Hc(129,V,2,3,"ng-template",21),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(130,"p-dialog",39),d.Yb("visibleChange",function(e){return t.pop_penyerahanObat=e}),d.Qb(131,"p-panel",40),d.Qb(132,"div",1),d.Qb(133,"div",3),d.Qb(134,"div",4),d.Qb(135,"div",41),d.Qb(136,"label",6),d.Jc(137,"Tgl Ambil"),d.Pb(),d.Qb(138,"p-calendar",7),d.Yb("ngModelChange",function(e){return t.item.tglAmbil=e}),d.Pb(),d.Pb(),d.Qb(139,"div",42),d.Qb(140,"label",6),d.Jc(141,"Nama Pengambil"),d.Pb(),d.Qb(142,"input",43),d.Yb("ngModelChange",function(e){return t.item.namapengambil=e}),d.Pb(),d.Pb(),d.Qb(143,"div",44),d.Qb(144,"button",45),d.Yb("click",function(){return t.simpanAmbilObat()}),d.Pb(),d.Pb(),d.Qb(145,"div",44),d.Qb(146,"button",46),d.Yb("click",function(){return t.batalAmbilObat()}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(147,"p-dialog",47),d.Yb("visibleChange",function(e){return t.popFilter=e}),d.Qb(148,"div",1),d.Qb(149,"div",4),d.Qb(150,"div",41),d.Qb(151,"label",6),d.Jc(152,"Ruangan"),d.Pb(),d.Qb(153,"p-dropdown",48),d.Yb("ngModelChange",function(e){return t.item.dataRuangan=e}),d.Pb(),d.Pb(),d.Qb(154,"div",41),d.Qb(155,"label",6),d.Jc(156,"No Order"),d.Pb(),d.Qb(157,"input",49),d.Yb("ngModelChange",function(e){return t.item.NoOrder=e})("keyup.enter",function(){return t.cari()}),d.Pb(),d.Pb(),d.Qb(158,"div",41),d.Qb(159,"label",6),d.Jc(160,"Noregistrasi"),d.Pb(),d.Qb(161,"input",50),d.Yb("ngModelChange",function(e){return t.item.Noregistrasi=e})("keyup.enter",function(){return t.cari()}),d.Pb(),d.Pb(),d.Qb(162,"div",5),d.Qb(163,"label",6),d.Jc(164,"jml Rows"),d.Pb(),d.Qb(165,"input",51),d.Yb("ngModelChange",function(e){return t.item.jmlRows=e})("keyup.enter",function(){return t.cari()}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Hc(166,E,2,0,"ng-template",52),d.Pb()),2&e&&(d.xb(12),d.ic("ngModel",t.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),d.xb(4),d.ic("ngModel",t.item.tglAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),d.xb(4),d.ic("options",t.listRuanganFarmasi)("ngModel",t.item.dataDepo)("filter",!0)("showClear",!0),d.xb(4),d.ic("ngModel",t.item.noRM),d.xb(4),d.ic("ngModel",t.item.namaPasien),d.xb(4),d.ic("options",t.listStatusPengerjaan)("ngModel",t.item.selectedStatus),d.xb(7),d.ic("columns",t.column)("value",t.dataTable)("selection",t.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",d.mc(108,U))("paginator",!0)("pageLinks",5),d.xb(6),d.Ec(d.mc(109,q)),d.ic("baseZIndex",1e4),d.xb(1),d.Ec(d.mc(110,K)),d.ic("visible",t.pop_detailOrder)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0)("contentStyle",d.mc(111,W)),d.xb(1),d.ic("toggleable",!1),d.xb(9),d.ic("ngModel",t.item.order.tglorder),d.xb(4),d.ic("ngModel",t.item.order.noorder),d.xb(4),d.ic("ngModel",t.item.order.namalengkap),d.xb(4),d.ic("ngModel",t.item.order.namapasien),d.xb(4),d.ic("ngModel",t.item.order.namaruanganrawat),d.xb(4),d.ic("ngModel",t.item.order.namaruangan),d.xb(2),d.ic("columns",t.columnDo)("value",t.dataTableDo)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",d.mc(112,U))("paginator",!0)("pageLinks",5),d.xb(4),d.Ec(d.mc(113,G)),d.ic("visible",t.pop_detailVerifikasi)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0)("contentStyle",d.mc(114,W)),d.xb(1),d.ic("toggleable",!1),d.xb(9),d.ic("ngModel",t.item.order.tglorder),d.xb(4),d.ic("ngModel",t.item.order.noorder),d.xb(4),d.ic("ngModel",t.item.order.namalengkap),d.xb(4),d.ic("ngModel",t.item.order.namapasien),d.xb(4),d.ic("ngModel",t.item.order.namaruanganrawat),d.xb(4),d.ic("ngModel",t.item.order.namaruangan),d.xb(4),d.ic("ngModel",t.item.order.tglresep),d.xb(4),d.ic("ngModel",t.item.order.noresep),d.xb(4),d.ic("ngModel",t.item.order.noantri),d.xb(2),d.ic("columns",t.columnDo)("value",t.dataTableDo)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",d.mc(115,U))("paginator",!0)("pageLinks",5),d.xb(4),d.Ec(d.mc(116,X)),d.ic("visible",t.pop_penyerahanObat)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0)("contentStyle",d.mc(117,Z)),d.xb(1),d.ic("toggleable",!1),d.xb(7),d.ic("ngModel",t.item.tglAmbil)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),d.xb(4),d.ic("ngModel",t.item.namapengambil),d.xb(5),d.Ec(d.mc(118,q)),d.ic("visible",t.popFilter)("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!0),d.xb(6),d.ic("options",t.listRuangan)("ngModel",t.item.dataRuangan)("filter",!0)("showClear",!0),d.xb(4),d.ic("ngModel",t.item.NoOrder),d.xb(4),d.ic("ngModel",t.item.Noregistrasi),d.xb(4),d.ic("ngModel",t.item.jmlRows))},directives:[h.a,g.a,m.g,m.h,f.a,m.a,v.a,k.a,P.b,w.a,Q.a,o.k,x.h,M.a,y.a,S.a,r.k,x.g,x.f,x.e,r.l,P.a],styles:[""]}),z)}],te=(($=function t(){e(this,t)}).\u0275mod=d.Hb({type:$}),$.\u0275inj=d.Gb({factory:function(e){return new(e||$)},imports:[[l.j.forChild(ee)],l.j]}),$),ie=n("PCNd"),ae=((_=function t(){e(this,t)}).\u0275mod=d.Hb({type:_}),_.\u0275inj=d.Gb({factory:function(e){return new(e||_)},imports:[[r.b,te,ie.a]]}),_)}}])}();