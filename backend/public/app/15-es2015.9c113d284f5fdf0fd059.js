(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{abSf:function(e,i,t){"use strict";t.d(i,"a",function(){return g});var n=t("fXoL"),a=t("7CaW"),b=t("SSqW"),l=t("ofXK"),o=t("3Pt+"),c=t("7kUa"),r=t("jeV5");function s(e,i){if(1&e){const e=n.Sb();n.Qb(0,"div",0),n.Qb(1,"div",1),n.Qb(2,"div",0),n.Qb(3,"div",1),n.Qb(4,"label",4),n.Jc(5,"No Registrasi "),n.Pb(),n.Qb(6,"input",5),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.noregistrasi=i}),n.Pb(),n.Pb(),n.Qb(7,"div",1),n.Qb(8,"label",4),n.Jc(9,"No Rekam Medis "),n.Pb(),n.Qb(10,"input",6),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.nocm=i}),n.Pb(),n.Pb(),n.Qb(11,"div",1),n.Qb(12,"label",4),n.Jc(13,"Nama Pasien "),n.Pb(),n.Qb(14,"input",7),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.namapasien=i}),n.Pb(),n.Pb(),n.Qb(15,"div",1),n.Qb(16,"label",4),n.Jc(17,"Tgl Registrasi "),n.Pb(),n.Qb(18,"input",8),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.tglregistrasi=i}),n.Pb(),n.Pb(),n.Qb(19,"div",1),n.Qb(20,"label",4),n.Jc(21,"Tipe Pasien "),n.Pb(),n.Qb(22,"input",8),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.kelompokpasien=i}),n.Pb(),n.Pb(),n.Qb(23,"div",1),n.Qb(24,"label",4),n.Jc(25,"Jenis Kelamin "),n.Pb(),n.Qb(26,"input",7),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.jeniskelamin=i}),n.Pb(),n.Pb(),n.Qb(27,"div",1),n.Qb(28,"label",4),n.Jc(29,"Tgl Lahir "),n.Pb(),n.Qb(30,"input",9),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.tgllahir=i}),n.Pb(),n.Pb(),n.Qb(31,"div",1),n.Qb(32,"label",4),n.Jc(33,"Umur "),n.Pb(),n.Qb(34,"input",8),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.umur=i}),n.Pb(),n.Pb(),n.Qb(35,"div",1),n.Qb(36,"label",4),n.Jc(37,"Alamat "),n.Pb(),n.Qb(38,"input",10),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.alamatlengkap=i}),n.Pb(),n.Pb(),n.Qb(39,"div",1),n.Qb(40,"label",4),n.Jc(41,"Kelas "),n.Pb(),n.Qb(42,"input",8),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.namakelas=i}),n.Pb(),n.Pb(),n.Qb(43,"div",1),n.Qb(44,"label",4),n.Jc(45,"Ruangan "),n.Pb(),n.Qb(46,"input",8),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.namaruangan=i}),n.Pb(),n.Pb(),n.Qb(47,"div",1),n.Qb(48,"label",4),n.Jc(49,"Pendidikan "),n.Pb(),n.Qb(50,"input",11),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.pendidikan=i}),n.Pb(),n.Pb(),n.Qb(51,"div",1),n.Qb(52,"label",4),n.Jc(53,"Jenis Pelayanan "),n.Pb(),n.Qb(54,"input",8),n.Yb("ngModelChange",function(i){return n.yc(e),n.bc().item.pasien.jenispelayanan=i}),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb()}if(2&e){const e=n.bc();n.xb(6),n.ic("ngModel",e.item.pasien.noregistrasi),n.xb(4),n.ic("ngModel",e.item.pasien.nocm),n.xb(4),n.ic("ngModel",e.item.pasien.namapasien),n.xb(4),n.ic("ngModel",e.item.pasien.tglregistrasi),n.xb(4),n.ic("ngModel",e.item.pasien.kelompokpasien),n.xb(4),n.ic("ngModel",e.item.pasien.jeniskelamin),n.xb(4),n.ic("ngModel",e.item.pasien.tgllahir),n.xb(4),n.ic("ngModel",e.item.pasien.umur),n.xb(4),n.ic("ngModel",e.item.pasien.alamatlengkap),n.xb(4),n.ic("ngModel",e.item.pasien.namakelas),n.xb(4),n.ic("ngModel",e.item.pasien.namaruangan),n.xb(4),n.ic("ngModel",e.item.pasien.pendidikan),n.xb(4),n.ic("ngModel",e.item.pasien.jenispelayanan)}}function p(e,i){1&e&&(n.Qb(0,"div",1),n.Lb(1,"p-skeleton",13),n.Pb())}function d(e,i){if(1&e&&(n.Qb(0,"div",0),n.Hc(1,p,2,0,"div",12),n.Pb()),2&e){const e=n.bc();n.xb(1),n.ic("ngForOf",e.numberss)}}const u=function(){return{width:"100%",height:"70vh"}};let g=(()=>{class e{constructor(){this.item={pasien:{}},this.numberss=Array(15).map((e,i)=>i)}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n.Db({type:e,selectors:[["app-head-pasien"]],decls:6,vars:6,consts:[[1,"p-grid"],[1,"p-col-12","p-md-12"],["header","Info Pasien",3,"toggleable"],["class","p-grid",4,"ngIf"],["for","input",1,"label"],["type","text","pInputText","","placeholder","Cari No Registrasi","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Rekam Medis","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Pasien","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Tgl Lahir","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Alamat","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Pendidikan","disabled","",3,"ngModel","ngModelChange"],["class","p-col-12 p-md-12",4,"ngFor","ngForOf"],["height","2.4rem"]],template:function(e,i){1&e&&(n.Qb(0,"div",0),n.Qb(1,"div",1),n.Qb(2,"p-panel",2),n.Qb(3,"p-scrollPanel"),n.Hc(4,s,55,13,"div",3),n.Hc(5,d,2,1,"div",3),n.Pb(),n.Pb(),n.Pb(),n.Pb()),2&e&&(n.xb(2),n.ic("toggleable",!0),n.xb(1),n.Ec(n.mc(5,u)),n.xb(1),n.ic("ngIf",null!=i.item.pasien.nocm),n.xb(1),n.ic("ngIf",null==i.item.pasien.nocm))},directives:[a.a,b.a,l.l,o.a,c.a,o.g,o.h,l.k,r.a],styles:[""]}),e})()},x7Jo:function(e,i,t){"use strict";t.r(i),t.d(i,"PenyetoranDepositModule",function(){return I});var n=t("ofXK"),a=t("tyNb"),b=t("7zfz"),l=t("wd/R"),o=t("abSf"),c=t("fXoL"),r=t("EJUL"),s=t("U+s4"),p=t("G0w9"),d=t("ujBT"),u=t("Nf9I"),g=t("7CaW"),m=t("rEr+"),h=t("3Pt+"),f=t("7kUa"),P=t("jIHw"),Q=t("xlun");function v(e,i){if(1&e&&(c.Qb(0,"th",25),c.Jc(1),c.Lb(2,"p-sortIcon",26),c.Pb()),2&e){const e=i.$implicit;c.Fc("width: ",e.width,""),c.jc("pSortableColumn",e.field),c.xb(1),c.Lc(" ",e.header," "),c.xb(1),c.jc("field",e.field)}}function y(e,i){if(1&e&&(c.Qb(0,"tr"),c.Hc(1,v,3,6,"th",24),c.Pb()),2&e){const e=i.$implicit;c.xb(1),c.ic("ngForOf",e)}}function x(e,i){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){const e=c.bc().$implicit,i=c.bc().$implicit,t=c.bc();c.xb(1),c.Lc(" ",t.formatRupiah(i[e.field],"")," ")}}function M(e,i){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){const e=c.bc().$implicit,i=c.bc().$implicit;c.xb(1),c.Lc(" ",i[e.field],"")}}function w(e,i){if(1&e&&(c.Qb(0,"td"),c.Hc(1,x,2,1,"span",29),c.Hc(2,M,2,1,"span",29),c.Pb()),2&e){const e=i.$implicit;c.Fc("width: ",e.width,""),c.xb(1),c.ic("ngIf",null!=e.isCurrency),c.xb(1),c.ic("ngIf",null==e.isCurrency)}}function k(e,i){if(1&e&&(c.Qb(0,"tr",27),c.Hc(1,w,3,5,"td",28),c.Pb()),2&e){const e=i.columns,t=i.rowIndex;c.ic("pSelectableRow",i.$implicit)("pSelectableRowIndex",t),c.xb(1),c.ic("ngForOf",e)}}const D=function(){return[5,10,25,50]},C=[{path:"",component:(()=>{class e{constructor(e,i,t,n,a,b,l,o,c){this.apiService=e,this.authService=i,this.confirmationService=t,this.messageService=n,this.cacheHelper=a,this.dateHelper=b,this.alertService=l,this.route=o,this.router=c,this.item={pasien:{}}}ngAfterViewInit(){this.route.params.subscribe(e=>{this.currentNorecPD=e.norec_rp,this.norec_pd=e.norec_rp,this.loadHead(),this.loadDetail()})}ngOnInit(){this.column=[{field:"no",header:"No",width:"65px"},{field:"tglTransaksi",header:"Tgl Bayar",width:"140px"},{field:"jumlahDeposit",header:"Jumlah",width:"180px",isCurrency:!0}]}formatRupiah(e,i){return i+" "+parseFloat(e).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}loadHead(){this.apiService.get("general/get-pasien-byregistrasiruangan-general?norec_pd="+this.currentNorecPD).subscribe(e=>{e.tgllahir=l(new Date(e.tgllahir)).format("YYYY-MM-DD"),e.umur=this.dateHelper.getUmur(new Date(e.tgllahir),new Date),this.h.item.pasien=e,this.item.pasien=e})}loadDetail(){this.apiService.get("kasir/detail-pasien-deposit/"+this.norec_pd).subscribe(e=>{var i=e.detailDeposit,t=0;for(let n=0;n<i.length;n++){const e=i[n];e.no=n+1,t=parseFloat(e.jumlahDeposit)+t}this.dataTable=i,this.item.totalDeposit=this.formatRupiah(t,"Rp."),this.jumlahDepositMasuk=t})}Batal(){this.item.jumlahDeposit=void 0}Kembali(){window.history.back()}changeNominal(e){null!=e&&""!=e&&this.apiService.get("sysadmin/general/get-terbilang/"+parseFloat(e)).subscribe(e=>{this.item.terbilang=e.terbilang})}kembalianDeposit(){parseFloat(this.item.jumlahDeposit)<0?this.alertService.warn("Info","Nilai tidak boleh negatif!"):this.item.jumlahDeposit>this.jumlahDepositMasuk?this.alertService.warn("Info","Jumlah kembali tidak boleh lebih dari total deposit!"):(this.item.jumlahDeposit=-1*parseFloat(this.item.jumlahDeposit),this.router.navigate(["bayar-tagihan-pasien",this.norec_pd,"depositPasien",this.item.jumlahDeposit]))}bayarDeposit(){parseFloat(this.item.jumlahDeposit)<0?alert("Nilai tidak boleh negatif!"):this.router.navigate(["bayar-tagihan-pasien",this.norec_pd,"PenyetoranDepositKasirKembali",this.item.jumlahDeposit])}onRowSelect(e){}}return e.\u0275fac=function(i){return new(i||e)(c.Jb(r.a),c.Jb(r.b),c.Jb(b.a),c.Jb(b.h),c.Jb(s.a),c.Jb(p.a),c.Jb(d.a),c.Jb(a.a),c.Jb(a.f))},e.\u0275cmp=c.Db({type:e,selectors:[["app-penyetoran-deposit"]],viewQuery:function(e,i){if(1&e&&c.Nc(o.a,!0),2&e){let e;c.vc(e=c.Zb())&&(i.h=e.first)}},features:[c.wb([b.a])],decls:48,vars:15,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-6",2,"margin-top","7px"],[1,"p-col-12","p-md-6"],["header","Detail",3,"toggleable"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange","onRowSelect"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"p-col-12","p-md-8"],[1,"p-col-12","p-md-4"],["for","input"],["type","text","pInputText","","placeholder","Total Deposit",3,"ngModel","ngModelChange"],["header","Jumlah Deposit",3,"toggleable"],["type","text","pInputText","","placeholder","Terbilang",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Jumlah Deposit",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-3",2,"margin-top","15px"],["pButton","","type","submit","icon","fa fa-ban","pTooltip","Batal","label","Batal",3,"click"],["pButton","","type","submit","icon","fa fa-money","pTooltip","Kembalian Deposit","label","Kembalian Deposit",3,"click"],["pButton","","type","submit","icon","fa fa-money","pTooltip","Bayar Deposit","label","Bayar Deposit",3,"click"],["pButton","","type","submit","icon","fa fa-undo","pTooltip","Kembali","label","Kembali",2,"background-color","red",3,"click"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,i){1&e&&(c.Lb(0,"p-confirmDialog",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"h4"),c.Jc(4,"Penyetoran Deposit Pasien"),c.Pb(),c.Qb(5,"div",3),c.Qb(6,"div",4),c.Qb(7,"div",5),c.Qb(8,"div",4),c.Lb(9,"app-head-pasien"),c.Pb(),c.Pb(),c.Qb(10,"div",6),c.Qb(11,"div",3),c.Qb(12,"div",4),c.Qb(13,"div",3),c.Qb(14,"div",4),c.Qb(15,"p-panel",7),c.Qb(16,"div",3),c.Qb(17,"div",4),c.Qb(18,"p-table",8,9),c.Yb("selectionChange",function(e){return i.selected=e})("onRowSelect",function(e){return i.onRowSelect(e)}),c.Hc(20,y,2,1,"ng-template",10),c.Hc(21,k,2,3,"ng-template",11),c.Pb(),c.Pb(),c.Pb(),c.Qb(22,"div",3),c.Qb(23,"div",4),c.Lb(24,"div",12),c.Qb(25,"div",13),c.Qb(26,"label",14),c.Jc(27,"Total"),c.Pb(),c.Qb(28,"input",15),c.Yb("ngModelChange",function(e){return i.item.totalDeposit=e}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(29,"div",3),c.Qb(30,"div",4),c.Qb(31,"div",3),c.Qb(32,"p-panel",16),c.Qb(33,"div",4),c.Qb(34,"div",6),c.Qb(35,"input",17),c.Yb("ngModelChange",function(e){return i.item.terbilang=e}),c.Pb(),c.Pb(),c.Qb(36,"div",6),c.Qb(37,"input",18),c.Yb("ngModelChange",function(e){return i.item.jumlahDeposit=e})("ngModelChange",function(){return i.changeNominal(i.item.jumlahDeposit)}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(38,"div",3),c.Qb(39,"div",4),c.Qb(40,"div",19),c.Qb(41,"button",20),c.Yb("click",function(){return i.Batal()}),c.Pb(),c.Pb(),c.Qb(42,"div",19),c.Qb(43,"button",21),c.Yb("click",function(){return i.kembalianDeposit()}),c.Pb(),c.Pb(),c.Qb(44,"div",19),c.Qb(45,"button",22),c.Yb("click",function(){return i.bayarDeposit()}),c.Pb(),c.Pb(),c.Qb(46,"div",19),c.Qb(47,"button",23),c.Yb("click",function(){return i.Kembali()}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.xb(15),c.ic("toggleable",!0),c.xb(3),c.ic("columns",i.column)("value",i.dataTable)("selection",i.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",c.mc(14,D))("paginator",!0)("pageLinks",5),c.xb(10),c.ic("ngModel",i.item.totalDeposit),c.xb(4),c.ic("toggleable",!0),c.xb(3),c.ic("ngModel",i.item.terbilang),c.xb(2),c.ic("ngModel",i.item.jumlahDeposit))},directives:[u.a,o.a,g.a,m.h,b.k,h.a,f.a,h.g,h.h,P.b,Q.a,n.k,m.g,m.f,m.e,n.l],styles:[""]}),e})()}];let J=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(i){return new(i||e)},imports:[[a.j.forChild(C)],a.j]}),e})();var j=t("PCNd");let I=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(i){return new(i||e)},imports:[[n.b,J,j.a]]}),e})()}}]);