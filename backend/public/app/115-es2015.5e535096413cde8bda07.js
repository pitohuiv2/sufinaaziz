(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{jPIM:function(a,e,n){"use strict";n.r(e),n.d(e,"PasienBaruModule",function(){return J});var t=n("ofXK"),i=n("tyNb"),s=n("7zfz"),l=n("wd/R"),o=n("fXoL"),r=n("EJUL"),m=n("U+s4"),p=n("G0w9"),b=n("ujBT"),u=n("Nf9I"),h=n("3Pt+"),g=n("7kUa"),d=n("eO1q"),c=n("arFO"),k=n("zFJ7"),P=n("V5BG"),f=n("Ji6n"),j=n("jIHw"),C=n("xlun");function M(a,e){if(1&a&&(o.Qb(0,"table",44),o.Qb(1,"tr"),o.Qb(2,"th"),o.Jc(3,"Kelurahan"),o.Pb(),o.Qb(4,"th"),o.Jc(5,"Kecamatan"),o.Pb(),o.Qb(6,"th"),o.Jc(7,"Kota Kabupaten"),o.Pb(),o.Qb(8,"th"),o.Jc(9,"Provinsi"),o.Pb(),o.Pb(),o.Qb(10,"tr"),o.Qb(11,"td"),o.Jc(12),o.Pb(),o.Qb(13,"td"),o.Jc(14),o.Pb(),o.Qb(15,"td"),o.Jc(16),o.Pb(),o.Qb(17,"td"),o.Jc(18),o.Pb(),o.Pb(),o.Pb()),2&a){const a=e.$implicit;o.xb(12),o.Kc(a.namadesakelurahan),o.xb(2),o.Kc(a.namakecamatan),o.xb(2),o.Kc(a.namakotakabupaten),o.xb(2),o.Kc(a.namapropinsi)}}function Q(a,e){if(1&a){const a=o.Sb();o.Qb(0,"div",5),o.Qb(1,"div",45),o.Qb(2,"h4"),o.Jc(3,"Penanggung Jawab Pasien"),o.Pb(),o.Qb(4,"div",2),o.Qb(5,"div",5),o.Qb(6,"label",12),o.Jc(7,"Nama Penanggung Jawab "),o.Pb(),o.Qb(8,"input",46),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.PenanggungJawab=e}),o.Pb(),o.Pb(),o.Qb(9,"div",5),o.Qb(10,"label",12),o.Jc(11,"Hubungan Dengan Pasien"),o.Pb(),o.Qb(12,"input",47),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.Hubungan=e}),o.Pb(),o.Pb(),o.Qb(13,"div",5),o.Qb(14,"label",12),o.Jc(15,"No Telepon"),o.Pb(),o.Qb(16,"input",48),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.TeleponP=e}),o.Pb(),o.Pb(),o.Qb(17,"div",5),o.Qb(18,"label",12),o.Jc(19,"Bahasa Sehari-hari"),o.Pb(),o.Qb(20,"input",49),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.Bahasa=e}),o.Pb(),o.Pb(),o.Qb(21,"div",5),o.Qb(22,"label",12),o.Jc(23,"Jenis Kelamin"),o.Pb(),o.Qb(24,"p-dropdown",11),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.jenisKelaminP=e}),o.Pb(),o.Pb(),o.Qb(25,"div",5),o.Qb(26,"label",12),o.Jc(27,"Umur"),o.Pb(),o.Qb(28,"input",50),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.UmurP=e}),o.Pb(),o.Pb(),o.Qb(29,"div",5),o.Qb(30,"label",12),o.Jc(31,"Pekerjaan"),o.Pb(),o.Qb(32,"p-dropdown",51),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.pekerjaanP=e}),o.Pb(),o.Pb(),o.Qb(33,"div",5),o.Qb(34,"label",12),o.Jc(35,"Alamat Penanggung Jawab "),o.Pb(),o.Qb(36,"textarea",52),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.alamatRumah=e}),o.Pb(),o.Pb(),o.Qb(37,"div",5),o.Qb(38,"label",12),o.Jc(39,"Nama Dokter Pengirim"),o.Pb(),o.Qb(40,"input",53),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.DokterPengirim=e}),o.Pb(),o.Pb(),o.Qb(41,"div",5),o.Qb(42,"label",12),o.Jc(43,"Alamat Dokter Pengirim "),o.Pb(),o.Qb(44,"textarea",52),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.alamatDokterPengirim=e}),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb()}if(2&a){const a=o.bc();o.xb(8),o.ic("ngModel",a.item.PenanggungJawab),o.xb(4),o.ic("ngModel",a.item.Hubungan),o.xb(4),o.ic("ngModel",a.item.TeleponP),o.xb(4),o.ic("ngModel",a.item.Bahasa),o.xb(4),o.ic("options",a.listDataJenisKelamin)("ngModel",a.item.jenisKelaminP)("filter",!0)("showClear",!0),o.xb(4),o.ic("ngModel",a.item.UmurP),o.xb(4),o.ic("options",a.listDataPekerjaan)("ngModel",a.item.pekerjaanP)("filter",!0)("showClear",!0),o.xb(4),o.ic("ngModel",a.item.alamatRumah),o.xb(4),o.ic("ngModel",a.item.DokterPengirim),o.xb(4),o.ic("ngModel",a.item.alamatDokterPengirim)}}function v(a,e){if(1&a){const a=o.Sb();o.Qb(0,"div",54),o.Qb(1,"button",55),o.Yb("click",function(){return o.yc(a),o.bc().save()}),o.Pb(),o.Pb()}}function w(a,e){if(1&a){const a=o.Sb();o.Qb(0,"div",54),o.Qb(1,"button",56),o.Yb("click",function(){return o.yc(a),o.bc().registrasi()}),o.Pb(),o.Pb()}}const K=[{path:"",component:(()=>{class a{constructor(a,e,n,t,i,s,l,o,r){this.apiService=a,this.authService=e,this.confirmationService=n,this.messageService=t,this.cacheHelper=i,this.dateHelper=s,this.alertService=l,this.route=o,this.router=r,this.item={},this.idPasien="",this.title="Pendaftaran Pasien",this.now=new Date,this.params={},this.reservasi={}}ngOnInit(){this.loadCombo(),this.init()}init(){if(this.route.params.subscribe(a=>{this.params.noRec=a.noRec,this.params.idPasien=a.idPasien,this.params.departemen=a.departemen}),this.cacheHelper.set("cacheStatusPasien",void 0),this.noCmIbu=this.cacheHelper.get("CacheRegisBayi"),this.nocmIgd=this.cacheHelper.get("CacheRegisTriage"),null!=this.params.noRec&&"-"!=this.params.noRec?this.getPasienOnline():null!=this.noCmIbu?(this.isBayi=!0,this.title="Pendaftaran Pasien Bayi",this.item.tglLahir=this.now,this.getPasienBayi(),this.cacheHelper.set("CacheRegisBayi",void 0)):null!=this.params.idPasien&&"-"!=this.params.idPasien?(this.idPasien=parseInt(this.params.idPasien),this.title="Edit Data Pasien",this.editPasien()):null!=this.params.departemen&&"-"!=this.params.departemen&&(this.isPenunjang=!0),null!=this.nocmIgd){var a=this.cacheHelper.get("CacheRegisTriage");null!=a&&(this.item.namaPasien=a.namaPasien.toUpperCase(),this.item.alamatLengkap=a.alamatlengkap.toUpperCase(),this.item.tempatLahir=a.tempatlahir.toUpperCase(),this.item.tglLahir=l(a.tgllahir).format("DD-MM-YYYY"),this.item.jenisKelamin={id:a.jkid,jeniskelamin:a.jk.toUpperCase()},this.item.noHp=a.notelepon,this.item.noemr=a.noemr,this.Triage="CacheRegisTriage")}}getPasienOnline(){this.apiService.get("registrasi/get-pasienonline-bynorec/"+this.params.noRec).subscribe(a=>{var e=a.data;null!=e.namaibu&&(this.item.namaIbu=e.namaibu.toUpperCase()),null!=e.namaayah&&(this.item.namaAyah=e.namaayah.toUpperCase()),this.item.namaPasien=e.namapasien.toUpperCase(),null!=e.tgllahir&&(this.item.tglLahir=new Date(e.tgllahir),this.item.jamLahir=new Date(e.tgllahir)),null!=e.tempatlahir&&(this.item.tempatLahir=e.tempatlahir.toUpperCase()),null!=e.objectjeniskelaminfk&&(this.item.jenisKelamin={id:e.objectjeniskelaminfk,jeniskelamin:e.jeniskelamin.toUpperCase()}),null!=e.objectagamafk&&(this.item.agama={id:e.objectagamafk,agama:e.agama.toUpperCase(),namadukcapil:e.agama.toUpperCase()}),null!=e.objectstatusperkawinanfk&&(this.item.statusPerkawinan={id:e.objectstatusperkawinanfk,statusperkawinan:e.statusperkawinan.toUpperCase(),namadukcapil:e.statusperkawinan.toUpperCase()}),null!=e.objectpendidikanfk&&(this.item.pendidikan={id:e.objectpendidikanfk,pendidikan:e.pendidikan.toUpperCase(),namadukcapil:e.pendidikan.toUpperCase()}),null!=e.objectpekerjaanfk&&(this.item.pekerjaan={id:e.objectpekerjaanfk,pekerjaan:e.pekerjaan.toUpperCase(),namadukcapil:e.pekerjaan.toUpperCase()}),null!=e.noidentitas&&(this.item.noIdentitas=e.noidentitas),null!=e.nobpjs&&(this.item.noBpjs=e.nobpjs),null!=e.namasuamiistri&&(this.item.namaSuamiIstri=e.namasuamiistri),null!=e.alamatlengkap&&(this.item.alamatLengkap=e.alamatlengkap),null!=e.notelepon&&(this.item.noTelepon=e.notelepon),null!=e.nohp&&(this.item.noHp=e.noaditional),this.reservasi=e,this.item.noRecReservasi=e.norec,this.item.noReservasi=e.noreservasi,null!=this.item.kodePos&&this.findKodePos(this.item.kodePos)},function(a){})}getPasienBayi(){this.apiService.get("registrasi/get-bynocm?noCm="+this.noCmIbu).subscribe(a=>{var e=a.data;null!=e.foto&&(this.item.image=e.foto),this.item.noCmIbu=e.nocm,this.item.namaIbu=e.namapasien.toUpperCase(),this.item.namaPasien=e.namapasien.toUpperCase()+" By Ny",this.item.alamatLengkap=e.alamatlengkap.toUpperCase(),this.item.tempatLahir=e.tempatlahir.toUpperCase(),this.item.jenisKelamin={id:e.objectjeniskelaminfk,jeniskelamin:e.jeniskelamin.toUpperCase()},null!=e.objectagamafk&&(this.item.agama={id:e.objectagamafk,agama:e.agama.toUpperCase()}),null!=e.kodepos&&(this.item.kodePos=e.kodepos),this.idIbu=e.nocmfk,null!=e.namasuamiistri&&(this.item.namaAyah=e.namasuamiistri),null!=e.namasuamiistri&&(this.item.namaKeluarga=e.namasuamiistri),null!=e.notelepon&&(this.item.noTelepon=e.notelepon),null!=e.nohp&&(this.item.noHp=e.nohp),null!=e.objectdesakelurahanfk&&(this.listDataKelurahan=[],this.apiService.get("registrasi/get-desa-kelurahan-paging?iddesakelurahan="+e.objectdesakelurahanfk).subscribe(a=>{if(null!=a[0]){var e={id:a[0].id,namadesakelurahan:a[0].namadesakelurahan,kodepos:a[0].kodepos,namakecamatan:a[0].namakecamatan,namakotakabupaten:a[0].namakotakabupaten,namapropinsi:a[0].namapropinsi,objectkecamatanfk:a[0].objectkecamatanfk,objectkotakabupatenfk:a[0].objectkotakabupatenfk,objectpropinsifk:a[0].objectpropinsifk,desa:a[0].namadesakelurahan};this.listDataKelurahan.push(e),this.item.desaKelurahan=e}})),null!=e.objectkecamatanfk&&(this.item.kecamatan={id:e.objectkecamatanfk,namakecamatan:e.namakecamatan}),null!=e.objectkotakabupatenfk&&(this.item.kotaKabupaten={id:e.objectkotakabupatenfk,namakotakabupaten:e.namakotakabupaten}),null!=e.objectpropinsifk&&(this.item.propinsi={id:e.objectpropinsifk,namapropinsi:e.namapropinsi})},function(a){})}editPasien(){this.apiService.get("registrasi/get-bynocm?idPasien="+this.params.idPasien).subscribe(a=>{var e=a.data;null!=e.foto&&(this.item.image=e.foto),this.item.noCmIbu=e.nocm,this.item.namaPasien=e.namapasien.toUpperCase(),null!=e.alamatlengkap&&(this.item.alamatLengkap=e.alamatlengkap.toUpperCase()),this.item.tempatLahir=e.tempatlahir.toUpperCase(),this.item.tglLahir=new Date(e.tgllahir),null!=e.objectjeniskelaminfk&&(this.item.jenisKelamin={id:e.objectjeniskelaminfk,jeniskelamin:e.jeniskelamin.toUpperCase()}),null!=e.objectagamafk&&(this.item.agama={id:e.objectagamafk,agama:e.agama.toUpperCase()}),this.item.PenanggungJawab=e.penanggungjawab,this.item.cekPenanggungJawab=null!=e.penanggungjawab,this.item.Hubungan=e.hubungankeluargapj,this.item.Ktp=e.ktppenanggungjawab,this.item.alamatRumah=e.alamatrmh,this.item.alamatKantor=e.alamatktr,this.item.Bahasa=e.bahasa,this.item.TeleponP=e.teleponpenanggungjawab,this.item.UmurP=e.umurpenanggungjawab,this.item.DokterPengirim=e.dokterpengirim,this.item.alamatDokterPengirim=e.alamatdokterpengirim,null!=e.pekerjaanpenangggungjawab&&(this.item.pekerjaanP={id:e.idpek,pekerjaan:e.pekerjaanpenangggungjawab.toUpperCase()}),null!=e.jeniskelaminpenanggungjawab&&(this.item.jenisKelaminP={id:e.jkidpenanggungjawab,jeniskelamin:e.jeniskelaminpenanggungjawab.toUpperCase()}),null!=e.kodepos&&(this.item.kodePos=e.kodepos),null!=e.namaibu&&(this.item.namaIbu=e.namaibu.toUpperCase()),null!=e.namasuamiistri&&(this.item.namaSuamiIstri=e.namasuamiistri.toUpperCase()),null!=e.noidentitas&&(this.item.noIdentitas=e.noidentitas),null!=e.nobpjs&&(this.item.noBpjs=e.nobpjs),null!=e.noasuransilain&&(this.item.noAsuransiLain=e.noasuransilain),null!=e.namaayah&&(this.item.namaAyah=e.namaayah.toUpperCase()),null!=e.namakeluarga&&(this.item.namaKeluarga=e.namakeluarga.toUpperCase()),null!=e.notelepon&&(this.item.noTelepon=e.notelepon),null!=e.nohp&&(this.item.noHp=e.nohp),null!=e.objectstatusperkawinanfk&&(this.item.statusPerkawinan={id:e.objectstatusperkawinanfk,statusperkawinan:e.statusperkawinan.toUpperCase(),namadukcapil:e.statusperkawinan.toUpperCase()}),null!=e.objectpendidikanfk&&(this.item.pendidikan={id:e.objectpendidikanfk,pendidikan:e.pendidikan.toUpperCase(),namadukcapil:e.pendidikan.toUpperCase()}),null!=e.objectpekerjaanfk&&(this.item.pekerjaan={id:e.objectpekerjaanfk,pekerjaan:e.pekerjaan.toUpperCase(),namadukcapil:e.pekerjaan.toUpperCase()}),null!=e.objectsukufk&&(this.item.suku={id:e.objectsukufk,suku:e.suku.toUpperCase()}),null!=e.objectgolongandarahfk&&(this.item.golonganDarah={id:e.objectgolongandarahfk,golongandarah:e.golongandarah.toUpperCase(),namadukcapil:e.golongandarah.toUpperCase()}),null!=e.objectdesakelurahanfk&&(this.listDataKelurahan=[],this.apiService.get("registrasi/get-desa-kelurahan-paging?iddesakelurahan="+e.objectdesakelurahanfk).subscribe(a=>{if(null!=a[0]){var e={id:a[0].id,namadesakelurahan:a[0].namadesakelurahan,kodepos:a[0].kodepos,namakecamatan:a[0].namakecamatan,namakotakabupaten:a[0].namakotakabupaten,namapropinsi:a[0].namapropinsi,objectkecamatanfk:a[0].objectkecamatanfk,objectkotakabupatenfk:a[0].objectkotakabupatenfk,objectpropinsifk:a[0].objectpropinsifk,desa:a[0].namadesakelurahan};this.listDataKelurahan.push(e),this.item.desaKelurahan=e}})),null!=e.objectkecamatanfk&&(this.item.kecamatan={id:e.objectkecamatanfk,namakecamatan:e.namakecamatan}),null!=e.objectkotakabupatenfk&&(this.item.kotaKabupaten={id:e.objectkotakabupatenfk,namakotakabupaten:e.namakotakabupaten}),null!=e.objectpropinsifk&&(this.item.propinsi={id:e.objectpropinsifk,namapropinsi:e.namapropinsi})},function(a){})}changeKebangsaan(a){null!=a&&("WNI"==a.value.name&&(this.item.negara={id:0,namanegara:"INDONESIA"}),"WNA"==a.value.name&&(this.item.negara={}))}loadCombo(){this.listDataJenisKelamin=[],this.listDataPekerjaan=[],this.listDataAgama=[],this.listDataPendidikan=[],this.listDataStatusPerkawinan=[],this.listDataPekerjaan=[],this.listGolonganDarah=[],this.listSuku=[],this.listDataKecamatan=[],this.listDataKotaKabupaten=[],this.listDataPropinsi=[],this.listKebangsaan=[],this.listNegara=[],this.apiService.get("registrasi/get-combo-registrasi").subscribe(a=>{this.listDataJenisKelamin=a.jeniskelamin,this.listDataPekerjaan=a.pekerjaan,this.listDataAgama=a.agama,this.listDataPendidikan=a.pendidikan,this.listDataStatusPerkawinan=a.statusperkawinan,this.listGolonganDarah=a.golongandarah,this.listSuku=a.suku}),this.apiService.get("registrasi/get-combo-address").subscribe(a=>{this.listDataKotaKabupaten=a.kotakabupaten,this.listDataPropinsi=a.propinsi,this.listKebangsaan=a.kebangsaan,this.listNegara=a.negara,this.item.kebangsaan=a.kebangsaan[0],this.changeKebangsaan({value:this.item.kebangsaan})})}filterDesa(a){this.apiService.get("registrasi/get-desa-kelurahan-paging?namadesakelurahan="+a.query).subscribe(a=>{this.listDataKelurahan=a})}filterKec(a){this.apiService.get("registrasi/get-kecamatan-part?namakecamatan="+a.query).subscribe(a=>{this.listDataKecamatan=a})}selectDesa(a){a.objectkecamatanfk&&(this.item.kecamatan={id:a.objectkecamatanfk,namakecamatan:a.namakecamatan}),a.objectkotakabupatenfk&&(this.item.kotaKabupaten={id:a.objectkotakabupatenfk,namakotakabupaten:a.namakotakabupaten}),a.objectpropinsifk&&(this.item.propinsi={id:a.objectpropinsifk,namapropinsi:a.namapropinsi}),a.kodepos&&(this.item.kodePos=a.kodepos)}findKodePos(a){a&&(this.listDataKelurahan=[],this.apiService.get("registrasi/get-alamat-bykodepos?kodePos="+a).subscribe(a=>{if(a.data.length>0){var e={id:a.data[0].objectdesakelurahanfk,namadesakelurahan:a.data[0].namadesakelurahan,kodepos:a.data[0].kodepos,namakecamatan:a.data[0].namakecamatan,namakotakabupaten:a.data[0].namakotakabupaten,namapropinsi:a.data[0].namapropinsi,objectkecamatanfk:a.data[0].objectkecamatanfk,objectkotakabupatenfk:a.data[0].objectkotakabupatenfk,objectpropinsifk:a.data[0].objectpropinsifk,desa:a.data[0].namadesakelurahan};this.listDataKelurahan.push(e),this.item.desaKelurahan=e,this.item.kecamatan={id:e.objectkecamatanfk,namakecamatan:e.namakecamatan},this.item.kotaKabupaten={id:e.objectkotakabupatenfk,namakotakabupaten:e.namakotakabupaten},this.item.propinsi={id:e.objectpropinsifk,namapropinsi:e.namapropinsi}}}))}getNik(a,e){let n={url:"Peserta/"+a+"/"+e+"/tglSEP/"+l(new Date).format("YYYY-MM-DD"),method:"GET",data:null};this.apiService.postNonMessage("bridging/bpjs/tools",n).subscribe(a=>{"200"==a.metaData.code?(this.alertService.success("Info",a.metaData.message),this.alertService.info("Status Peserta",a.response.peserta.statusPeserta.keterangan),this.item.namaPasien=a.response.peserta.nama,this.item.noIdentitas=a.response.peserta.nik,this.item.noBpjs=a.response.peserta.noKartu,this.item.noHp=a.response.peserta.noTelepon,this.item.tglLahir=new Date(a.response.peserta.tglLahir),this.item.jenisKelamin="P"==a.response.peserta.sex?this.listDataJenisKelamin[1]:this.listDataJenisKelamin[0]):this.alertService.error("Info",a.metaData.message)})}cancel(){this.item={},window.history.back()}save(){if(null!=this.item.noIdentitas)if(null!=this.item.namaPasien)if(null!=this.item.tempatLahir)if(null!=this.item.tglLahir)if(null!=this.item.jenisKelamin)if(null!=this.item.alamatLengkap)if(null!=this.item.noHp){var a=null;null!=this.item.pekerjaanP&&(a=this.item.pekerjaanP.pekerjaan);var e={isbayi:this.isBayi,istriageigd:this.isTriage,isPenunjang:this.isPenunjang,idpasien:null!=this.idPasien?this.idPasien:"",pasien:{namaPasien:this.item.namaPasien,noIdentitas:null!=this.item.noIdentitas?this.item.noIdentitas:null,namaSuamiIstri:null!=this.item.namaSuamiIstri?this.item.namaSuamiIstri:null,noAsuransiLain:null!=this.item.noAsuransiLain?this.item.noAsuransiLain:null,noBpjs:null!=this.item.noBpjs?this.item.noBpjs:null,noHp:null!=this.item.noHp?this.item.noHp:null,tempatLahir:this.item.tempatLahir,namaKeluarga:null!=this.item.namaKeluarga?this.item.namaKeluarga:null,tglLahir:l(this.item.tglLahir).format("YYYY-MM-DD HH:mm"),image:null!=this.item.image&&"../app/images/avatar.jpg"!=this.item.image?this.item.image:null},agama:{id:null!=this.item.agama?this.item.agama.id:null},jenisKelamin:{id:null!=this.item.jenisKelamin?this.item.jenisKelamin.id:null},pekerjaan:{id:null!=this.item.pekerjaan?this.item.pekerjaan.id:null},pendidikan:{id:null!=this.item.pendidikan?this.item.pendidikan.id:null},statusPerkawinan:{id:null!=this.item.statusPerkawinan?this.item.statusPerkawinan.id:0},golonganDarah:{id:null!=this.item.golonganDarah?this.item.golonganDarah.id:null},suku:{id:null!=this.item.suku?this.item.suku.id:null},namaIbu:null!=this.item.namaIbu?this.item.namaIbu:null,noTelepon:null!=this.item.noTelepon?this.item.noTelepon:null,noAditional:null!=this.item.noAditional?this.item.noAditional:null,kebangsaan:{id:null!=this.item.kebangsaan?this.item.kebangsaan.id:null},negara:{id:null!=this.item.negara?this.item.negara.id:null},namaAyah:null!=this.item.namaAyah?this.item.namaAyah:null,alamatLengkap:this.item.alamatLengkap,desaKelurahan:{id:null!=this.item.desaKelurahan?this.item.desaKelurahan.id:null,namaDesaKelurahan:null!=this.item.desaKelurahan?this.item.desaKelurahan.namadesakelurahan:null},kecamatan:{id:null!=this.item.kecamatan?this.item.kecamatan.id:null,namaKecamatan:null!=this.item.kecamatan?this.item.kecamatan.namakecamatan:null},kotaKabupaten:{id:null!=this.item.kotaKabupaten?this.item.kotaKabupaten.id:null,namaKotaKabupaten:null!=this.item.kotaKabupaten?this.item.kotaKabupaten.namakotakabupaten:null},propinsi:{id:null!=this.item.propinsi?this.item.propinsi.id:null},kodePos:null!=this.item.kodePos?this.item.kodePos:null,penanggungjawab:null!=this.item.PenanggungJawab?this.item.PenanggungJawab:null,hubungankeluargapj:null!=this.item.Hubungan?this.item.Hubungan:null,pekerjaanpenangggungjawab:a,ktppenanggungjawab:null!=this.item.Ktp?this.item.Ktp:null,alamatrmh:null!=this.item.alamatRumah?this.item.alamatRumah:null,alamatktr:null!=this.item.alamatKantor?this.item.alamatKantor:null,teleponpenanggungjawab:null!=this.item.TeleponP?this.item.TeleponP:null,bahasa:null!=this.item.Bahasa?this.item.Bahasa:null,jeniskelaminpenanggungjawab:null!=this.item.jenisKelaminP?this.item.jenisKelaminP.jeniskelamin:null,umurpenanggungjawab:null!=this.item.UmurP?this.item.UmurP:null,dokterpengirim:null!=this.item.DokterPengirim?this.item.DokterPengirim:null,alamatdokter:null!=this.item.alamatDokterPengirim?this.item.alamatDokterPengirim:null};this.apiService.post("registrasi/save-pasien",e).subscribe(a=>{null!=this.item.noRecReservasi&&this.apiService.post("reservasionline/update-nocmfk-antrian-registrasi",{norec:this.item.noRecReservasi,nocmfk:a.data.id}).subscribe(a=>{});var e=(e=this.dateHelper.CountAge(new Date(a.data.tgllahir),this.now)).year+" thn "+e.month+" bln "+e.day+" hr ";""==this.Triage&&null==this.Triage||this.InputTriage(),this.cacheHelper.set("CacheRegisBayi",void 0),"Pendaftaran Pasien"==this.title?this.Next(a.data.id):this.isNext=!0},function(a){})}else this.alertService.error("Info","No HP harus di isis");else this.alertService.error("Info","Alamat harus di isis");else this.alertService.error("Info","Jenis Kelamin harus di isis");else this.alertService.error("Info","Tgl Lahir harus di isis");else this.alertService.error("Info","Tempat Lahir harus di isis");else this.alertService.error("Info","Nama Pasien harus di isis");else this.alertService.error("Info","NIK harus di isis")}InputTriage(){}registrasi(){this.Next(this.params.idPasien)}Next(a){if(this.cacheHelper.set("CacheRegisOnlineBaru",void 0),null!=this.item.noReservasi){var e=this.item.noReservasi;null!=this.cacheHelper.get("CacheRegisOnline")&&(e=this.cacheHelper.get("CacheRegisOnline")[0]),this.cacheHelper.set("CacheRegisOnlineBaru",{0:e,1:"Online",2:"",3:"",4:"",5:"",6:""})}this.cacheHelper.set("CacheRegisOnline",void 0),this.cacheHelper.set("CacheRegistrasiPasien",void 0),this.cacheHelper.set("cacheStatusPasien",null!=this.idPasien&&""!=this.idPasien?"LAMA":"BARU"),this.cacheHelper.set("isPenunjang",null!=this.isPenunjang&&1==this.isPenunjang||void 0),this.router.navigate(["registrasi-ruangan",a])}}return a.\u0275fac=function(e){return new(e||a)(o.Jb(r.a),o.Jb(r.b),o.Jb(s.a),o.Jb(s.h),o.Jb(m.a),o.Jb(p.a),o.Jb(b.a),o.Jb(i.a),o.Jb(i.f))},a.\u0275cmp=o.Db({type:a,selectors:[["app-pasien-baru"]],features:[o.wb([s.a])],decls:138,vars:72,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"p-grid"],[1,"p-col-12","p-md-4"],[1,"card","card-w-title",2,"height","700px","overflow","auto"],[1,"p-col-12","p-md-12"],["for","input",1,"label-required"],["type","text","pInputText","","placeholder","Tekan Enter untuk pencarian NIK","maxlength","16",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Tempat Lahir",3,"ngModel","ngModelChange"],["yearRange","1980:2030","dateFormat","dd-mm-yy","placeholder","dd-mm-yyyy",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Jenis Kelamin","optionLabel","jeniskelamin",3,"options","ngModel","filter","showClear","ngModelChange"],["for","input",1,"label"],["placeholder","Agama","optionLabel","agama",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Status Perkawinan","optionLabel","statusperkawinan",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Golongan Darah","optionLabel","golongandarah",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Pendidikan","optionLabel","pendidikan","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Pekerjaan","optionLabel","pekerjaan","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange"],["rows","4","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-12",2,"margin-top","8px"],["type","text","pInputText","","placeholder","Kode Pos",3,"ngModel","ngModelChange","keyup.enter"],["field","namadesakelurahan","placeholder","Kelurahan",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod","onSelect"],["pTemplate","item"],["field","namakecamatan","placeholder","Kecamatan",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod"],["placeholder","Kota Kabupaten","optionLabel","namakotakabupaten","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Provinsi ","optionLabel","namapropinsi","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Kebangsaan","optionLabel","name",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["placeholder","Etnis","optionLabel","suku",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Negara","optionLabel","namanegara",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Tekan Enter untuk pencarian No BPJS",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","No Asuransi Lain",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Telpon ",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No HP",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Ayah ",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Ibu ",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Keluarga ",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Suami / Istri",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-12",2,"margin-top","15px"],["binary","true","inputId","item.cekPenanggungJawab",3,"ngModel","ngModelChange"],["for","item.cekPenanggungJawab"],["class","p-col-12 p-md-12",4,"ngIf"],["class","p-col-12 p-md-1 p-md-offset-10",4,"ngIf"],[1,"p-col-12","p-md-1"],["pButton","","type","button","icon","pi pi-arrow-left","pTooltip","Simpan","label","Batal",1,"p-button","p-button-danger","p-mr-2",3,"click"],[1,"country-item"],[1,"card","card-w-title"],["type","text","pInputText","","placeholder","Nama Penanggung Jawab",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Hubungan Dengan Pasien",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Telepon",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Bahasa Sehari-hari",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Umur",3,"ngModel","ngModelChange"],["placeholder","Pekerjaan","optionLabel","pekerjaan",3,"options","ngModel","filter","showClear","ngModelChange"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Dokter Pengirim",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-1","p-md-offset-10"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan","label","Simpan",1,"p-button","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-arrow-right","pTooltip","Registrasi ","label","Registrasi",1,"p-button","p-mr-2",3,"click"]],template:function(a,e){1&a&&(o.Lb(0,"p-confirmDialog",0),o.Qb(1,"div",1),o.Qb(2,"div",2),o.Qb(3,"div",3),o.Qb(4,"div",4),o.Qb(5,"h4"),o.Jc(6,"Info Pasien"),o.Pb(),o.Qb(7,"div",2),o.Qb(8,"div",5),o.Qb(9,"label",6),o.Jc(10,"NIK "),o.Pb(),o.Qb(11,"input",7),o.Yb("ngModelChange",function(a){return e.item.noIdentitas=a})("keyup.enter",function(){return e.getNik("nik",e.item.noIdentitas)}),o.Pb(),o.Pb(),o.Qb(12,"div",5),o.Qb(13,"label",6),o.Jc(14,"Nama Pasien "),o.Pb(),o.Qb(15,"input",8),o.Yb("ngModelChange",function(a){return e.item.namaPasien=a}),o.Pb(),o.Pb(),o.Qb(16,"div",5),o.Qb(17,"label",6),o.Jc(18,"Tempat Lahir "),o.Pb(),o.Qb(19,"input",9),o.Yb("ngModelChange",function(a){return e.item.tempatLahir=a}),o.Pb(),o.Pb(),o.Qb(20,"div",5),o.Qb(21,"label",6),o.Jc(22,"Tgl Lahir "),o.Pb(),o.Qb(23,"p-calendar",10),o.Yb("ngModelChange",function(a){return e.item.tglLahir=a}),o.Pb(),o.Pb(),o.Qb(24,"div",5),o.Qb(25,"label",6),o.Jc(26,"Jenis Kelamin "),o.Pb(),o.Qb(27,"p-dropdown",11),o.Yb("ngModelChange",function(a){return e.item.jenisKelamin=a}),o.Pb(),o.Pb(),o.Qb(28,"div",5),o.Qb(29,"label",12),o.Jc(30,"Agama "),o.Pb(),o.Qb(31,"p-dropdown",13),o.Yb("ngModelChange",function(a){return e.item.agama=a}),o.Pb(),o.Pb(),o.Qb(32,"div",5),o.Qb(33,"label",12),o.Jc(34,"Status Perkawinan "),o.Pb(),o.Qb(35,"p-dropdown",14),o.Yb("ngModelChange",function(a){return e.item.statusPerkawinan=a}),o.Pb(),o.Pb(),o.Qb(36,"div",5),o.Qb(37,"label",12),o.Jc(38,"Golongan Darah "),o.Pb(),o.Qb(39,"p-dropdown",15),o.Yb("ngModelChange",function(a){return e.item.golonganDarah=a}),o.Pb(),o.Pb(),o.Qb(40,"div",5),o.Qb(41,"label",12),o.Jc(42,"Pendidikan "),o.Pb(),o.Qb(43,"p-dropdown",16),o.Yb("ngModelChange",function(a){return e.item.pendidikan=a}),o.Pb(),o.Pb(),o.Qb(44,"div",5),o.Qb(45,"label",12),o.Jc(46,"Pekerjaan "),o.Pb(),o.Qb(47,"p-dropdown",17),o.Yb("ngModelChange",function(a){return e.item.pekerjaan=a}),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(48,"div",3),o.Qb(49,"div",4),o.Qb(50,"h4"),o.Jc(51,"Detail Pasien"),o.Pb(),o.Qb(52,"div",2),o.Qb(53,"div",5),o.Qb(54,"div",2),o.Qb(55,"div",5),o.Qb(56,"label",6),o.Jc(57,"Alamat "),o.Pb(),o.Qb(58,"textarea",18),o.Yb("ngModelChange",function(a){return e.item.alamatLengkap=a}),o.Pb(),o.Pb(),o.Qb(59,"div",19),o.Qb(60,"label",12),o.Jc(61,"Kode Pos "),o.Pb(),o.Qb(62,"input",20),o.Yb("ngModelChange",function(a){return e.item.kodePos=a})("keyup.enter",function(){return e.findKodePos(e.item.kodePos)}),o.Pb(),o.Pb(),o.Qb(63,"div",5),o.Qb(64,"label",6),o.Jc(65,"Kelurahan "),o.Pb(),o.Qb(66,"p-autoComplete",21),o.Yb("ngModelChange",function(a){return e.item.desaKelurahan=a})("completeMethod",function(a){return e.filterDesa(a)})("onSelect",function(a){return e.selectDesa(a)}),o.Hc(67,M,19,4,"ng-template",22),o.Pb(),o.Pb(),o.Qb(68,"div",5),o.Qb(69,"label",12),o.Jc(70,"Kecamatan "),o.Pb(),o.Qb(71,"p-autoComplete",23),o.Yb("ngModelChange",function(a){return e.item.kecamatan=a})("completeMethod",function(a){return e.filterKec(a)}),o.Pb(),o.Pb(),o.Qb(72,"div",5),o.Qb(73,"label",12),o.Jc(74,"Kota Kabupaten "),o.Pb(),o.Qb(75,"p-dropdown",24),o.Yb("ngModelChange",function(a){return e.item.kotaKabupaten=a}),o.Pb(),o.Pb(),o.Qb(76,"div",5),o.Qb(77,"label",12),o.Jc(78,"Provinsi "),o.Pb(),o.Qb(79,"p-dropdown",25),o.Yb("ngModelChange",function(a){return e.item.propinsi=a}),o.Pb(),o.Pb(),o.Qb(80,"div",5),o.Qb(81,"label",12),o.Jc(82,"Kebangsaan "),o.Pb(),o.Qb(83,"p-dropdown",26),o.Yb("ngModelChange",function(a){return e.item.kebangsaan=a})("onChange",function(a){return e.changeKebangsaan(a)}),o.Pb(),o.Pb(),o.Qb(84,"div",5),o.Qb(85,"label",12),o.Jc(86,"Etnis "),o.Pb(),o.Qb(87,"p-dropdown",27),o.Yb("ngModelChange",function(a){return e.item.suku=a}),o.Pb(),o.Pb(),o.Qb(88,"div",5),o.Qb(89,"label",12),o.Jc(90,"Negara "),o.Pb(),o.Qb(91,"p-dropdown",28),o.Yb("ngModelChange",function(a){return e.item.negara=a}),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(92,"div",3),o.Qb(93,"div",4),o.Lb(94,"h4"),o.Qb(95,"div",2),o.Qb(96,"div",5),o.Qb(97,"label",12),o.Jc(98,"No BPJS "),o.Pb(),o.Qb(99,"input",29),o.Yb("ngModelChange",function(a){return e.item.noBpjs=a})("keyup.enter",function(){return e.getNik("nokartu",e.item.noBpjs)}),o.Pb(),o.Pb(),o.Qb(100,"div",5),o.Qb(101,"label",12),o.Jc(102,"No Asuransi Lain "),o.Pb(),o.Qb(103,"input",30),o.Yb("ngModelChange",function(a){return e.item.noAsuransiLain=a}),o.Pb(),o.Pb(),o.Qb(104,"div",5),o.Qb(105,"label",12),o.Jc(106,"No Telpon "),o.Pb(),o.Qb(107,"input",31),o.Yb("ngModelChange",function(a){return e.item.noTelepon=a}),o.Pb(),o.Pb(),o.Qb(108,"div",5),o.Qb(109,"label",6),o.Jc(110,"No HP "),o.Pb(),o.Qb(111,"input",32),o.Yb("ngModelChange",function(a){return e.item.noHp=a}),o.Pb(),o.Pb(),o.Qb(112,"div",5),o.Qb(113,"label",12),o.Jc(114,"Nama Ayah "),o.Pb(),o.Qb(115,"input",33),o.Yb("ngModelChange",function(a){return e.item.namaAyah=a}),o.Pb(),o.Pb(),o.Qb(116,"div",5),o.Qb(117,"label",12),o.Jc(118,"Nama Ibu "),o.Pb(),o.Qb(119,"input",34),o.Yb("ngModelChange",function(a){return e.item.namaIbu=a}),o.Pb(),o.Pb(),o.Qb(120,"div",5),o.Qb(121,"label",12),o.Jc(122,"Nama Keluarga "),o.Pb(),o.Qb(123,"input",35),o.Yb("ngModelChange",function(a){return e.item.namaKeluarga=a}),o.Pb(),o.Pb(),o.Qb(124,"div",5),o.Qb(125,"label",12),o.Jc(126,"Nama Suami / Istri "),o.Pb(),o.Qb(127,"input",36),o.Yb("ngModelChange",function(a){return e.item.namaSuamiIstri=a}),o.Pb(),o.Pb(),o.Qb(128,"div",37),o.Qb(129,"p-checkbox",38),o.Yb("ngModelChange",function(a){return e.item.cekPenanggungJawab=a}),o.Pb(),o.Qb(130,"label",39),o.Jc(131," Penanggung Jawab Pasien"),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Hc(132,Q,45,16,"div",40),o.Pb(),o.Qb(133,"div",2),o.Hc(134,v,2,0,"div",41),o.Hc(135,w,2,0,"div",41),o.Qb(136,"div",42),o.Qb(137,"button",43),o.Yb("click",function(){return e.cancel()}),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&a&&(o.xb(11),o.ic("ngModel",e.item.noIdentitas),o.xb(4),o.ic("ngModel",e.item.namaPasien),o.xb(4),o.ic("ngModel",e.item.tempatLahir),o.xb(4),o.ic("ngModel",e.item.tglLahir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),o.xb(4),o.ic("options",e.listDataJenisKelamin)("ngModel",e.item.jenisKelamin)("filter",!0)("showClear",!0),o.xb(4),o.ic("options",e.listDataAgama)("ngModel",e.item.agama)("filter",!0)("showClear",!0),o.xb(4),o.ic("options",e.listDataStatusPerkawinan)("ngModel",e.item.statusPerkawinan)("filter",!0)("showClear",!0),o.xb(4),o.ic("options",e.listGolonganDarah)("ngModel",e.item.golonganDarah)("filter",!0)("showClear",!0),o.xb(4),o.ic("options",e.listDataPendidikan)("ngModel",e.item.pendidikan)("filter",!0)("showClear",!0),o.xb(4),o.ic("options",e.listDataPekerjaan)("ngModel",e.item.pekerjaan)("filter",!0)("showClear",!0),o.xb(11),o.ic("ngModel",e.item.alamatLengkap),o.xb(4),o.ic("ngModel",e.item.kodePos),o.xb(4),o.ic("ngModel",e.item.desaKelurahan)("suggestions",e.listDataKelurahan)("dropdown",!0),o.xb(5),o.ic("ngModel",e.item.kecamatan)("suggestions",e.listDataKecamatan)("dropdown",!0),o.xb(4),o.ic("options",e.listDataKotaKabupaten)("ngModel",e.item.kotaKabupaten)("filter",!0)("showClear",!0),o.xb(4),o.ic("options",e.listDataPropinsi)("ngModel",e.item.propinsi)("filter",!0)("showClear",!0),o.xb(4),o.ic("options",e.listKebangsaan)("ngModel",e.item.kebangsaan)("filter",!0)("showClear",!0),o.xb(4),o.ic("options",e.listSuku)("ngModel",e.item.suku)("filter",!0)("showClear",!0),o.xb(4),o.ic("options",e.listNegara)("ngModel",e.item.negara)("filter",!0)("showClear",!0),o.xb(8),o.ic("ngModel",e.item.noBpjs),o.xb(4),o.ic("ngModel",e.item.noAsuransiLain),o.xb(4),o.ic("ngModel",e.item.noTelepon),o.xb(4),o.ic("ngModel",e.item.noHp),o.xb(4),o.ic("ngModel",e.item.namaAyah),o.xb(4),o.ic("ngModel",e.item.namaIbu),o.xb(4),o.ic("ngModel",e.item.namaKeluarga),o.xb(4),o.ic("ngModel",e.item.namaSuamiIstri),o.xb(2),o.ic("ngModel",e.item.cekPenanggungJawab),o.xb(3),o.ic("ngIf",1==e.item.cekPenanggungJawab),o.xb(2),o.ic("ngIf",!e.isNext),o.xb(1),o.ic("ngIf",e.isNext))},directives:[u.a,h.a,g.a,h.c,h.g,h.h,d.a,c.a,k.a,P.a,s.k,f.a,t.l,j.b,C.a],styles:[""]}),a})()}];let x=(()=>{class a{}return a.\u0275mod=o.Hb({type:a}),a.\u0275inj=o.Gb({factory:function(e){return new(e||a)},imports:[[i.j.forChild(K)],i.j]}),a})();var y=n("PCNd");let J=(()=>{class a{}return a.\u0275mod=o.Hb({type:a}),a.\u0275inj=o.Gb({factory:function(e){return new(e||a)},imports:[[t.b,x,y.a]]}),a})()}}]);