!function(){function a(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function e(a,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{qNTz:function(t,i,n){"use strict";n.r(i),n.d(i,"AntrolDashboardModule",function(){return Y});var o=n("ofXK"),r=n("tyNb"),l=n("wd/R"),d=n("fXoL"),b=n("EJUL"),s=n("ujBT"),c=n("7LiV"),p=n("eO1q"),u=n("3Pt+"),h=n("arFO"),g=n("jIHw"),k=n("xlun"),m=n("rEr+"),f=n("7zfz"),w=n("7kUa");function P(a,e){if(1&a&&(d.Qb(0,"th",34),d.Jc(1),d.Lb(2,"p-sortIcon",35),d.Pb()),2&a){var t=e.$implicit;d.Fc("width: ",t.width,""),d.jc("pSortableColumn",t.field),d.xb(1),d.Lc(" ",t.header," "),d.xb(1),d.jc("field",t.field)}}function v(a,e){if(1&a&&(d.Qb(0,"tr"),d.Hc(1,P,3,6,"th",33),d.Pb()),2&a){var t=e.$implicit;d.xb(1),d.ic("ngForOf",t)}}function Q(a,e){if(1&a&&(d.Qb(0,"td"),d.Qb(1,"span",38),d.Jc(2),d.Pb(),d.Jc(3),d.Pb()),2&a){var t=e.$implicit,i=d.bc().$implicit;d.Fc("width: ",t.width,""),d.xb(2),d.Lc(" ",t.header," "),d.xb(1),d.Lc(" ",i[t.field]," ")}}function x(a,e){if(1&a&&(d.Qb(0,"tr",36),d.Hc(1,Q,4,5,"td",37),d.Pb()),2&a){var t=e.columns,i=e.rowIndex;d.ic("pSelectableRow",e.$implicit)("pSelectableRowIndex",i),d.xb(1),d.ic("ngForOf",t)}}function y(a,e){if(1&a&&(d.Qb(0,"th",34),d.Jc(1),d.Lb(2,"p-sortIcon",35),d.Pb()),2&a){var t=e.$implicit;d.Fc("width: ",t.width,""),d.jc("pSortableColumn",t.field),d.xb(1),d.Lc(" ",t.header," "),d.xb(1),d.jc("field",t.field)}}function S(a,e){if(1&a&&(d.Qb(0,"tr"),d.Hc(1,y,3,6,"th",33),d.Pb()),2&a){var t=e.$implicit;d.xb(1),d.ic("ngForOf",t)}}function M(a,e){if(1&a&&(d.Qb(0,"td"),d.Qb(1,"span",38),d.Jc(2),d.Pb(),d.Jc(3),d.Pb()),2&a){var t=e.$implicit,i=d.bc().$implicit;d.Fc("width: ",t.width,""),d.xb(2),d.Lc(" ",t.header," "),d.xb(1),d.Lc(" ",i[t.field]," ")}}function J(a,e){if(1&a&&(d.Qb(0,"tr",36),d.Hc(1,M,4,5,"td",37),d.Pb()),2&a){var t=e.columns,i=e.rowIndex;d.ic("pSelectableRow",e.$implicit)("pSelectableRowIndex",i),d.xb(1),d.ic("ngForOf",t)}}var _,C,D,I=function(){return[5,10,25,50]},W=[{path:"",component:(_=function(){function t(e,i){a(this,t),this.apiService=e,this.alertService=i,this.item={now:l(new Date).format("YYYY-MM-DD"),tglAwal:new Date,tglAkhir:new Date,tahun:(new Date).getFullYear(),tglperiksa:new Date},this.sisa={},this.dataSource=[],this.column=[],this.listPoli=[],this.listDokter=[],this.listBulan=[{kode:"01",nama:"JANUARI"},{kode:"02",nama:"FEBRUARI"},{kode:"03",nama:"MARET"},{kode:"04",nama:"APRIL"},{kode:"05",nama:"MEI"},{kode:"06",nama:"JUNI"},{kode:"08",nama:"JULI"},{kode:"09",nama:"AGUSTUS"},{kode:"10",nama:"SEPTEMBER"},{kode:"11",nama:"NOVEMBER"},{kode:"12",nama:"DESEMBER"}],this.add={},this.selected={},this.dataSource2=[],this.column2=[],this.data2=[],this.listWaktu=[{nama:"rs"},{nama:"server"}]}var i,n,o;return i=t,(n=[{key:"ngOnInit",value:function(){var a=this;this.apiService.get("bridging/antrean/get-combo").subscribe(function(e){a.listDokter=e.dokter,a.listPoli=e.ruangan}),this.apiService.get("bridging/bpjs/get-ref-dokter-dpjp?jenisPelayanan=1&tglPelayanan="+l(new Date).format("YYYY-MM-DD")+"&kodeSpesialis=IGD").subscribe(function(e){200==e.metaData.code?a.listDokterHFIS=e.response.list:a.alertService.info("Info","Dokter DPJP tidak ada")}),this.column=[{field:"kdppk",header:"Kode Faskes",width:"80px"},{field:"nmppk",header:"Faskes",width:"200px"},{field:"tanggal",header:"Tanggal",width:"100px"},{field:"jumlah_antrean",header:"Jumlah Antrean",width:"100px"},{field:"namapoli",header:"Poli",width:"200px"},{field:"waktu_task1",header:"Waktu tunggu admisi",width:"100px"},{field:"avg_waktu_task1",header:"Rata2 Waktu tunggu admisi",width:"100px"},{field:"waktu_task2",header:"Waktu layan admisi",width:"100px"},{field:"avg_waktu_task2",header:"Rata2 Waktu layan admisi",width:"100px"},{field:"waktu_task3",header:"Waktu tunggu poli",width:"100px"},{field:"avg_waktu_task3",header:"Rata2 Waktu tunggu poli",width:"100px"},{field:"waktu_task4",header:"Waktu layan poli",width:"100px"},{field:"avg_waktu_task4",header:"Rata2 Waktu layan Poli",width:"100px"},{field:"waktu_task5",header:"Waktu layan poli",width:"100px"},{field:"avg_waktu_task5",header:"Rata2 Waktu tunggu farmasi",width:"100px"},{field:"waktu_task6",header:"Waktu layan farmasi",width:"100px"},{field:"avg_waktu_task6",header:"Rata2 Waktu layan farmasi",width:"100px"},{field:"insertdate",header:"Update",width:"100px"}],this.column2=[{field:"kdppk",header:"Kode Faskes",width:"80px"},{field:"nmppk",header:"Faskes",width:"200px"},{field:"tanggal",header:"Tanggal",width:"100px"},{field:"jumlah_antrean",header:"Jumlah Antrean",width:"100px"},{field:"namapoli",header:"Poli",width:"200px"},{field:"waktu_task1",header:"Waktu tunggu admisi",width:"100px"},{field:"avg_waktu_task1",header:"Rata2 Waktu tunggu admisi",width:"100px"},{field:"waktu_task2",header:"Waktu layan admisi",width:"100px"},{field:"avg_waktu_task2",header:"Rata2 Waktu layan admisi",width:"100px"},{field:"waktu_task3",header:"Waktu tunggu poli",width:"100px"},{field:"avg_waktu_task3",header:"Rata2 Waktu tunggu poli",width:"100px"},{field:"waktu_task4",header:"Waktu layan poli",width:"100px"},{field:"avg_waktu_task4",header:"Rata2 Waktu layan Poli",width:"100px"},{field:"waktu_task5",header:"Waktu layan poli",width:"100px"},{field:"avg_waktu_task5",header:"Rata2 Waktu tunggu farmasi",width:"100px"},{field:"waktu_task6",header:"Waktu layan farmasi",width:"100px"},{field:"avg_waktu_task6",header:"Rata2 Waktu layan farmasi",width:"100px"},{field:"insertdate",header:"Update",width:"100px"}]}},{key:"cari",value:function(){var a=this;if(this.item.waktu){var e={url:"dashboard/waktutunggu/tanggal/"+l(this.item.tglAwal).format("YYYY-MM-DD")+"/waktu/"+this.item.waktu.nama,jenis:"antrean",method:"GET",data:null};this.dataSource=[],this.apiService.post("bridging/bpjs/tools",e).subscribe(function(e){"200"==e.metaData.code?a.dataSource=e.response.list:a.alertService.error("Info",e.metaData.message)})}else this.alertService.warn("Info","Waktu harus dipilih")}},{key:"cari2",value:function(){var a=this;if(this.item.waktu)if(this.item.bulan){var e={url:"dashboard/waktutunggu/bulan/"+this.item.bulan.kode+"/tahun/"+this.item.tahun+"/waktu/"+this.item.waktu.nama,jenis:"antrean",method:"GET",data:null};this.dataSource2=[],this.apiService.post("bridging/bpjs/tools",e).subscribe(function(e){"200"==e.metaData.code?a.dataSource2=e.response.list:a.alertService.error("Info",e.metaData.message)})}else this.alertService.warn("Info","Bulan harus dipilih");else this.alertService.warn("Info","Waktu harus dipilih")}},{key:"cari3",value:function(){var a=this;if(this.item.tglperiksa&&this.item.poli&&this.item.dokterHFIS){var e={kodepoli:this.item.poli.kode,kodedokter:this.item.dokterHFIS.kode,tanggalperiksa:l(this.item.tglperiksa).format("YYYY-MM-DD"),jampraktek:"08:00-16:00"};this.dataSource2=[],this.apiService.post("jkn/get-status-antrean",e).subscribe(function(e){"200"==e.metadata.code?a.sisa=e.response:a.alertService.error("Info",e.metadata.message)})}}}])&&e(i.prototype,n),o&&e(i,o),t}(),_.\u0275fac=function(a){return new(a||_)(d.Jb(b.a),d.Jb(s.a))},_.\u0275cmp=d.Db({type:_,selectors:[["app-antrol-dashboard"]],decls:108,vars:56,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-12"],["header","Per Tanggal",3,"selected"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],[1,"p-col-12","p-md-3"],["placeholder","Waktu","optionLabel","nama","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",1,"p-button-primary","p-mr-1",3,"click"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["dt",""],["pTemplate","header"],["pTemplate","body"],["header","Per Bulan"],["type","text","pInputText","","placeholder","Tahun ",3,"ngModel","ngModelChange"],["placeholder","Bulan","optionLabel","nama","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["header","Sisa Antrean"],["placeholder","Poli","optionLabel","nama","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Dokter HFIS","optionLabel","nama","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-12","timeline"],[1,"satu"],[1,"pi","pi-circle-on"],[1,"event-content"],[1,"event-title"],[1,"dua"],[1,"tiga"],[1,"empat"],[1,"lima"],[1,"enam"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"style",4,"ngFor","ngForOf"],[1,"p-column-title"]],template:function(a,e){1&a&&(d.Qb(0,"div",0),d.Qb(1,"div",1),d.Qb(2,"h4"),d.Jc(3,"Dashboard Antrean"),d.Pb(),d.Qb(4,"div",2),d.Qb(5,"div",3),d.Qb(6,"p-accordion"),d.Qb(7,"p-accordionTab",4),d.Qb(8,"div",3),d.Qb(9,"div",2),d.Qb(10,"div",5),d.Qb(11,"label",6),d.Jc(12,"Tanggal"),d.Pb(),d.Qb(13,"p-calendar",7),d.Yb("ngModelChange",function(a){return e.item.tglAwal=a}),d.Pb(),d.Pb(),d.Qb(14,"div",8),d.Qb(15,"label",6),d.Jc(16,"Waktu"),d.Pb(),d.Qb(17,"p-dropdown",9),d.Yb("ngModelChange",function(a){return e.item.waktu=a}),d.Pb(),d.Pb(),d.Qb(18,"div",10),d.Qb(19,"button",11),d.Yb("click",function(){return e.cari()}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(20,"div",12),d.Qb(21,"p-table",13,14),d.Hc(23,v,2,1,"ng-template",15),d.Hc(24,x,2,3,"ng-template",16),d.Pb(),d.Pb(),d.Pb(),d.Qb(25,"p-accordionTab",17),d.Qb(26,"div",3),d.Qb(27,"div",2),d.Qb(28,"div",5),d.Qb(29,"label",6),d.Jc(30,"Tahun"),d.Pb(),d.Qb(31,"input",18),d.Yb("ngModelChange",function(a){return e.item.tahun=a}),d.Pb(),d.Pb(),d.Qb(32,"div",8),d.Qb(33,"label",6),d.Jc(34,"Bulan"),d.Pb(),d.Qb(35,"p-dropdown",19),d.Yb("ngModelChange",function(a){return e.item.bulan=a}),d.Pb(),d.Pb(),d.Qb(36,"div",8),d.Qb(37,"label",6),d.Jc(38,"Waktu"),d.Pb(),d.Qb(39,"p-dropdown",9),d.Yb("ngModelChange",function(a){return e.item.waktu=a}),d.Pb(),d.Pb(),d.Qb(40,"div",10),d.Qb(41,"button",11),d.Yb("click",function(){return e.cari2()}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(42,"div",12),d.Qb(43,"p-table",13,14),d.Hc(45,S,2,1,"ng-template",15),d.Hc(46,J,2,3,"ng-template",16),d.Pb(),d.Pb(),d.Pb(),d.Qb(47,"p-accordionTab",20),d.Qb(48,"div",3),d.Qb(49,"div",2),d.Qb(50,"div",5),d.Qb(51,"label",6),d.Jc(52,"Tanggal"),d.Pb(),d.Qb(53,"p-calendar",7),d.Yb("ngModelChange",function(a){return e.item.tglperiksa=a}),d.Pb(),d.Pb(),d.Qb(54,"div",5),d.Qb(55,"label",6),d.Jc(56,"Poli"),d.Pb(),d.Qb(57,"p-dropdown",21),d.Yb("ngModelChange",function(a){return e.item.poli=a}),d.Pb(),d.Pb(),d.Qb(58,"div",8),d.Qb(59,"label",6),d.Jc(60,"Dokter"),d.Pb(),d.Qb(61,"p-dropdown",22),d.Yb("ngModelChange",function(a){return e.item.dokterHFIS=a}),d.Pb(),d.Pb(),d.Qb(62,"div",10),d.Qb(63,"button",11),d.Yb("click",function(){return e.cari3()}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(64,"div",23),d.Qb(65,"ul"),d.Qb(66,"li",24),d.Lb(67,"i",25),d.Qb(68,"div",26),d.Qb(69,"span"),d.Jc(70,"Poli "),d.Pb(),d.Qb(71,"span",27),d.Jc(72),d.Pb(),d.Pb(),d.Pb(),d.Qb(73,"li",28),d.Lb(74,"i",25),d.Qb(75,"div",26),d.Qb(76,"span"),d.Jc(77,"Dokter"),d.Pb(),d.Qb(78,"span",27),d.Jc(79),d.Pb(),d.Pb(),d.Pb(),d.Qb(80,"li",29),d.Lb(81,"i",25),d.Qb(82,"div",26),d.Qb(83,"span"),d.Jc(84,"Total Antrean"),d.Pb(),d.Qb(85,"span",27),d.Jc(86),d.Pb(),d.Pb(),d.Pb(),d.Qb(87,"li",30),d.Lb(88,"i",25),d.Qb(89,"div",26),d.Qb(90,"span"),d.Jc(91," Sisa Antrean "),d.Pb(),d.Qb(92,"span",27),d.Jc(93),d.Pb(),d.Pb(),d.Pb(),d.Qb(94,"li",31),d.Lb(95,"i",25),d.Qb(96,"div",26),d.Qb(97,"span"),d.Jc(98,"Antrean Dipanggil"),d.Pb(),d.Qb(99,"span",27),d.Jc(100),d.Pb(),d.Pb(),d.Pb(),d.Qb(101,"li",32),d.Lb(102,"i",25),d.Qb(103,"div",26),d.Qb(104,"span"),d.Jc(105,"Keterangan"),d.Pb(),d.Qb(106,"span",27),d.Jc(107),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&a&&(d.xb(7),d.ic("selected",!0),d.xb(6),d.ic("ngModel",e.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),d.xb(4),d.ic("options",e.listWaktu)("ngModel",e.item.waktu)("filter",!0)("showClear",!0),d.xb(4),d.ic("columns",e.column)("value",e.dataSource)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",d.mc(54,I))("paginator",!0)("pageLinks",5),d.xb(10),d.ic("ngModel",e.item.tahun),d.xb(4),d.ic("options",e.listBulan)("ngModel",e.item.bulan)("filter",!0)("showClear",!0),d.xb(4),d.ic("options",e.listWaktu)("ngModel",e.item.waktu)("filter",!0)("showClear",!0),d.xb(4),d.ic("columns",e.column2)("value",e.dataSource2)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",d.mc(55,I))("paginator",!0)("pageLinks",5),d.xb(10),d.ic("ngModel",e.item.tglperiksa)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),d.xb(4),d.ic("options",e.listPoli)("ngModel",e.item.poli)("filter",!0)("showClear",!0),d.xb(4),d.ic("options",e.listDokterHFIS)("ngModel",e.item.dokterHFIS)("filter",!0)("showClear",!0),d.xb(11),d.Kc(e.sisa.namapoli),d.xb(7),d.Kc(e.sisa.namadokter),d.xb(7),d.Kc(e.sisa.totalantrean),d.xb(7),d.Kc(e.sisa.sisaantrean),d.xb(7),d.Kc(""!=e.sisa.antreanpanggil?e.sisa.antreanpanggil:"-"),d.xb(7),d.Kc(""!=e.sisa.keterangan?e.sisa.keterangan:"-"))},directives:[c.a,c.c,p.a,u.g,u.h,h.a,g.b,k.a,m.h,f.k,u.a,w.a,o.k,m.g,m.f,m.e],styles:[""]}),_)}],R=((C=function e(){a(this,e)}).\u0275mod=d.Hb({type:C}),C.\u0275inj=d.Gb({factory:function(a){return new(a||C)},imports:[[r.j.forChild(W)],r.j]}),C),T=n("PCNd"),Y=((D=function e(){a(this,e)}).\u0275mod=d.Hb({type:D}),D.\u0275inj=d.Gb({factory:function(a){return new(a||D)},imports:[[o.b,R,T.a]]}),D)}}])}();