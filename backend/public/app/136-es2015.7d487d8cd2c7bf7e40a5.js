(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{Y4c9:function(t,a,e){"use strict";e.r(a),e.d(a,"MasterRuanganModule",function(){return kt});var i=e("ofXK"),n=e("tyNb"),s=e("fXoL"),l=e("EJUL"),b=e("7zfz"),o=e("U+s4"),r=e("G0w9"),c=e("ujBT"),d=e("qVin"),p=e("dPl2"),u=e("7kUa"),m=e("rEr+"),h=e("arFO"),g=e("3Pt+"),f=e("7CaW"),k=e("jIHw"),P=e("xlun"),Q=e("/RsI"),x=e("Ji6n"),v=e("Q4Mo"),T=e("hYoW"),C=e("PU9F");function y(t,a){if(1&t){const t=s.Sb();s.Qb(0,"div",63),s.Qb(1,"button",64),s.Yb("click",function(){return s.yc(t),s.bc().tambah()}),s.Pb(),s.Pb()}}function w(t,a){if(1&t&&(s.Qb(0,"th",67),s.Jc(1),s.Lb(2,"p-sortIcon",68),s.Pb()),2&t){const t=a.$implicit;s.Fc("width: ",t.width,""),s.jc("pSortableColumn",t.field),s.xb(1),s.Lc(" ",t.header," "),s.xb(1),s.jc("field",t.field)}}function S(t,a){if(1&t&&(s.Qb(0,"tr"),s.Lb(1,"th",65),s.Hc(2,w,3,6,"th",66),s.Pb()),2&t){const t=a.$implicit;s.xb(2),s.ic("ngForOf",t)}}function M(t,a){if(1&t&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&t){const t=s.bc().$implicit,a=s.bc().$implicit;s.zb(a.class),s.xb(1),s.Lc(" ",a[t.field],"")}}function I(t,a){if(1&t&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&t){const t=s.bc().$implicit,a=s.bc().$implicit;s.xb(1),s.Lc(" ",a[t.field],"")}}function K(t,a){if(1&t&&(s.Qb(0,"td"),s.Hc(1,M,2,4,"span",72),s.Hc(2,I,2,1,"span",73),s.Pb()),2&t){const t=a.$implicit;s.Fc("width: ",t.width,""),s.xb(1),s.ic("ngIf",1==t.isTag),s.xb(1),s.ic("ngIf",1!=t.isTag)}}function R(t,a){if(1&t){const t=s.Sb();s.Qb(0,"tr"),s.Qb(1,"td",65),s.Qb(2,"button",69),s.Yb("click",function(){s.yc(t);const e=a.$implicit;return s.bc().editIns(e)}),s.Pb(),s.Qb(3,"button",70),s.Yb("click",function(){s.yc(t);const e=a.$implicit;return s.bc().hapusIns(e)}),s.Pb(),s.Pb(),s.Hc(4,K,3,5,"td",71),s.Pb()}if(2&t){const t=a.columns;s.xb(4),s.ic("ngForOf",t)}}function Y(t,a){if(1&t){const t=s.Sb();s.Qb(0,"div",63),s.Qb(1,"button",64),s.Yb("click",function(){return s.yc(t),s.bc().tambahRu()}),s.Pb(),s.Pb()}}function J(t,a){if(1&t&&(s.Qb(0,"th",67),s.Jc(1),s.Lb(2,"p-sortIcon",68),s.Pb()),2&t){const t=a.$implicit;s.Fc("width: ",t.width,""),s.jc("pSortableColumn",t.field),s.xb(1),s.Lc(" ",t.header," "),s.xb(1),s.jc("field",t.field)}}function H(t,a){if(1&t&&(s.Qb(0,"tr"),s.Lb(1,"th",65),s.Hc(2,J,3,6,"th",66),s.Pb()),2&t){const t=a.$implicit;s.xb(2),s.ic("ngForOf",t)}}function L(t,a){if(1&t&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&t){const t=s.bc().$implicit,a=s.bc().$implicit;s.zb(a.class),s.xb(1),s.Lc(" ",a[t.field],"")}}function F(t,a){if(1&t&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&t){const t=s.bc().$implicit,a=s.bc().$implicit;s.xb(1),s.Lc(" ",a[t.field],"")}}function $(t,a){if(1&t&&(s.Qb(0,"td"),s.Hc(1,L,2,4,"span",72),s.Hc(2,F,2,1,"span",73),s.Pb()),2&t){const t=a.$implicit;s.Fc("width: ",t.width,""),s.xb(1),s.ic("ngIf",1==t.isTag),s.xb(1),s.ic("ngIf",1!=t.isTag)}}function A(t,a){if(1&t){const t=s.Sb();s.Qb(0,"tr"),s.Qb(1,"td",65),s.Qb(2,"button",69),s.Yb("click",function(){s.yc(t);const e=a.$implicit;return s.bc().editRu(e)}),s.Pb(),s.Qb(3,"button",70),s.Yb("click",function(){s.yc(t);const e=a.$implicit;return s.bc().hapusRu(e)}),s.Pb(),s.Pb(),s.Hc(4,$,3,5,"td",71),s.Pb()}if(2&t){const t=a.columns;s.xb(4),s.ic("ngForOf",t)}}function U(t,a){if(1&t){const t=s.Sb();s.Qb(0,"div",76),s.Qb(1,"p-checkbox",77),s.Yb("ngModelChange",function(e){s.yc(t);const i=a.$implicit;return s.bc(2).item.layanan[i.id]=e})("onChange",function(){return s.yc(t),s.bc(2).getSelected()}),s.Pb(),s.Qb(2,"label",78),s.Jc(3),s.Pb(),s.Pb()}if(2&t){const t=a.$implicit,e=s.bc(2);s.xb(1),s.jc("inputId",t.id),s.ic("ngModel",e.item.layanan[t.id]),s.xb(1),s.jc("for",t.id),s.xb(1),s.Lc(" ",t.namaruangan,"")}}function B(t,a){if(1&t&&(s.Qb(0,"div",74),s.Hc(1,U,4,4,"div",75),s.cc(2,"filter"),s.Pb()),2&t){const t=s.bc();s.xb(1),s.ic("ngForOf",s.ec(2,1,t.listProdukCek,t.searchText))}}const N=function(){return{width:"100%"}};function O(t,a){if(1&t&&(s.Qb(0,"div",23),s.Lb(1,"p-tag",81),s.Pb()),2&t){const t=a.$implicit;s.xb(1),s.Ec(s.mc(3,N)),s.jc("value",t.namaruangan)}}function z(t,a){if(1&t&&(s.Qb(0,"p-panel",79),s.Qb(1,"div",2),s.Hc(2,O,2,4,"div",80),s.Pb(),s.Pb()),2&t){const t=s.bc();s.lc("header","Detail Ruangan Terpilih : ",t.countSelected," dari : ",t.item.kelas?t.item.kelas.namakelas:"-",""),s.ic("toggleable",!0),s.xb(2),s.ic("ngForOf",t.listChecked)}}function j(t,a){if(1&t){const t=s.Sb();s.Qb(0,"div",63),s.Qb(1,"button",64),s.Yb("click",function(){return s.yc(t),s.bc().tambahKamar()}),s.Pb(),s.Pb()}}function D(t,a){if(1&t&&(s.Qb(0,"th",67),s.Jc(1),s.Lb(2,"p-sortIcon",68),s.Pb()),2&t){const t=a.$implicit;s.Fc("width: ",t.width,""),s.jc("pSortableColumn",t.field),s.xb(1),s.Lc(" ",t.header," "),s.xb(1),s.jc("field",t.field)}}function q(t,a){if(1&t&&(s.Qb(0,"tr"),s.Lb(1,"th",65),s.Hc(2,D,3,6,"th",66),s.Pb()),2&t){const t=a.$implicit;s.xb(2),s.ic("ngForOf",t)}}function E(t,a){if(1&t&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&t){const t=s.bc().$implicit,a=s.bc().$implicit;s.zb(a.class),s.xb(1),s.Lc(" ",a[t.field],"")}}function G(t,a){if(1&t&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&t){const t=s.bc().$implicit,a=s.bc().$implicit;s.xb(1),s.Lc(" ",a[t.field],"")}}function W(t,a){if(1&t&&(s.Qb(0,"td"),s.Hc(1,E,2,4,"span",72),s.Hc(2,G,2,1,"span",73),s.Pb()),2&t){const t=a.$implicit;s.Fc("width: ",t.width,""),s.xb(1),s.ic("ngIf",1==t.isTag),s.xb(1),s.ic("ngIf",1!=t.isTag)}}function _(t,a){if(1&t){const t=s.Sb();s.Qb(0,"tr"),s.Qb(1,"td",65),s.Qb(2,"button",69),s.Yb("click",function(){s.yc(t);const e=a.$implicit;return s.bc().editKamar(e)}),s.Pb(),s.Qb(3,"button",70),s.Yb("click",function(){s.yc(t);const e=a.$implicit;return s.bc().hapusKamar(e)}),s.Pb(),s.Pb(),s.Hc(4,W,3,5,"td",71),s.Pb()}if(2&t){const t=a.columns;s.xb(4),s.ic("ngForOf",t)}}function V(t,a){if(1&t){const t=s.Sb();s.Qb(0,"div",63),s.Qb(1,"button",64),s.Yb("click",function(){return s.yc(t),s.bc().tambahTT()}),s.Pb(),s.Pb()}}function X(t,a){if(1&t&&(s.Qb(0,"th",67),s.Jc(1),s.Lb(2,"p-sortIcon",68),s.Pb()),2&t){const t=a.$implicit;s.Fc("width: ",t.width,""),s.jc("pSortableColumn",t.field),s.xb(1),s.Lc(" ",t.header," "),s.xb(1),s.jc("field",t.field)}}function Z(t,a){if(1&t&&(s.Qb(0,"tr"),s.Lb(1,"th",65),s.Hc(2,X,3,6,"th",66),s.Pb()),2&t){const t=a.$implicit;s.xb(2),s.ic("ngForOf",t)}}function tt(t,a){if(1&t&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&t){const t=s.bc().$implicit,a=s.bc().$implicit;s.zb(a.class),s.xb(1),s.Lc(" ",a[t.field],"")}}function at(t,a){if(1&t&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&t){const t=s.bc().$implicit,a=s.bc().$implicit;s.xb(1),s.Lc(" ",a[t.field],"")}}function et(t,a){if(1&t&&(s.Qb(0,"td"),s.Hc(1,tt,2,4,"span",72),s.Hc(2,at,2,1,"span",73),s.Pb()),2&t){const t=a.$implicit;s.Fc("width: ",t.width,""),s.xb(1),s.ic("ngIf",1==t.isTag),s.xb(1),s.ic("ngIf",1!=t.isTag)}}function it(t,a){if(1&t){const t=s.Sb();s.Qb(0,"tr"),s.Qb(1,"td",65),s.Qb(2,"button",69),s.Yb("click",function(){s.yc(t);const e=a.$implicit;return s.bc().editTT(e)}),s.Pb(),s.Qb(3,"button",70),s.Yb("click",function(){s.yc(t);const e=a.$implicit;return s.bc().hapusTT(e)}),s.Pb(),s.Pb(),s.Hc(4,et,3,5,"td",71),s.Pb()}if(2&t){const t=a.columns;s.xb(4),s.ic("ngForOf",t)}}function nt(t,a){if(1&t){const t=s.Sb();s.Qb(0,"button",82),s.Yb("click",function(){return s.yc(t),s.bc().saveInst()}),s.Pb(),s.Qb(1,"button",83),s.Yb("click",function(){return s.yc(t),s.bc().popUpIns=!1}),s.Pb()}if(2&t){const t=s.bc();s.ic("disabled",t.isSimpan)}}function st(t,a){if(1&t){const t=s.Sb();s.Qb(0,"button",82),s.Yb("click",function(){return s.yc(t),s.bc().saveRu()}),s.Pb(),s.Qb(1,"button",83),s.Yb("click",function(){return s.yc(t),s.bc().popUpRu=!1}),s.Pb()}if(2&t){const t=s.bc();s.ic("disabled",t.isSimpan)}}function lt(t,a){if(1&t){const t=s.Sb();s.Qb(0,"button",82),s.Yb("click",function(){return s.yc(t),s.bc().saveKamar()}),s.Pb(),s.Qb(1,"button",83),s.Yb("click",function(){return s.yc(t),s.bc().popUpKamar=!1}),s.Pb()}if(2&t){const t=s.bc();s.ic("disabled",t.isSimpan)}}function bt(t,a){if(1&t){const t=s.Sb();s.Qb(0,"button",82),s.Yb("click",function(){return s.yc(t),s.bc().saveTT()}),s.Pb(),s.Qb(1,"button",83),s.Yb("click",function(){return s.yc(t),s.bc().popUpTT=!1}),s.Pb()}if(2&t){const t=s.bc();s.ic("disabled",t.isSimpan)}}const ot=function(){return[5,10,25,50]},rt=function(){return["namadepartemen"]},ct=function(){return["namadepartemen","namaruangan"]},dt=function(){return["namaruangan","namakamar","keterangan","namakelas"]},pt=function(){return["nomorbed","namakamar","statusbed"]},ut=function(){return{width:"500px",minWidth:"500px"}},mt=function(){return{width:"900px",minWidth:"900px"}},ht=[{path:"",component:(()=>{class t{constructor(t,a,e,i,n,s,l,b,o){this.apiService=t,this.authService=a,this.messageService=e,this.cacheHelper=i,this.dateHelper=n,this.alertService=s,this.route=l,this.router=b,this.breadcrumbService=o,this.item={layanan:[]},this.columnRu=[],this.dataSourceRu=[],this.columnIns=[],this.dataSourceIns=[],this.indexTab=0,this.popUpIns=!1,this.isSimpan=!1,this.popUpRu=!1,this.listDept=[],this.searchText="",this.ruanganDef=[],this.produkDef=[],this.listProdukCek=[],this.listChecked=[],this.countSelected=0,this.d_Kelas=[],this.dataSourceKamar=[],this.dataSourceTT=[],this.columnKamar=[],this.columnTT=[],this.dataSourceKls=[],this.listRuangan=[],this.listKamar=[],this.breadcrumbService.setItems([{label:"Master",routerLink:["/"]},{label:"Ruangan Pelayanan"}])}ngOnInit(){this.loadColumn(),this.loadIns(),this.loadComboNa()}loadColumn(){this.columnIns=[{field:"no",header:"No",width:"40px"},{field:"namadepartemen",header:"Instalasi",width:"250px"},{field:"status",header:"Status",width:"100px",isTag:!0}],this.columnRu=[{field:"no",header:"No",width:"40px"},{field:"namaruangan",header:"Ruangan",width:"250px"},{field:"namadepartemen",header:"Instalasi",width:"250px"},{field:"kodesiranap",header:"Kode SIRANAP",width:"100px"},{field:"kdinternal",header:"Kode BPJS",width:"100px"},{field:"noruangan",header:"Kode Antrian Poli",width:"100px"},{field:"status",header:"Status",width:"100px",isTag:!0}],this.columnTT=[{field:"no",header:"No",width:"40px"},{field:"namaruangan",header:"Ruangan",width:"250px"},{field:"namakamar",header:"Kamar",width:"250px"},{field:"nomorbed",header:"No Bed",width:"100px"},{field:"statusbed",header:"Status Bed",width:"100px"},{field:"status",header:"Status",width:"100px",isTag:!0}],this.columnKamar=[{field:"no",header:"No",width:"40px"},{field:"namaruangan",header:"Ruangan",width:"250px"},{field:"namakelas",header:"Kelas",width:"150px"},{field:"namakamar",header:"Nama Kamar",width:"250px"},{field:"qtybed",header:"Jumlah Bed",width:"100px"},{field:"keterangan",header:"Keterangan",width:"100px"},{field:"status",header:"Status",width:"100px",isTag:!0}]}editIns(t){this.item.idDept=t.id,this.item.namadepartemen=t.namadepartemen,this.popUpIns=!0}hapusIns(t){this.apiService.post("sysadmin/general/save-master-data",{id:t.id,namadepartemen:t.namadepartemen,aktif:!1,table:"instalasimt"}).subscribe(t=>{this.handleChangeTab({index:this.indexTab})})}editRu(t){this.item.idRu=t.id,this.item.dept={id:t.instalasiidfk,namadepartemen:t.namadepartemen},this.item.kdinternal=t.kdinternal,this.item.kodesiranap=t.kodesiranap,this.item.namaruangan=t.namaruangan,this.item.noruangan=t.noruangan,this.popUpRu=!0}hapusRu(t){this.apiService.post("sysadmin/general/save-master-data",{id:t.id,instalasiidfk:t.instalasiidfk,namaruangan:t.namaruangan,kdinternal:t.kdinternal,kodesiranap:t.kodesiranap,noruangan:t.noruangan,aktif:!1,table:"ruanganmt"}).subscribe(t=>{this.handleChangeTab({index:this.indexTab})},t=>{})}handleChangeTab(t){this.indexTab=t.index,0==t.index?this.loadIns():1==t.index?(this.loadRu(),this.loadComboNa()):2==t.index?this.apiService.get("sysadmin/general/get-map-ruangan-combo2").subscribe(t=>{this.d_Kelas=t.kelas,this.listProdukCek=t.ruangan,this.produkDef=t.ruangan}):3==t.index?this.loadKamar():4==t.index&&this.loadTT()}loadComboNa(){this.apiService.get("sysadmin/general/get-comobo-ruru").subscribe(t=>{this.listKelas=t.kelas,this.listStatusBed=t.statusbed,this.listRuangan=t.ruangan})}setKamar(t){this.listKamar=[],this.listKamar=t.value.kamar}loadRu(){this.loadComboNa(),this.apiService.get("sysadmin/general/get-master-data?table=ruanganmt").subscribe(t=>{for(let a=0;a<t.data.length;a++){const e=t.data[a];e.no=a+1,1==e.aktif?(e.status="Aktif",e.class="p-tag p-tag-success"):(e.status="Non Aktif",e.class="p-tag p-tag-help")}this.dataSourceRu=t.data})}loadIns(){this.apiService.get("sysadmin/general/get-master-data?table=instalasimt").subscribe(t=>{for(let a=0;a<t.data.length;a++){const e=t.data[a];e.no=a+1,1==e.aktif?(e.status="Aktif",e.class="p-tag p-tag-success"):(e.status="Non Aktif",e.class="p-tag p-tag-help")}this.dataSourceIns=t.data,this.listDept=t.data})}tambah(){this.popUpIns=!0,this.clearAll()}saveInst(){var t={id:null!=this.item.idDept?this.item.idDept:"",namadepartemen:this.item.namadepartemen,aktif:!0,table:"instalasimt"};this.isSimpan=!0,this.apiService.post("sysadmin/general/save-master-data",t).subscribe(t=>{this.isSimpan=!1,this.popUpIns=!1,this.handleChangeTab({index:this.indexTab}),this.clearAll()},t=>{this.isSimpan=!1})}tambahRu(){this.popUpRu=!0,this.clearAll()}saveRu(){var t={id:null!=this.item.idRu?this.item.idRu:"",instalasiidfk:this.item.dept.id,namaruangan:this.item.namaruangan,kdinternal:this.item.kdinternal?this.item.kdinternal:null,kodesiranap:this.item.kodesiranap?this.item.kodesiranap:null,noruangan:this.item.noruangan?this.item.noruangan:null,aktif:!0,table:"ruanganmt"};this.isSimpan=!0,this.apiService.post("sysadmin/general/save-master-data",t).subscribe(t=>{this.isSimpan=!1,this.popUpRu=!1,this.handleChangeTab({index:this.indexTab}),this.clearAll()},t=>{this.isSimpan=!1})}clearAll(){this.item={}}isiRuangan2(){null!=this.item.instalasi&&(this.d_Ruangan2=this.item.instalasi.ruangan)}clearFilter(){this.searchText=""}saveMap(){if(null!=this.item.kelas)if(0!=this.item.layanan.length){for(var t=Object.keys(this.item.layanan),a=[],e=t.length-1;e>=0;e--)1==this.item.layanan[t[e]]&&a.push({ruanganidfk:parseInt(t[e])});this.apiService.post("sysadmin/general/save-map-ruangan-kelas",{kelasidfk:this.item.kelas.id,details:a}).subscribe(t=>{})}else this.alertService.warn("Info","Belum ada Ruangan yang dipilih");else this.alertService.warn("Info","Kelas belum dipilih")}changeMap(t){this.item.layanan=[],this.getSelected(),null!=t.value&&this.apiService.get("sysadmin/general/get-map-ruangan-kelas?kelasId="+t.value.id).subscribe(t=>{this.item.layanan=[];for(let a=0;a<t.length;a++)this.item.layanan[t[a].ruanganidfk]=!0;this.getSelected()})}cekAll(){for(let t=0;t<this.listProdukCek.length;t++)this.item.layanan[this.listProdukCek[t].id]=!0;this.getSelected()}clearSelection(){var t=Object.keys(this.item.layanan);for(let a=0;a<t.length;a++)this.item.layanan[t[a]]=!1;this.getSelected()}getSelected(){if(this.item.layanan.length>0){for(var t=Object.keys(this.item.layanan),a=0;a<t.length;a++){const n=t[a];if(1==this.item.layanan[parseInt(n)])for(var e=0;e<this.produkDef.length;e++){const t=this.produkDef[e];if(t.id==n){for(var i=0;i<this.listChecked.length;i++)this.listChecked[i].namaruangan==t.namaruangan&&this.listChecked.splice(i,1);this.listChecked.push({namaruangan:t.namaruangan})}}else for(e=0;e<this.produkDef.length;e++){const t=this.produkDef[e];if(t.id==n)for(i=0;i<this.listChecked.length;i++)this.listChecked[i].namaruangan==t.namaruangan&&this.listChecked.splice(i,1)}}this.countSelected=this.listChecked.length}else this.listChecked=[]}tambahKamar(){this.popUpKamar=!0,this.clearAll()}editKamar(t){this.item.idKamar=t.id;for(let a=0;a<this.listRuangan.length;a++){const e=this.listRuangan[a];if(e.id==t.ruanganidfk){this.item.ruangankm=e;break}}this.item.kelaskm={id:t.kelasidfk,namakelas:t.namakelas},this.item.namakamarkm=t.namakamar,this.item.qtybed=t.qtybed,this.item.keterangan=t.keterangan,this.item.aktif=t.aktif,this.popUpKamar=!0}hapusKamar(t){this.apiService.post("sysadmin/general/save-master-data",{id:t.id,ruanganidfk:t.ruanganidfk,kelasidfk:t.kelasidfk,namakamar:t.namakamar,qtybed:t.qtybed,keterangan:t.keterangan,aktif:!1,table:"kamarmt"}).subscribe(t=>{this.handleChangeTab({index:this.indexTab})},t=>{})}tambahTT(){this.popUpTT=!0,this.clearAll()}editTT(t){this.item.idTT=t.id;for(let a=0;a<this.listRuangan.length;a++){const e=this.listRuangan[a];if(e.id==t.ruanganidfk){this.item.ruangantt=e,this.setKamar({value:{kamar:e.kamar}});break}}for(let a=0;a<this.listKamar.length;a++){const e=this.listKamar[a];if(e.id==t.kamaridfk){this.item.kamartt=e;break}}this.item.statusbed={id:t.statusbedidfk,statusbed:t.statusbed},this.item.nomorbed=t.nomorbed,this.item.aktif=t.aktif,this.popUpTT=!0}hapusTT(t){this.apiService.post("sysadmin/general/save-master-data",{id:t.id,kamaridfk:t.kamaridfk,statusbedidfk:t.statusbedidfk,nomorbed:t.nomorbed,aktif:!1,table:"kamarmt"}).subscribe(t=>{this.handleChangeTab({index:this.indexTab})},t=>{})}loadKamar(){this.dataSourceKamar=[],this.apiService.get("sysadmin/general/get-master-data?table=kamarmt").subscribe(t=>{for(let a=0;a<t.data.length;a++){const e=t.data[a];e.no=a+1,1==e.aktif?(e.status="Aktif",e.class="p-tag p-tag-success"):(e.status="Non Aktif",e.class="p-tag p-tag-help")}this.dataSourceKamar=t.data})}loadTT(){this.dataSourceTT=[],this.apiService.get("sysadmin/general/get-master-data?table=tempattidurmt").subscribe(t=>{for(let a=0;a<t.data.length;a++){const e=t.data[a];e.no=a+1,1==e.aktif?(e.status="Aktif",e.class="p-tag p-tag-success"):(e.status="Non Aktif",e.class="p-tag p-tag-help")}this.dataSourceTT=t.data})}saveKamar(){if(this.item.ruangankm&&this.item.kelaskm&&this.item.namakamarkm){var t={id:null!=this.item.idKamar?this.item.idKamar:"",ruanganidfk:this.item.ruangankm.id,kelasidfk:this.item.kelaskm.id,namakamar:this.item.namakamarkm,qtybed:this.item.qtybed?this.item.qtybed:null,keterangan:this.item.keterangan?this.item.keterangan:null,aktif:!!this.item.aktif,table:"kamarmt"};this.isSimpan=!0,this.apiService.post("sysadmin/general/save-master-data",t).subscribe(t=>{this.isSimpan=!1,this.popUpKamar=!1,this.handleChangeTab({index:this.indexTab}),this.clearAll()},t=>{this.isSimpan=!1})}}saveTT(){if(this.item.kamartt&&this.item.statusbed&&this.item.nomorbed){var t={id:null!=this.item.idTT?this.item.idTT:"",kamaridfk:this.item.kamartt.id,statusbedidfk:this.item.statusbed.id,nomorbed:this.item.nomorbed,aktif:!!this.item.aktif,table:"tempattidurmt"};this.isSimpan=!0,this.apiService.post("sysadmin/general/save-master-data",t).subscribe(t=>{this.isSimpan=!1,this.popUpTT=!1,this.handleChangeTab({index:this.indexTab}),this.clearAll()},t=>{this.isSimpan=!1})}}}return t.\u0275fac=function(a){return new(a||t)(s.Jb(l.a),s.Jb(l.b),s.Jb(b.h),s.Jb(o.a),s.Jb(r.a),s.Jb(c.a),s.Jb(n.a),s.Jb(n.f),s.Jb(d.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-master-ruangan"]],decls:174,vars:123,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-12"],[3,"onChange"],["header","Instalasi ","leftIcon","pi pi-cog"],[1,"p-col-12","p-md-4"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Pencarian ",3,"input"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Ruangan","leftIcon","pi pi-sitemap"],["dt2",""],["header","Map Ruangan To Kelas","leftIcon","fa fa-list"],[1,"p-col-12","p-md-3"],["for","input",1,"label"],["placeholder","Kelas","optionLabel","namakelas",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["header","List Ruangan",3,"toggleable"],[1,"p-col-12","p-md-2"],["pInputText","","type","text","placeholder","Filter",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-1"],["pButton","","type","button","icon","pi pi-times","pTooltip","Clear Filter",1,"p-button","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-check","label","Cek Semua",1,"p-button-success","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-refresh","label","Hapus Terpilih",1,"p-button-warning","p-mr-2",3,"click"],["class","p-grid","style","overflow: auto; height: 350px;padding: 20px;",4,"ngIf"],[1,"p-grid",2,"margin-top","10px"],[1,"p-col-12","p-md-1","p-md-offset-11"],["pButton","","type","button","icon","pi pi-save","label","Simpan",1,"p-button","p-mr-2",3,"click"],[3,"header","toggleable",4,"ngIf"],["header","Kamar","leftIcon","fa fa-home"],["dt4",""],["header","Tempat Tidur","leftIcon","fa fa-bed"],["dt5",""],["header","Tambah Instalasi ",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-fluid","p-grid"],["header","Detail ",3,"toggleable"],["type","text","pInputText","","placeholder","Nama Instalasi ",3,"ngModel","ngModelChange"],["pTemplate","footer"],["header","Tambah Ruangan ",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-col-12","p-md-6"],["placeholder","Instalasi","optionLabel","namadepartemen","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Ruangan",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Kode BPJS",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Kode SIRANAP",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Kode Antrian Poli",3,"ngModel","ngModelChange"],["header","Tambah Kamar ",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],["placeholder","Ruangan","optionLabel","namaruangan","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Kelas","optionLabel","namakelas","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Nama Kamar",3,"ngModel","ngModelChange"],["type","number","pInputText","","placeholder","Jumlah Bed",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Keterangan",3,"ngModel","ngModelChange"],["binary","true","inputId","item.aktif",3,"ngModel","ngModelChange"],["for","item.aktif"],["header","Tambah Tempat Tidur ",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],["placeholder","Ruangan","optionLabel","namaruangan","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["placeholder","Kamar","optionLabel","namakamar","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Status Bed","optionLabel","statusbed","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Nomor Bed ",3,"ngModel","ngModelChange"],[1,"p-d-flex"],["type","button","pButton","","pRipple","","icon","pi pi-plus","pTooltip","Tambah ","tooltipPosition","bottom",1,"p-button-success","p-mr-2",3,"click"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit ","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Nonaktifkan","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],[3,"class",4,"ngIf"],[4,"ngIf"],[1,"p-grid",2,"overflow","auto","height","350px","padding","20px"],["class","p-col-12 p-md-2 p-field-checkbox",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-2","p-field-checkbox"],["binary","true","name","group1",3,"ngModel","inputId","ngModelChange","onChange"],[3,"for"],[3,"header","toggleable"],["class","p-col-12 p-md-2",4,"ngFor","ngForOf"],["styleClass","p-mr-2","severity","warning",3,"value"],["pButton","","icon","pi pi-save","label","Simpan",1,"p-button","p-button-success","p-mr-2",3,"disabled","click"],["pButton","","icon","fa fa-refresh","label","Batal",1,"p-button","p-mr-2",3,"click"]],template:function(t,a){if(1&t){const t=s.Sb();s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"h4"),s.Jc(3,"Master Ruangan "),s.Pb(),s.Qb(4,"div",2),s.Qb(5,"div",3),s.Qb(6,"p-tabView",4),s.Yb("onChange",function(t){return a.handleChangeTab(t)}),s.Qb(7,"p-tabPanel",5),s.Qb(8,"div",2),s.Qb(9,"div",6),s.Qb(10,"span",7),s.Lb(11,"i",8),s.Qb(12,"input",9),s.Yb("input",function(a){return s.yc(t),s.wc(15).filterGlobal(a.target.value,"contains")}),s.Pb(),s.Pb(),s.Pb(),s.Qb(13,"div",10),s.Qb(14,"p-table",11,12),s.Hc(16,y,2,0,"ng-template",13),s.Hc(17,S,3,1,"ng-template",14),s.Hc(18,R,5,1,"ng-template",15),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(19,"p-tabPanel",16),s.Qb(20,"div",2),s.Qb(21,"div",6),s.Qb(22,"span",7),s.Lb(23,"i",8),s.Qb(24,"input",9),s.Yb("input",function(a){return s.yc(t),s.wc(27).filterGlobal(a.target.value,"contains")}),s.Pb(),s.Pb(),s.Pb(),s.Qb(25,"div",10),s.Qb(26,"p-table",11,17),s.Hc(28,Y,2,0,"ng-template",13),s.Hc(29,H,3,1,"ng-template",14),s.Hc(30,A,5,1,"ng-template",15),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(31,"p-tabPanel",18),s.Qb(32,"div",2),s.Qb(33,"div",3),s.Qb(34,"div",2),s.Qb(35,"div",19),s.Qb(36,"label",20),s.Jc(37,"Kelas"),s.Pb(),s.Qb(38,"p-dropdown",21),s.Yb("ngModelChange",function(t){return a.item.kelas=t})("onChange",function(t){return a.changeMap(t)}),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(39,"div",3),s.Qb(40,"p-panel",22),s.Qb(41,"div",2),s.Qb(42,"div",23),s.Qb(43,"span",7),s.Lb(44,"i",8),s.Qb(45,"input",24),s.Yb("ngModelChange",function(t){return a.searchText=t}),s.Pb(),s.Pb(),s.Pb(),s.Qb(46,"div",25),s.Qb(47,"button",26),s.Yb("click",function(){return a.clearFilter()}),s.Pb(),s.Pb(),s.Qb(48,"div",23),s.Qb(49,"button",27),s.Yb("click",function(){return a.cekAll()}),s.Pb(),s.Pb(),s.Qb(50,"div",23),s.Qb(51,"button",28),s.Yb("click",function(){return a.clearSelection()}),s.Pb(),s.Pb(),s.Hc(52,B,3,4,"div",29),s.Pb(),s.Qb(53,"div",30),s.Qb(54,"div",31),s.Qb(55,"button",32),s.Yb("click",function(){return a.saveMap()}),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(56,"div",3),s.Hc(57,z,3,4,"p-panel",33),s.Pb(),s.Pb(),s.Pb(),s.Qb(58,"p-tabPanel",34),s.Qb(59,"div",2),s.Qb(60,"div",6),s.Qb(61,"span",7),s.Lb(62,"i",8),s.Qb(63,"input",9),s.Yb("input",function(a){return s.yc(t),s.wc(66).filterGlobal(a.target.value,"contains")}),s.Pb(),s.Pb(),s.Pb(),s.Qb(64,"div",10),s.Qb(65,"p-table",11,35),s.Hc(67,j,2,0,"ng-template",13),s.Hc(68,q,3,1,"ng-template",14),s.Hc(69,_,5,1,"ng-template",15),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(70,"p-tabPanel",36),s.Qb(71,"div",2),s.Qb(72,"div",6),s.Qb(73,"span",7),s.Lb(74,"i",8),s.Qb(75,"input",9),s.Yb("input",function(a){return s.yc(t),s.wc(78).filterGlobal(a.target.value,"contains")}),s.Pb(),s.Pb(),s.Pb(),s.Qb(76,"div",10),s.Qb(77,"p-table",11,37),s.Hc(79,V,2,0,"ng-template",13),s.Hc(80,Z,3,1,"ng-template",14),s.Hc(81,it,5,1,"ng-template",15),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(82,"p-dialog",38),s.Yb("visibleChange",function(t){return a.popUpIns=t}),s.Qb(83,"div",39),s.Qb(84,"div",3),s.Qb(85,"p-panel",40),s.Qb(86,"div",2),s.Qb(87,"div",3),s.Qb(88,"label",20),s.Jc(89,"Nama Instalasi "),s.Pb(),s.Qb(90,"input",41),s.Yb("ngModelChange",function(t){return a.item.namadepartemen=t}),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Hc(91,nt,2,1,"ng-template",42),s.Pb(),s.Qb(92,"p-dialog",43),s.Yb("visibleChange",function(t){return a.popUpRu=t}),s.Qb(93,"div",39),s.Qb(94,"div",3),s.Qb(95,"p-panel",40),s.Qb(96,"div",2),s.Qb(97,"div",44),s.Qb(98,"label",20),s.Jc(99," Instalasi "),s.Pb(),s.Qb(100,"p-dropdown",45),s.Yb("ngModelChange",function(t){return a.item.dept=t}),s.Pb(),s.Pb(),s.Qb(101,"div",44),s.Qb(102,"label",20),s.Jc(103,"Ruangan "),s.Pb(),s.Qb(104,"input",46),s.Yb("ngModelChange",function(t){return a.item.namaruangan=t}),s.Pb(),s.Pb(),s.Qb(105,"div",44),s.Qb(106,"label",20),s.Jc(107,"Kode BPJS "),s.Pb(),s.Qb(108,"input",47),s.Yb("ngModelChange",function(t){return a.item.kdinternal=t}),s.Pb(),s.Pb(),s.Qb(109,"div",44),s.Qb(110,"label",20),s.Jc(111,"Kode SIRANAP "),s.Pb(),s.Qb(112,"input",48),s.Yb("ngModelChange",function(t){return a.item.kodesiranap=t}),s.Pb(),s.Pb(),s.Qb(113,"div",44),s.Qb(114,"label",20),s.Jc(115,"Kode Antrian Poli "),s.Pb(),s.Qb(116,"input",49),s.Yb("ngModelChange",function(t){return a.item.noruangan=t}),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Hc(117,st,2,1,"ng-template",42),s.Pb(),s.Qb(118,"p-dialog",50),s.Yb("visibleChange",function(t){return a.popUpKamar=t}),s.Qb(119,"div",39),s.Qb(120,"div",3),s.Qb(121,"p-panel",40),s.Qb(122,"div",2),s.Qb(123,"div",44),s.Qb(124,"label",20),s.Jc(125," Ruangan"),s.Pb(),s.Qb(126,"p-dropdown",51),s.Yb("ngModelChange",function(t){return a.item.ruangankm=t}),s.Pb(),s.Pb(),s.Qb(127,"div",44),s.Qb(128,"label",20),s.Jc(129,"Kelas "),s.Pb(),s.Qb(130,"p-dropdown",52),s.Yb("ngModelChange",function(t){return a.item.kelaskm=t}),s.Pb(),s.Pb(),s.Qb(131,"div",44),s.Qb(132,"label",20),s.Jc(133,"Nama Kamar "),s.Pb(),s.Qb(134,"input",53),s.Yb("ngModelChange",function(t){return a.item.namakamarkm=t}),s.Pb(),s.Pb(),s.Qb(135,"div",44),s.Qb(136,"label",20),s.Jc(137,"Jumlah Bed "),s.Pb(),s.Qb(138,"input",54),s.Yb("ngModelChange",function(t){return a.item.qtybed=t}),s.Pb(),s.Pb(),s.Qb(139,"div",44),s.Qb(140,"label",20),s.Jc(141,"Keterangan "),s.Pb(),s.Qb(142,"input",55),s.Yb("ngModelChange",function(t){return a.item.keterangan=t}),s.Pb(),s.Pb(),s.Qb(143,"div",19),s.Qb(144,"p-checkbox",56),s.Yb("ngModelChange",function(t){return a.item.aktif=t}),s.Pb(),s.Qb(145,"label",57),s.Jc(146," Aktif"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Hc(147,lt,2,1,"ng-template",42),s.Pb(),s.Qb(148,"p-dialog",58),s.Yb("visibleChange",function(t){return a.popUpTT=t}),s.Qb(149,"div",39),s.Qb(150,"div",3),s.Qb(151,"p-panel",40),s.Qb(152,"div",2),s.Qb(153,"div",44),s.Qb(154,"label",20),s.Jc(155," Ruangan"),s.Pb(),s.Qb(156,"p-dropdown",59),s.Yb("ngModelChange",function(t){return a.item.ruangantt=t})("onChange",function(t){return a.setKamar(t)}),s.Pb(),s.Pb(),s.Qb(157,"div",44),s.Qb(158,"label",20),s.Jc(159," Kamar"),s.Pb(),s.Qb(160,"p-dropdown",60),s.Yb("ngModelChange",function(t){return a.item.kamartt=t}),s.Pb(),s.Pb(),s.Qb(161,"div",44),s.Qb(162,"label",20),s.Jc(163,"Status Bed "),s.Pb(),s.Qb(164,"p-dropdown",61),s.Yb("ngModelChange",function(t){return a.item.statusbed=t}),s.Pb(),s.Pb(),s.Qb(165,"div",44),s.Qb(166,"label",20),s.Jc(167,"Nomor Bed "),s.Pb(),s.Qb(168,"input",62),s.Yb("ngModelChange",function(t){return a.item.nomorbed=t}),s.Pb(),s.Pb(),s.Qb(169,"div",19),s.Qb(170,"p-checkbox",56),s.Yb("ngModelChange",function(t){return a.item.aktif=t}),s.Pb(),s.Qb(171,"label",57),s.Jc(172," Aktif"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Hc(173,bt,2,1,"ng-template",42),s.Pb()}2&t&&(s.xb(14),s.ic("columns",a.columnIns)("value",a.dataSourceIns)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",s.mc(111,ot))("paginator",!0)("pageLinks",5)("globalFilterFields",s.mc(112,rt)),s.xb(12),s.ic("columns",a.columnRu)("value",a.dataSourceRu)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",s.mc(113,ot))("paginator",!0)("pageLinks",5)("globalFilterFields",s.mc(114,ct)),s.xb(12),s.ic("options",a.d_Kelas)("ngModel",a.item.kelas)("filter",!0)("showClear",!0),s.xb(2),s.ic("toggleable",!0),s.xb(5),s.ic("ngModel",a.searchText),s.xb(7),s.ic("ngIf",0!=a.listProdukCek.length),s.xb(5),s.ic("ngIf",a.listChecked.length>0),s.xb(8),s.ic("columns",a.columnKamar)("value",a.dataSourceKamar)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",s.mc(115,ot))("paginator",!0)("pageLinks",5)("globalFilterFields",s.mc(116,dt)),s.xb(12),s.ic("columns",a.columnTT)("value",a.dataSourceTT)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",s.mc(117,ot))("paginator",!0)("pageLinks",5)("globalFilterFields",s.mc(118,pt)),s.xb(5),s.Ec(s.mc(119,ut)),s.ic("visible",a.popUpIns)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),s.xb(3),s.ic("toggleable",!0),s.xb(5),s.ic("ngModel",a.item.namadepartemen),s.xb(2),s.Ec(s.mc(120,mt)),s.ic("visible",a.popUpRu)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),s.xb(3),s.ic("toggleable",!0),s.xb(5),s.ic("options",a.listDept)("ngModel",a.item.dept)("filter",!0)("showClear",!0),s.xb(4),s.ic("ngModel",a.item.namaruangan),s.xb(4),s.ic("ngModel",a.item.kdinternal),s.xb(4),s.ic("ngModel",a.item.kodesiranap),s.xb(4),s.ic("ngModel",a.item.noruangan),s.xb(2),s.Ec(s.mc(121,mt)),s.ic("visible",a.popUpKamar)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),s.xb(3),s.ic("toggleable",!0),s.xb(5),s.ic("options",a.listRuangan)("ngModel",a.item.ruangankm)("filter",!0)("showClear",!0),s.xb(4),s.ic("options",a.listKelas)("ngModel",a.item.kelaskm)("filter",!0)("showClear",!0),s.xb(4),s.ic("ngModel",a.item.namakamarkm),s.xb(4),s.ic("ngModel",a.item.qtybed),s.xb(4),s.ic("ngModel",a.item.keterangan),s.xb(2),s.ic("ngModel",a.item.aktif),s.xb(4),s.Ec(s.mc(122,mt)),s.ic("visible",a.popUpTT)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),s.xb(3),s.ic("toggleable",!0),s.xb(5),s.ic("options",a.listRuangan)("ngModel",a.item.ruangantt)("filter",!0)("showClear",!0),s.xb(4),s.ic("options",a.listKamar)("ngModel",a.item.kamartt)("filter",!0)("showClear",!0),s.xb(4),s.ic("options",a.listStatusBed)("ngModel",a.item.statusbed)("filter",!0)("showClear",!0),s.xb(4),s.ic("ngModel",a.item.nomorbed),s.xb(2),s.ic("ngModel",a.item.aktif))},directives:[p.b,p.a,u.a,m.h,b.k,h.a,g.g,g.h,f.a,g.a,k.b,P.a,i.l,Q.a,g.i,x.a,v.a,i.k,m.g,m.f,T.a],pipes:[C.a],styles:[""]}),t})()}];let gt=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(a){return new(a||t)},imports:[[n.j.forChild(ht)],n.j]}),t})();var ft=e("PCNd");let kt=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(a){return new(a||t)},imports:[[i.b,gt,ft.a]]}),t})()}}]);