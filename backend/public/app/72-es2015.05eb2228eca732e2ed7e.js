(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{syEH:function(e,t,i){"use strict";i.r(t),i.d(t,"DaftarKartuStokModule",function(){return H});var a=i("ofXK"),o=i("tyNb"),n=i("7zfz"),r=i("1zoS"),l=i("wd/R"),d=i("fXoL"),s=i("EJUL"),c=i("U+s4"),b=i("G0w9"),p=i("ujBT"),u=i("Nf9I"),h=i("arFO"),g=i("3Pt+"),m=i("V5BG"),f=i("eO1q"),w=i("7kUa"),k=i("jIHw"),P=i("xlun"),v=i("rEr+");function Q(e,t){if(1&e&&(d.Qb(0,"th",21),d.Jc(1),d.Lb(2,"p-sortIcon",22),d.Pb()),2&e){const e=t.$implicit;d.Fc("width: ",e.width,""),d.jc("pSortableColumn",e.field),d.xb(1),d.Lc(" ",e.header," "),d.xb(1),d.jc("field",e.field)}}function x(e,t){if(1&e&&(d.Qb(0,"tr"),d.Hc(1,Q,3,6,"th",20),d.Pb()),2&e){const e=t.$implicit;d.xb(1),d.ic("ngForOf",e)}}function M(e,t){if(1&e&&(d.Qb(0,"span"),d.Jc(1),d.Pb()),2&e){const e=d.bc().$implicit,t=d.bc().$implicit,i=d.bc();d.xb(1),d.Lc(" ",i.formatRupiah(t[e.field],"")," ")}}function y(e,t){if(1&e&&(d.Qb(0,"span"),d.Jc(1),d.Pb()),2&e){const e=d.bc().$implicit,t=d.bc().$implicit;d.xb(1),d.Lc(" ",t[e.field],"")}}function C(e,t){if(1&e&&(d.Qb(0,"td"),d.Hc(1,M,2,1,"span",25),d.Hc(2,y,2,1,"span",25),d.Pb()),2&e){const e=t.$implicit;d.Fc("width: ",e.width,""),d.xb(1),d.ic("ngIf",null!=e.isCurrency),d.xb(1),d.ic("ngIf",null==e.isCurrency)}}function R(e,t){if(1&e&&(d.Qb(0,"tr",23),d.Hc(1,C,3,5,"td",24),d.Pb()),2&e){const e=t.columns,i=t.rowIndex;d.ic("pSelectableRow",t.$implicit)("pSelectableRowIndex",i),d.xb(1),d.ic("ngForOf",e)}}const Y=function(){return[5,10,25,50]},J=[{path:"",component:(()=>{class e{constructor(e,t,i,a,o,n,l,d){this.apiService=e,this.authService=t,this.confirmationService=i,this.messageService=a,this.cacheHelper=o,this.dateHelper=n,this.alertService=l,this.route=d,this.item={},this.page=r.b.get().page,this.rows=r.b.get().rows}ngOnInit(){this.dataLogin=this.authService.getDataLoginUser(),this.kelUser=this.dataLogin.kelompokUser.kelompokUser,this.KelUserid=this.dataLogin.kelompokUser.id,this.dateNow=new Date,this.item.tglAwal=l(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=l(this.dateNow).format("YYYY-MM-DD 23:59"),this.item.jmlRows=50,this.column=[{field:"no",header:"No",width:"65px"},{field:"tglkejadian",header:"Tgl Transaksi",width:"140px"},{field:"produkidfk",header:"ID",width:"80px"},{field:"namaproduk",header:"Produk",width:"280px"},{field:"namaruangan",header:"Ruangan",width:"180px"},{field:"keterangan",header:"Keterangan",width:"300px"},{field:"saldoawal",header:"Qty Awal",width:"140px"},{field:"qtyin",header:"Qty Masuk",width:"140px"},{field:"qtyout",header:"Qty Keluar",width:"140px"},{field:"saldoakhir",header:"Qty Akhir",width:"140px"},{field:"transaksi",header:"Transaksi",width:"140px"}],this.loadDataCombo()}loadDataCombo(){this.apiService.get("logistik/get-combo-logistik").subscribe(e=>{this.listRuangan=null!=this.dataLogin.mapLoginUserToRuangan?this.dataLogin.mapLoginUserToRuangan:e.ruangfarmasi,this.item.dataRuangan=this.listRuangan[0]})}filterProduk(e){this.apiService.get("general/get-combo-produk-part?namaproduk="+e.query+"&KelUserid="+this.KelUserid).subscribe(e=>{this.listProduk=e})}loadData(){var e=l(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),t=l(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),i="";void 0!==this.item.dataRuangan&&(i="&ruanganfk="+this.item.dataRuangan.id);var a="";void 0!==this.item.produk&&(a="&produkfk="+this.item.produk.id),this.apiService.get("general/get-data-kartu-stok?tglAwal="+e+"&tglAkhir="+t+i+a).subscribe(e=>{for(let t=0;t<e.length;t++)e[t].no=t+1;this.dataTable=e})}cari(){this.loadData()}onRowSelect(e){null!=e.data&&(this.selected=e.data)}}return e.\u0275fac=function(t){return new(t||e)(d.Jb(s.a),d.Jb(s.b),d.Jb(n.a),d.Jb(n.h),d.Jb(c.a),d.Jb(b.a),d.Jb(p.a),d.Jb(o.a))},e.\u0275cmp=d.Db({type:e,selectors:[["app-daftar-kartu-stok"]],features:[d.wb([n.a])],decls:37,vars:28,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["placeholder","Ruangan","optionLabel","namaruangan",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-4"],["field","namaproduk","placeholder","Pilih Produk",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],[1,"p-col","p-md-1"],["type","text","pInputText","","placeholder","Jml Rows",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1"],[1,"p-col-12","p-md-12",2,"margin-top","10px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,t){1&e&&(d.Lb(0,"p-confirmDialog",0),d.Qb(1,"div",1),d.Qb(2,"div",2),d.Qb(3,"h4"),d.Jc(4,"Kartu Stok"),d.Pb(),d.Qb(5,"div",3),d.Qb(6,"div",4),d.Qb(7,"div",3),d.Qb(8,"div",4),d.Qb(9,"div",5),d.Qb(10,"label",6),d.Jc(11,"Ruangan"),d.Pb(),d.Qb(12,"p-dropdown",7),d.Yb("ngModelChange",function(e){return t.item.dataRuangan=e}),d.Pb(),d.Pb(),d.Qb(13,"div",8),d.Qb(14,"label",6),d.Jc(15,"Produk "),d.Pb(),d.Qb(16,"p-autoComplete",9),d.Yb("ngModelChange",function(e){return t.item.produk=e})("completeMethod",function(e){return t.filterProduk(e)}),d.Pb(),d.Pb(),d.Qb(17,"div",5),d.Qb(18,"label",6),d.Jc(19,"Periode Awal"),d.Pb(),d.Qb(20,"p-calendar",10),d.Yb("ngModelChange",function(e){return t.item.tglAwal=e}),d.Pb(),d.Pb(),d.Qb(21,"div",5),d.Qb(22,"label",6),d.Jc(23,"Periode Akhir"),d.Pb(),d.Qb(24,"p-calendar",10),d.Yb("ngModelChange",function(e){return t.item.tglAkhir=e}),d.Pb(),d.Pb(),d.Qb(25,"div",11),d.Qb(26,"label",6),d.Jc(27,"Jml Rows"),d.Pb(),d.Qb(28,"input",12),d.Yb("ngModelChange",function(e){return t.item.jmlRows=e})("keyup.enter",function(){return t.cari()}),d.Pb(),d.Pb(),d.Qb(29,"div",13),d.Qb(30,"div",14),d.Qb(31,"button",15),d.Yb("click",function(){return t.cari()}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(32,"div",3),d.Qb(33,"p-table",16,17),d.Yb("selectionChange",function(e){return t.selected=e}),d.Hc(35,x,2,1,"ng-template",18),d.Hc(36,R,2,3,"ng-template",19),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&e&&(d.xb(12),d.ic("options",t.listRuangan)("ngModel",t.item.dataRuangan)("filter",!0)("showClear",!0),d.xb(4),d.ic("ngModel",t.item.produk)("suggestions",t.listProduk)("dropdown",!0),d.xb(4),d.ic("ngModel",t.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),d.xb(4),d.ic("ngModel",t.item.tglAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),d.xb(4),d.ic("ngModel",t.item.jmlRows),d.xb(5),d.ic("columns",t.column)("value",t.dataTable)("selection",t.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",d.mc(27,Y))("paginator",!0)("pageLinks",5))},directives:[u.a,h.a,g.g,g.h,m.a,f.a,g.a,w.a,k.b,P.a,v.h,n.k,a.k,v.g,v.f,v.e,a.l],styles:[""]}),e})()}];let S=(()=>{class e{}return e.\u0275mod=d.Hb({type:e}),e.\u0275inj=d.Gb({factory:function(t){return new(t||e)},imports:[[o.j.forChild(J)],o.j]}),e})();var D=i("PCNd");let H=(()=>{class e{}return e.\u0275mod=d.Hb({type:e}),e.\u0275inj=d.Gb({factory:function(t){return new(t||e)},imports:[[a.b,S,D.a]]}),e})()}}]);