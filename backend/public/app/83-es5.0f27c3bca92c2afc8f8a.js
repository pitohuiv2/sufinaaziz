!function(){function e(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function a(e,a){for(var t=0;t<a.length;t++){var i=a[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{ZTb9:function(t,i,n){"use strict";n.r(i),n.d(i,"DaftarPasienPenunjangModule",function(){return G});var o=n("ofXK"),l=n("tyNb"),r=n("7zfz"),s=n("wd/R"),d=n("fXoL"),u=n("EJUL"),c=n("U+s4"),p=n("G0w9"),b=n("ujBT"),h=n("eO1q"),g=n("3Pt+"),m=n("7kUa"),f=n("jIHw"),v=n("xlun"),P=n("rEr+"),w=n("/RsI"),k=n("arFO");function D(e,a){if(1&e&&(d.Qb(0,"th",34),d.Jc(1),d.Lb(2,"p-sortIcon",35),d.Pb()),2&e){var t=a.$implicit;d.Fc("width: ",t.width,""),d.jc("pSortableColumn",t.field),d.xb(1),d.Lc(" ",t.header," "),d.xb(1),d.jc("field",t.field)}}function M(e,a){if(1&e&&(d.Qb(0,"tr"),d.Qb(1,"th",32),d.Jc(2,"Aksi"),d.Pb(),d.Hc(3,D,3,6,"th",33),d.Pb()),2&e){var t=a.$implicit;d.xb(3),d.ic("ngForOf",t)}}function y(e,a){if(1&e&&(d.Qb(0,"td"),d.Jc(1),d.Pb()),2&e){var t=a.$implicit,i=d.bc().$implicit;d.Fc("width: ",t.width,""),d.xb(1),d.Lc(" ",i[t.field]," ")}}function Q(e,a){if(1&e){var t=d.Sb();d.Qb(0,"tr",36),d.Qb(1,"td",32),d.Qb(2,"button",37),d.Yb("click",function(){d.yc(t);var e=a.$implicit;return d.bc().RincianPenunjang2(e)}),d.Pb(),d.Qb(3,"button",38),d.Yb("click",function(){d.yc(t);var e=a.$implicit;return d.bc().pengkajianMedis2(e)}),d.Pb(),d.Qb(4,"button",39),d.Yb("click",function(){d.yc(t);var e=a.$implicit;return d.bc().ubahGolDarah2(e)}),d.Pb(),d.Pb(),d.Hc(5,y,2,4,"td",40),d.Pb()}if(2&e){var i=a.columns,n=a.rowIndex;d.ic("pSelectableRow",a.$implicit)("pSelectableRowIndex",n),d.xb(5),d.ic("ngForOf",i)}}function x(e,a){if(1&e){var t=d.Sb();d.Qb(0,"p-button",41),d.Yb("click",function(){return d.yc(t),d.bc().cariFilter()}),d.Pb(),d.Qb(1,"p-button",42),d.Yb("click",function(){return d.yc(t),d.bc().clearFilter()}),d.Pb()}}var Y,C,R,j=function(){return[5,10,25,50]},T=function(){return{width:"400px",minWidth:"400px"}},S=function(){return{width:"50vw"}},N=[{path:"",component:(Y=function(){function t(a,i,n,o,l,r,s,d,u){e(this,t),this.apiService=a,this.authService=i,this.confirmationService=n,this.messageService=o,this.cacheHelper=l,this.dateHelper=r,this.alertService=s,this.route=d,this.router=u,this.listLayanan=[],this.item={pasien:{}}}var i,n,o;return i=t,(n=[{key:"ngOnInit",value:function(){this.dataLogin=this.authService.dataLoginUser,this.kelUser=this.dataLogin.kelompokUser.kelompokUser,this.dateNow=new Date,this.item.tglAwal=s(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=s(this.dateNow).format("YYYY-MM-DD 23:59"),this.item.jmlRows=50,this.column=[{field:"no",header:"No",width:"65px"},{field:"expertise",header:"Exp",width:"85px"},{field:"tglmasuk",header:"Tgl Masuk",width:"140px"},{field:"tglregistrasi",header:"Tgl Registrasi",width:"140px"},{field:"tglpulang",header:"Tgl Pulang",width:"140px"},{field:"noregistrasi",header:"Noregistrasi",width:"125px"},{field:"norm",header:"No RM",width:"100px"},{field:"namapasien",header:"Nama Pasien",width:"200px"},{field:"jeniskelamin",header:"Jenis Kelamin",width:"140px"},{field:"golongandarah",header:"Gol Darah",width:"120px"},{field:"umur",header:"Umur",width:"120px"},{field:"kelompokpasien",header:"Tipe Pasien",width:"140px"},{field:"namakelas",header:"Kelas",width:"120px"},{field:"pegawaiorder",header:"Petugas",width:"180px"},{field:"alamatlengkap",header:"Alamat",width:"200px"}],this.getDataCombo()}},{key:"getDataCombo",value:function(){var e=this;this.apiService.get("penunjang/get-data-combo-penunjang").subscribe(function(a){var t=a;e.listDepartemen=t.departemen,e.listKelompokPasien=t.kelompokpasien,e.listGolonganDarah=t.goldarah}),this.apiService.get("penunjang/get-data-ruang-tujuan?keluseridfk="+this.dataLogin.kelompokUser.id).subscribe(function(a){e.listRuanganTujuan=a.ruangan,e.LoadCache()})}},{key:"LoadCache",value:function(){this.item.jmlRows=50;var e=this.cacheHelper.get("daftarPasienPenunjangCache");null!=e?(null!=e[2]&&(this.listKelompokPasien=[e[2]],this.item.dataKelPasien=e[2]),null!=e[5]&&(this.listDepartemen=[e[5]],this.item.dataDepartemen=e[5]),null!=e[4]&&(this.listRuangan=[e[4]],this.item.dataRuangan=e[4]),null!=e[3]&&(this.listRuanganTujuan=[e[3]],this.item.dataRuanganTujuan=e[3]),this.getData()):this.getData()}},{key:"cari",value:function(){this.getData()}},{key:"getData",value:function(){var e=this,a="",t=void 0;null!=this.item.dataDepartemen&&(a="&deptId="+this.item.dataDepartemen.id,t={id:this.item.dataDepartemen.id,departemen:this.item.dataDepartemen.departemen});var i="",n=void 0;null!=this.item.dataRuangan&&(i="&ruangId="+this.item.dataRuangan.id,n={id:this.item.dataRuangan.id,ruangan:this.item.dataRuangan.ruangan});var o="",l=void 0;null!=this.item.dataKelPasien&&(o="&kelId="+this.item.dataKelPasien.id,l={id:this.item.dataKelPasien.id,kelompokpasien:this.item.dataKelPasien.kelompokpasien});var r="",d=void 0;null!=this.item.dataRuanganTujuan&&(r="&ruangTujuan="+this.item.dataRuanganTujuan.id,d={id:this.item.dataRuanganTujuan.id,namaruangan:this.item.dataRuanganTujuan.namaruangan});var u="";null!=this.item.Noregistrasi&&(u="&noregistrasi="+this.item.Noregistrasi);var c="";null!=this.item.noRM&&(c="&nocm="+this.item.noRM);var p="";null!=this.item.namaPasien&&(p="&namapasien="+this.item.namaPasien);var b="";null!=this.item.jmlRows&&(b="&jmlRow="+this.item.jmlRow);var h=s(this.item.tglAwal).format("YYYY-MM-DD HH:mm:ss"),g=s(this.item.tglAkhir).format("YYYY-MM-DD HH:mm:ss"),m="&KelUserid="+this.dataLogin.kelompokUser.id,f="&KelUser="+this.dataLogin.kelompokUser.kelompokUser;this.cacheHelper.set("daftarPasienPenunjangCache",{0:h,1:g,2:l,3:d,4:n,5:t}),this.apiService.get("penunjang/get-daftar-pasien-penunjang?tglAwal="+h+"&tglAkhir="+g+u+c+p+a+i+r+o+m+f+b).subscribe(function(a){for(var t=a.data,i=0;i<t.length;i++){var n=t[i];n.no=i+1;var o=s(new Date(n.tglregistrasi)).format("YYYY-MM-DD"),l=s(new Date(n.tgllahir)).format("YYYY-MM-DD"),r=e.dateHelper.CountAge(new Date(l),new Date(o));if(n.umur=n.umur=r.year+" thn "+r.month+" bln "+r.day+" hari",n.expertise=1==n.expertise?"\u2714":"\u2718",n.durasi="-",null!=n.tglexpertise){var d=s(new Date(n.tglmasuk)).format("YYYY-MM-DD HH:mm"),u=s(new Date(n.tglexpertise)).format("YYYY-MM-DD HH:mm"),c=e.dateHelper.CountDifferenceDayHourMinute(new Date(u),new Date(d));n.durasi=(new Date(n.tglexpertise),new Date(n.tglmasuk),c)}}e.dataTable=t})}},{key:"onRowSelect",value:function(e){var a=this;null!=e.data&&this.apiService.get("general/get-data-closing-pasien/"+this.selected.noregistrasi).subscribe(function(t){t.length>0?a.alertService.error("Peringatan!","Registrasi Ini Telah Diclosing"):a.selected=e.data})}},{key:"ubahGolDarah",value:function(){null!=this.selected?this.pop_GolonganDarah=!0:this.alertService.warn("Peringatan!","Data Belum Dipilih!")}},{key:"ubahGolDarah2",value:function(e){this.selected=e,this.pop_GolonganDarah=!0}},{key:"batalGolDarah",value:function(){this.item.golDarah=void 0,this.pop_GolonganDarah=!1}},{key:"simpanGolDarah",value:function(){var e=this;null!=this.selected?null!=this.item.golDarah?this.apiService.post("penunjang/update-gol-darah",{norm:this.selected.norm,golongandarahidfk:this.item.golDarah.id}).subscribe(function(a){e.item.golDarah=void 0,e.pop_GolonganDarah=!1,e.getData()}):this.alertService.warn("Peringatan!","Golongan Darah Belum Dipilih!"):this.alertService.warn("Peringatan!","Data Belum Dipilih!")}},{key:"pengkajianMedis2",value:function(e){var a=this;this.apiService.get("registrasi/get-apd?noregistrasi="+e.noregistrasi+"&objectruanganlastfk="+e.ruid).subscribe(function(t){var i=t.data;null!=i&&a.router.navigate(["rekam-medis",e.norec,i.norec_apd])})}},{key:"pengkajianMedis",value:function(){var e=this;null!=this.selected?this.apiService.get("registrasi/get-apd?noregistrasi="+this.selected.noregistrasi+"&objectruanganlastfk="+this.selected.ruid).subscribe(function(a){var t=a.data;null!=t&&e.router.navigate(["rekam-medis",e.selected.norec,t.norec_apd])}):this.alertService.warn("Info!","Data Belum Dipilih")}},{key:"RincianPenunjang2",value:function(e){this.router.navigate(["rincian-penunjang",e.norec_pd,e.norec_apd])}},{key:"RincianPenunjang",value:function(){null!=this.selected?this.router.navigate(["rincian-penunjang",this.selected.norec_pd,this.selected.norec_apd]):this.alertService.warn("Info!","Data Belum Dipilih")}},{key:"isiRuangan",value:function(e){this.listRuangan=e.value.ruangan}},{key:"filter",value:function(){this.popFilter=!0}},{key:"cariFilter",value:function(){this.popFilter=!1,this.getData()}},{key:"clearFilter",value:function(){this.popFilter=!1,this.dateNow=new Date,this.item.tglAwal=s(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=s(this.dateNow).format("YYYY-MM-DD 23:59"),this.item.jmlRows=50,this.getData()}}])&&a(i.prototype,n),o&&a(i,o),t}(),Y.\u0275fac=function(e){return new(e||Y)(d.Jb(u.a),d.Jb(u.b),d.Jb(r.a),d.Jb(r.h),d.Jb(c.a),d.Jb(p.a),d.Jb(b.a),d.Jb(l.a),d.Jb(l.f))},Y.\u0275cmp=d.Db({type:Y,selectors:[["app-daftar-pasien-penunjang"]],features:[d.wb([r.a])],decls:74,vars:58,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","disabled","ngModelChange"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder"," Rows",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","No Rekam Medis",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Noregistrasi",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",1,"p-mr-1",3,"click"],["pButton","","type","button","icon","pi pi-filter","pTooltip","Filter Detail",1,"p-button-success",3,"click"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"p-col-12","p-md-6"],["header","Golongan Darah",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-col-12","p-md-4"],["placeholder","Golongan Darah","optionLabel","golongandarah","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-4",2,"margin-top","15px"],["pButton","","type","submit","icon","fa fa-floppy-o","pTooltip","Simpan","label","Simpan",3,"click"],["pButton","","type","submit","icon","fa fa-ban","pTooltip","Batal","label","Batal",2,"background-color","red",3,"click"],["header","Filter",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-col-12","p-md-3"],["appendTo","body","placeholder","Instalasi","optionLabel","departemen",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["appendTo","body","placeholder","Ruangan","optionLabel","ruangan",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Tipe Pasien","optionLabel","kelompokpasien","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["pTemplate","footer"],[2,"width","180px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],["pButton","","type","button","icon","fa fa-info-circle","pTooltip","Rincian","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["pButton","","type","button","icon","fa fa-stethoscope","pTooltip","Pengkajian Medis","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","fa fa-heart","pTooltip","Ubah Golongan Darah","label","",1,"p-button-rounded","p-button-warning","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],["icon","pi pi-filter","label","Filter",1,"p-button-success",3,"click"],["icon","pi pi-close","label","Clear","styleClass","p-button-text",3,"click"]],template:function(e,a){1&e&&(d.Qb(0,"div",0),d.Qb(1,"div",1),d.Qb(2,"h4"),d.Jc(3,"Pasien Penunjang List"),d.Pb(),d.Qb(4,"div",2),d.Qb(5,"div",3),d.Qb(6,"div",2),d.Qb(7,"div",3),d.Qb(8,"div",4),d.Qb(9,"label",5),d.Jc(10,"Periode Awal"),d.Pb(),d.Qb(11,"p-calendar",6),d.Yb("ngModelChange",function(e){return a.item.tglAwal=e}),d.Pb(),d.Pb(),d.Qb(12,"div",4),d.Qb(13,"label",5),d.Jc(14,"Periode Akhir"),d.Pb(),d.Qb(15,"p-calendar",6),d.Yb("ngModelChange",function(e){return a.item.tglAkhir=e}),d.Pb(),d.Pb(),d.Qb(16,"div",7),d.Qb(17,"label",5),d.Jc(18," Rows"),d.Pb(),d.Qb(19,"input",8),d.Yb("ngModelChange",function(e){return a.item.jmlRows=e})("keyup.enter",function(){return a.cari()}),d.Pb(),d.Pb(),d.Qb(20,"div",4),d.Qb(21,"label",5),d.Jc(22,"No Rekam Medis "),d.Pb(),d.Qb(23,"input",9),d.Yb("ngModelChange",function(e){return a.item.noRM=e})("keyup.enter",function(){return a.cari()}),d.Pb(),d.Pb(),d.Qb(24,"div",4),d.Qb(25,"label",5),d.Jc(26,"Noregistrasi"),d.Pb(),d.Qb(27,"input",10),d.Yb("ngModelChange",function(e){return a.item.Noregistrasi=e})("keyup.enter",function(){return a.cari()}),d.Pb(),d.Pb(),d.Qb(28,"div",4),d.Qb(29,"label",5),d.Jc(30,"Nama Pasien "),d.Pb(),d.Qb(31,"input",11),d.Yb("ngModelChange",function(e){return a.item.namaPasien=e})("keyup.enter",function(){return a.cari()}),d.Pb(),d.Pb(),d.Qb(32,"div",12),d.Qb(33,"button",13),d.Yb("click",function(){return a.cari()}),d.Pb(),d.Qb(34,"button",14),d.Yb("click",function(){return a.filter()}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(35,"div",2),d.Qb(36,"p-table",15,16),d.Yb("selectionChange",function(e){return a.selected=e}),d.Hc(38,M,4,1,"ng-template",17),d.Hc(39,Q,6,3,"ng-template",18),d.Pb(),d.Pb(),d.Qb(40,"div",2),d.Qb(41,"div",3),d.Qb(42,"div",19),d.Lb(43,"div",3),d.Pb(),d.Lb(44,"div",19),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(45,"p-dialog",20),d.Yb("visibleChange",function(e){return a.pop_GolonganDarah=e}),d.Qb(46,"div",0),d.Qb(47,"div",3),d.Qb(48,"div",2),d.Qb(49,"div",3),d.Qb(50,"div",21),d.Qb(51,"label",5),d.Jc(52,"Golongan Darah"),d.Pb(),d.Qb(53,"p-dropdown",22),d.Yb("ngModelChange",function(e){return a.item.golDarah=e}),d.Pb(),d.Pb(),d.Qb(54,"div",23),d.Qb(55,"button",24),d.Yb("click",function(){return a.simpanGolDarah()}),d.Pb(),d.Pb(),d.Qb(56,"div",23),d.Qb(57,"button",25),d.Yb("click",function(){return a.batalGolDarah()}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(58,"p-dialog",26),d.Yb("visibleChange",function(e){return a.popFilter=e}),d.Qb(59,"div",0),d.Qb(60,"div",3),d.Qb(61,"div",27),d.Qb(62,"label",5),d.Jc(63,"Instalasi"),d.Pb(),d.Qb(64,"p-dropdown",28),d.Yb("ngModelChange",function(e){return a.item.dataDepartemen=e})("onChange",function(e){return a.isiRuangan(e)}),d.Pb(),d.Pb(),d.Qb(65,"div",27),d.Qb(66,"label",5),d.Jc(67,"Ruangan"),d.Pb(),d.Qb(68,"p-dropdown",29),d.Yb("ngModelChange",function(e){return a.item.dataRuangan=e}),d.Pb(),d.Pb(),d.Qb(69,"div",27),d.Qb(70,"label",5),d.Jc(71,"Tipe Pasien"),d.Pb(),d.Qb(72,"p-dropdown",30),d.Yb("ngModelChange",function(e){return a.item.dataKelPasien=e}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Hc(73,x,2,0,"ng-template",31),d.Pb()),2&e&&(d.xb(11),d.ic("ngModel",a.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("disabled",a.disableVer),d.xb(4),d.ic("ngModel",a.item.tglAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("disabled",a.disableVer),d.xb(4),d.ic("ngModel",a.item.jmlRows),d.xb(4),d.ic("ngModel",a.item.noRM),d.xb(4),d.ic("ngModel",a.item.Noregistrasi),d.xb(4),d.ic("ngModel",a.item.namaPasien),d.xb(5),d.ic("columns",a.column)("value",a.dataTable)("selection",a.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",d.mc(55,j))("paginator",!0)("pageLinks",5),d.xb(9),d.Ec(d.mc(56,T)),d.ic("visible",a.pop_GolonganDarah)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),d.xb(8),d.ic("options",a.listGolonganDarah)("ngModel",a.item.golDarah)("filter",!0)("showClear",!0),d.xb(5),d.Ec(d.mc(57,S)),d.ic("visible",a.popFilter)("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!0),d.xb(6),d.ic("options",a.listDepartemen)("ngModel",a.item.dataDepartemen)("filter",!0)("showClear",!0),d.xb(4),d.ic("options",a.listRuangan)("ngModel",a.item.dataRuangan)("filter",!0)("showClear",!0),d.xb(4),d.ic("options",a.listKelompokPasien)("ngModel",a.item.dataKelPasien)("filter",!0)("showClear",!0))},directives:[h.a,g.g,g.h,g.a,m.a,f.b,v.a,P.h,r.k,w.a,k.a,o.k,P.g,P.f,P.e,f.a],styles:[""]}),Y)}],J=((C=function a(){e(this,a)}).\u0275mod=d.Hb({type:C}),C.\u0275inj=d.Gb({factory:function(e){return new(e||C)},imports:[[l.j.forChild(N)],l.j]}),C),H=n("PCNd"),G=((R=function a(){e(this,a)}).\u0275mod=d.Hb({type:R}),R.\u0275inj=d.Gb({factory:function(e){return new(e||R)},imports:[[o.b,J,H.a]]}),R)}}])}();