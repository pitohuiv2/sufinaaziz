!function(){function t(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function a(t,a){for(var e=0;e<a.length;e++){var i=a[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{uvpP:function(e,i,n){"use strict";n.r(i),n.d(i,"PenerimaanBarangSupplierModule",function(){return j});var o=n("ofXK"),l=n("tyNb"),r=n("7zfz"),s=n("wd/R"),d=n("fXoL"),u=n("EJUL"),h=n("U+s4"),m=n("G0w9"),p=n("ujBT"),b=n("7CaW"),g=n("eO1q"),c=n("3Pt+"),k=n("7kUa"),P=n("arFO"),f=n("V5BG"),v=n("Ks7X"),M=n("jIHw"),Q=n("xlun"),w=n("rEr+");function y(t,a){if(1&t&&(d.Qb(0,"th"),d.Jc(1),d.Pb()),2&t){var e=a.$implicit;d.Fc("width: ",e.width,""),d.xb(1),d.Lc(" ",e.header," ")}}function x(t,a){if(1&t&&(d.Qb(0,"tr"),d.Lb(1,"th",62),d.Hc(2,y,2,4,"th",63),d.Pb()),2&t){var e=a.$implicit;d.xb(2),d.ic("ngForOf",e)}}function S(t,a){if(1&t&&(d.Qb(0,"span"),d.Jc(1),d.Pb()),2&t){var e=d.bc().$implicit,i=d.bc().$implicit,n=d.bc();d.xb(1),d.Lc(" ",n.formatRupiah(i[e.field],""),"")}}function T(t,a){if(1&t&&(d.Qb(0,"span"),d.Jc(1),d.Pb()),2&t){var e=d.bc().$implicit,i=d.bc().$implicit;d.xb(1),d.Lc(" ",i[e.field],"")}}function D(t,a){if(1&t&&(d.Qb(0,"td"),d.Hc(1,S,2,1,"span",66),d.Hc(2,T,2,1,"span",66),d.Pb()),2&t){var e=a.$implicit;d.Fc("width: ",e.width,""),d.xb(1),d.ic("ngIf",null!=e.isCurrency),d.xb(1),d.ic("ngIf",null==e.isCurrency)}}function C(t,a){if(1&t){var e=d.Sb();d.Qb(0,"tr"),d.Qb(1,"td",62),d.Qb(2,"button",64),d.Yb("click",function(){d.yc(e);var t=a.$implicit;return d.bc().editD(t)}),d.Pb(),d.Qb(3,"button",65),d.Yb("click",function(){d.yc(e);var t=a.$implicit;return d.bc().hapusD(t)}),d.Pb(),d.Pb(),d.Hc(4,D,3,5,"td",63),d.Pb()}if(2&t){var i=a.columns;d.xb(4),d.ic("ngForOf",i)}}var Y,K,R,F=function(){return[5,10,25,50]},J=[{path:"",component:(Y=function(){function e(a,i,n,o,l,r,s,d,u){t(this,e),this.apiService=a,this.authService=i,this.confirmationService=n,this.messageService=o,this.cacheHelper=l,this.dateHelper=r,this.alertService=s,this.route=d,this.router=u,this.norecOrder="",this.norec_Realisasi="",this.params={},this.listSatuan=[],this.listProduk=[],this.listRekanan=[],this.listKelompokProduk=[],this.listPegawaiPj=[],this.listPegawai=[],this.dataProdukDetail=[],this.columnGrid=[],this.dataSource=[],this.data2=[],this.item={},this.hrg1=0,this.statusTambah=!0}var i,n,o;return i=e,(n=[{key:"ngOnInit",value:function(){this.disabledRuangan=!1,this.isSimpan=!1,this.dateNow=new Date,this.dataLogin=this.authService.getDataLoginUser(),this.kelUser=this.dataLogin.kelompokUser.kelompokUser,this.item.tahun=s(this.dateNow).format("YYYY"),this.item.tglPermintaan=this.dateNow,this.item.tglTerima=this.dateNow,this.item.tglFaktur=this.dateNow,this.loadColumn(),this.loadCombo(),this.firstLoad()}},{key:"formatRupiah",value:function(t,a){return a+" "+parseFloat(t).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}},{key:"loadColumn",value:function(){this.columnGrid=[{field:"no",header:"No",width:"80px"},{field:"produkfk",header:"Kode Produk",width:"100px"},{field:"namaproduk",header:"Nama Produk",width:"180px"},{field:"asalproduk",header:"Asal Produk",width:"180px"},{field:"satuanstandar",header:"Satuan",width:"120px"},{field:"jumlahusulan",header:"Qty Usulan",width:"120px"},{field:"jumlah",header:"Qty Terima",width:"120px"},{field:"hargasatuan",header:"Harga Satuan",width:"140px",isCurrency:!0},{field:"subtotal",header:"Total Harga",width:"140px",isCurrency:!0},{field:"persendiscount",header:"Diskon (%)",width:"120px"},{field:"persenppn",header:"PPN (%)",width:"120px"},{field:"total",header:"Total",width:"140px",isCurrency:!0},{field:"nobatch",header:"Nobatch",width:"100px"},{field:"keterangan",header:"Keterangan",width:"180px"},{field:"tglkadaluarsa",header:"Tgl Exp",width:"140px"}]}},{key:"loadCombo",value:function(){var t=this;null!=this.dataLogin.mapLoginUserToRuangan?(this.listRuangan=this.dataLogin.mapLoginUserToRuangan,this.item.ruangan=this.listRuangan[0],this.apiService.get("logistik/get-combo-penerimaan").subscribe(function(a){t.listAsalProduk=a.asalproduk,t.listKelompokProduk=a.kelompokproduk,t.item.dataKelompokProduk=a.kelompokproduk[0]})):this.alertService.error("Info","Ruangan Login Belum Disetting!")}},{key:"filterRekanan",value:function(t){var a=this;this.apiService.get("general/get-data-combo-rekanan-part?namarekanan="+t.query).subscribe(function(t){a.listRekanan=t})}},{key:"filterPegawaiPj",value:function(t){var a=this;this.apiService.get("general/get-data-combo-pegawai-part?namalengkap="+t.query).subscribe(function(t){a.listPegawaiPj=t})}},{key:"filterPegawai",value:function(t){var a=this;this.apiService.get("general/get-data-combo-pegawai-part?namalengkap="+t.query).subscribe(function(t){a.listPegawai=t})}},{key:"firstLoad",value:function(){var t=this;this.route.params.subscribe(function(a){t.params.norec_data=a.norec,t.params.jenisdata=a.jenisdata,t.jenisData=a.jenisdata,t.norec_data="editterima"==t.jenisData?a.norec:"",t.loadData()})}},{key:"loadData",value:function(){var t=this;"-"!=this.norec_data&&"editterima"==this.jenisData&&this.apiService.get("logistik/get-detail-penerimaan?norec="+this.norec_data).subscribe(function(a){var e=a.detailterima,i=a.details;t.item.nomorPermintaan=e.nousulan,t.item.tglPermintaan=s(e.tglkontrak).format("YYYY-MM-DD HH:mm"),t.item.nomorKontrak=e.nokontrak,t.item.tahun=s(e.tglkontrak).format("YYYY"),t.item.namaPengadaan=e.namapengadaan,t.norecOrder=e.noorderidfk,t.item.tglFaktur=s(e.tglfaktur).format("YYYY-MM-DD HH:mm"),t.item.tglTerima=s(e.tglstruk).format("YYYY-MM-DD HH:mm"),t.item.nomorTerima=e.nostruk,t.item.nomorFaktur=e.nofaktur,t.item.dataAsalProduk={id:e.asalprodukidfk,asalproduk:e.asalproduk},t.listPegawaiPj=[{id:e.pegawaipenanggungjawabidfk,namalengkap:e.penanggungjawab}],t.item.dataPenanggungJawab=t.listPegawaiPj[0],t.listPegawai=[{id:e.pgid,namalengkap:e.namalengkap}],t.item.dataPetugasPenerima=t.listPegawai[0],t.item.ruangan={id:e.id,namaruangan:e.namaruangan},t.listRekanan=[{id:e.rekananidfk,namarekanan:e.namarekanan}],t.item.dataRekanan=t.listRekanan[0],t.item.dataKelompokProduk={id:e.kelompokprodukidfk,kelompokproduk:e.kelompokproduk},t.item.tglJatuhTempo=s(e.tgljatuhtempo).format("YYYY-MM-DD HH:mm"),t.item.Keterangan=e.keteranganambil,t.norec_Realisasi=e.norecrealisasi,t.data2=i;for(var n,o=0,l=0,r=0,d=0;d<t.data2.length;d++){var u=t.data2[d];u.no=d+1,o+=parseFloat(u.subtotal),l+=parseFloat(u.totaldiskon),r+=parseFloat(u.ppn)}t.dataSource=t.data2,n=o-l+r,t.item.totalHarga=0,t.item.totalDiskon=0,t.item.totalPpn=0,t.item.TotalAll=0,t.item.totalHarga=t.formatRupiah(o,"Rp."),t.item.totalDiskon=t.formatRupiah(l,"Rp."),t.item.totalPpn=t.formatRupiah(r,"Rp."),t.item.TotalAll=t.formatRupiah(n,"Rp.")})}},{key:"filterProduk",value:function(t){var a=this;null!=this.item.dataKelompokProduk?this.apiService.get("logistik/get-combo-produk-penerimaan?idKelProduk="+this.item.dataKelompokProduk.id+"&namaproduk="+t.query).subscribe(function(t){a.listProduk=t}):this.alertService.error("Info","Kelompok Produk Belum Diisi!")}},{key:"getSatuan",value:function(){null!=this.item.produk.id&&this.GETKONVERSI(0)}},{key:"GETKONVERSI",value:function(t){var a=this;this.listSatuan=this.item.produk.konversisatuan,0==this.listSatuan.length&&(this.listSatuan=[{ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar}]),this.item.satuan={ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar},this.item.nilaiKonversi=1,null!=this.item.ruangan&&(this.statusTambah=!1,null!=this.item.produk&&""!=this.item.produk&&(this.listSatuan=this.item.produk.konversisatuan,0==this.listSatuan.length&&(this.listSatuan=[{ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar}]),this.item.satuan={ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar},this.item.keterangan=this.item.produk.spesifikasi,this.item.nilaiKonversi=null==this.item.satuan.nilaikonversi||0==this.item.satuan.nilaikonversi?1:this.item.satuan.nilaikonversi,0==t?(this.item.qtyUsulan=0,this.item.jumlah=0,this.item.hargaSatuan=0,this.item.persenDiskon=0,this.item.hargaDiskon=0,this.item.persenPpn=0,this.item.hargaPpn=0,this.item.total=0,this.item.nobatch="-",this.apiService.get("general/get-produkdetail-general?produkfk="+this.item.produk.id+"&ruanganfk="+this.item.ruangan.id).subscribe(function(t){var e=t.detail;e.length>0&&(a.item.hargaSatuan=e[0].harganetto)})):(this.item.qtyUsulan=parseFloat(this.dataSelected.jumlahusulan),this.item.jumlah=parseFloat(this.dataSelected.jumlah),this.item.hargaSatuan=parseFloat(this.dataSelected.hargasatuan),this.item.persenDiskon=parseFloat(this.dataSelected.persendiscount),this.item.hargaDiskon=0,this.item.persenPpn=parseFloat(this.dataSelected.persenppn),this.item.hargaPpn=0,this.item.total=this.dataSelected.total,this.item.nobatch=this.dataSelected.nobatch,this.item.keterangan=this.dataSelected.keterangan,null!=this.dataSelected.tglkadaluarsa&&(this.item.tglExp=new Date(s(this.dataSelected.tglkadaluarsa).format("YYYY-MM-DD HH:mm")))),this.statusTambah=!0,this.gettotal()))}},{key:"getNilaiKonversi",value:function(){this.item.nilaiKonversi=this.item.satuan.nilaikonversi}},{key:"onChangeKonversi",value:function(){this.item.jumlah>0&&(this.item.jumlah=1*parseFloat(this.item.nilaiKonversi))}},{key:"onChangeQty",value:function(t){this.item.jumlah=t.value,this.gettotal()}},{key:"onChangeHarga",value:function(t){this.item.hargaSatuan=t,this.gettotal()}},{key:"onChangeDiskon",value:function(t){this.item.persenDiskon=t.value,this.gettotal()}},{key:"onChangePpn",value:function(t){this.item.persenPpn=t.value,this.gettotal()}},{key:"gettotal",value:function(){var t=!1;if(this.item.jumlah*parseFloat(this.item.nilaiKonversi)>0){t=!1;var a=parseFloat(this.item.jumlah)*parseFloat(this.item.nilaiKonversi),e=0;null!=this.item.hargaSatuan&&(e=this.item.hargaSatuan);var i=0,n=0;null!=this.item.persenDiskon&&(i=this.item.persenDiskon,n=parseFloat(e)*parseFloat(i)/100);var o,l,r,s=0;null!=this.item.persenPpn&&(s=this.item.persenPpn),r=((o=parseFloat(e)*a)-(l=n*a))*s/100,this.item.hargaDiskon=n,this.item.hargaPpn=r,this.item.total=o-l+r,t=!0}0==t&&(this.item.hargaSatuan=0,this.item.persenDiskon=0,this.item.persenPpn=0,this.item.hargaPpn=0,this.item.hargaDiskon=0,this.item.total=0),0==this.item.jumlah&&(this.item.hargaSatuan=0,this.item.hargaSatuan=0,this.item.persenDiskon=0,this.item.persenPpn=0,this.item.hargaPpn=0,this.item.hargaDiskon=0,this.item.total=0)}},{key:"Kosongkan",value:function(){this.dataSelected=void 0,delete this.item.produk,delete this.item.satuan,delete this.item.nilaiKonversi,this.item.no=void 0,this.item.qtyUsulan=0,this.item.jumlah=0,this.item.hargaSatuan=0,this.item.persenDiskon=0,this.item.persenPpn=0,this.item.hargaPpn=0,this.item.hargaDiskon=0,this.item.total=0,this.item.Nobatch=void 0,this.item.keterangan=void 0,this.item.tglExp=void 0}},{key:"batal",value:function(){this.Kosongkan()}},{key:"editD",value:function(t){var a=this;if(0!=this.statusTambah){var e=[];this.dataSelected=t,this.item.no=t.no,this.apiService.get("logistik/get-combo-produk-penerimaan?idproduk="+t.produkfk).subscribe(function(i){a.listProduk=i;for(var n=a.listProduk.length-1;n>=0;n--)if(a.listProduk[n].id==t.produkfk){e=a.listProduk[n];break}a.item.produk=e,a.GETKONVERSI(t.jumlah)})}}},{key:"hapusD",value:function(t){for(var a=this.data2.length-1;a>=0;a--)if(this.data2[a].no==t.no){this.data2.splice(a,1);var e=0,i=0;for(a=this.data2.length-1;a>=0;a--)e+=parseFloat(this.data2[a].total),i+=a,this.data2[a].no=a+1;this.dataSource=this.data2,this.item.totalSubTotal=this.formatRupiah(e,"Rp."),this.item.TotalItem=parseFloat(i)}this.Kosongkan()}},{key:"batalGrid",value:function(){this.Kosongkan(),this.data2=[],this.dataSource=void 0,this.isSimpan=!1}},{key:"Kembali",value:function(){window.history.back()}},{key:"tambah",value:function(){if(0!=this.statusTambah)if(null!=this.item.ruangan)if(null!=this.item.dataAsalProduk)if(null!=this.item.produk)if(null!=this.item.satuan)if(0!=this.item.jumlah){var t;t=null==this.dataSource?1:this.data2.length+1;var a={};if(this.disabledRuangan=!0,null!=this.item.no){for(var e=this.data2.length-1;e>=0;e--)if(this.data2[e].no==this.item.no){a.no=this.item.no,a.hargasatuan=String(this.item.hargaSatuan),a.ruanganfk=this.item.ruangan.id,a.asalprodukfk=this.item.dataAsalProduk.id,a.asalproduk=this.item.dataAsalProduk.asalproduk,a.produkfk=this.item.produk.id,a.namaproduk=this.item.produk.namaproduk,a.nilaikonversi=this.item.nilaiKonversi,a.satuanstandarfk=this.item.satuan.ssid,a.satuanstandar=this.item.satuan.satuanstandar,a.satuanviewfk=this.item.satuan.ssid,a.satuanview=this.item.satuan.satuanstandar,a.jumlahusulan=this.item.qtyUsulan,a.jumlah=this.item.jumlah,a.subtotal=parseFloat(this.item.jumlah)*parseFloat(this.item.hargaSatuan),a.hargadiscount=String(this.item.hargaDiskon),a.persendiscount=String(this.item.persenDiskon),a.totaldiskon=parseFloat(this.item.jumlah)*parseFloat(this.item.hargaDiskon),a.ppn=String(this.item.hargaPpn),a.persenppn=String(this.item.persenPpn),a.total=this.item.total,a.keterangan=null!=this.item.keterangan?this.item.keterangan:null,a.nobatch=null!=this.item.nobatch?this.item.nobatch:null,a.tglkadaluarsa=null!=this.item.tglExp?s(this.item.tglExp).format("YYYY-MM-DD HH:mm"):null,this.data2[e]=a,this.dataSource=this.data2;for(var i=0,n=0,o=0,l=0,r=0;r<this.data2.length;r++){var d=this.data2[r];i+=parseFloat(d.subtotal),n+=parseFloat(d.totaldiskon),o+=parseFloat(d.ppn)}l=i-n+o,this.item.totalHarga=0,this.item.totalDiskon=0,this.item.totalPpn=0,this.item.TotalAll=0,this.item.totalHarga=this.formatRupiah(i,"Rp."),this.item.totalDiskon=this.formatRupiah(n,"Rp."),this.item.totalPpn=this.formatRupiah(o,"Rp."),this.item.TotalAll=this.formatRupiah(l,"Rp.")}}else{a={no:t,hargasatuan:String(this.item.hargaSatuan),ruanganfk:this.item.ruangan.id,asalprodukfk:this.item.dataAsalProduk.id,asalproduk:this.item.dataAsalProduk.asalproduk,produkfk:this.item.produk.id,namaproduk:this.item.produk.namaproduk,nilaikonversi:this.item.nilaiKonversi,satuanstandarfk:this.item.satuan.ssid,satuanstandar:this.item.satuan.satuanstandar,satuanviewfk:this.item.satuan.ssid,satuanview:this.item.satuan.satuanstandar,jumlahusulan:this.item.qtyUsulan,jumlah:this.item.jumlah,subtotal:parseFloat(this.item.jumlah)*parseFloat(this.item.hargaSatuan),hargadiscount:String(this.item.hargaDiskon),persendiscount:String(this.item.persenDiskon),totaldiskon:parseFloat(this.item.jumlah)*parseFloat(this.item.hargaDiskon),persenppn:String(this.item.persenPpn),ppn:String(this.item.hargaPpn),total:this.item.total,keterangan:null!=this.item.keterangan?this.item.keterangan:null,nobatch:null!=this.item.nobatch?this.item.nobatch:null,tglkadaluarsa:null!=this.item.tglExp?s(this.item.tglExp).format("YYYY-MM-DD HH:mm"):null},this.data2.push(a),this.dataSource=this.data2,i=0,n=0,o=0,l=0;for(var u=0;u<this.data2.length;u++){var h=this.data2[u];i+=parseFloat(h.subtotal),n+=parseFloat(h.totaldiskon),o+=parseFloat(h.ppn)}l=i-n+o,this.item.totalHarga=0,this.item.totalDiskon=0,this.item.totalPpn=0,this.item.TotalAll=0,this.item.totalHarga=this.formatRupiah(i,"Rp."),this.item.totalDiskon=this.formatRupiah(n,"Rp."),this.item.totalPpn=this.formatRupiah(o,"Rp."),this.item.TotalAll=this.formatRupiah(l,"Rp.")}this.Kosongkan()}else this.alertService.error("Info","Jumlah harus di isi!");else this.alertService.error("Info","Pilih Satuan terlebih dahulu!!");else this.alertService.error("Info","Pilih Produk terlebih dahulu!!");else this.alertService.error("Info","Data Sumber Dana / Asal Produk Masih Kosong!");else this.alertService.error("Info","Data Ruangan Penerima Masih Kosong!")}},{key:"save",value:function(){var t=this;if(null!=this.item.tglTerima)if(null!=this.item.tglFaktur)if(null!=this.item.dataPenanggungJawab)if(null!=this.item.dataPetugasPenerima)if(null!=this.item.dataRekanan)if(0!=this.data2.length){this.isSimpan=!0;for(var a,e=0,i=0,n=0,o=0;o<this.data2.length;o++){var l=this.data2[o];e+=parseFloat(l.subtotal),i+=parseFloat(l.totaldiskon),n+=parseFloat(l.ppn)}a=e-i+n;var r={nostruk:this.norec_data,noorder:null!=this.item.nomorPermintaan?this.item.nomorPermintaan:null,tglorder:null!=this.item.tglPermintaan?s(this.item.tglPermintaan).format("YYYY-MM-DD HH:mm"):null,tglkontrak:null!=this.item.tglPermintaan?s(this.item.tglPermintaan).format("YYYY-MM-DD HH:mm"):null,nokontrak:null!=this.item.nomorKontrak?this.item.nomorKontrak:null,tahun:null!=this.item.tahun?this.item.tahun:null,namapengadaan:null!=this.item.namaPengadaan?this.item.namaPengadaan:null,norecOrder:this.norecOrder,tglfaktur:s(this.item.tglFaktur).format("YYYY-MM-DD HH:mm"),tglstruk:s(this.item.tglTerima).format("YYYY-MM-DD HH:mm"),tglrealisasi:s(this.item.tglTerima).format("YYYY-MM-DD HH:mm"),noterima:null!=this.item.nomorTerima?this.item.nomorTerima:null,nofaktur:null!=this.item.nomorFaktur?this.item.nomorFaktur:null,asalproduk:this.item.dataAsalProduk.id,objectpegawaipenanggungjawabfk:this.item.dataPenanggungJawab.id,pegawaimenerimafk:this.item.dataPetugasPenerima.id,namapegawaipenerima:this.item.dataPetugasPenerima.namalengkap,ruanganfk:this.item.ruangan.id,rekananfk:this.item.dataRekanan.id,namarekanan:this.item.dataRekanan.namarekanan,kelompokproduk:this.item.dataKelompokProduk.id,tgljatuhtempo:null!=this.item.tglJatuhTempo?s(this.item.tglJatuhTempo).format("YYYY-MM-DD HH:mm"):null,ketterima:null!=this.item.Keterangan?this.item.Keterangan:null,objectmataanggaranfk:null,qtyproduk:this.data2.length,totalharusdibayar:a,totalppn:n,totaldiscount:i,totalhargasatuan:e,norecrealisasi:this.norec_Realisasi};this.apiService.post("logistik/save-penerimaan-barang-supplier",{struk:r,details:this.data2}).subscribe(function(a){var e="-";null==a.data.nofaktur&&(e=a.data.nofaktur),t.apiService.postLog("Simpan Kirim Barang Ruangan","Norec strukpelayanan",a.data.norec,"Simpan Penerimaan Barang Supplier Dengan Noterima - "+a.data.struk+" dan Nofaktur - "+e).subscribe(function(t){}),t.Kosongkan(),t.data2=[],t.dataSource=void 0,window.history.back()})}else this.alertService.error("Infor","Data Produk Masih Kosong!");else this.alertService.error("Info","Supplier Tidak Boleh Kosong!");else this.alertService.error("Info","Petugas Penerima Tidak Boleh Kosong!");else this.alertService.error("Info","Penanggung Jawab Tidak Boleh Kosong!");else this.alertService.error("Info","Tanggal Faktur Tidak Boleh Kosong!");else this.alertService.error("Info","Tanggal Terima Tidak Boleh Kosong!")}}])&&a(i.prototype,n),o&&a(i,o),e}(),Y.\u0275fac=function(t){return new(t||Y)(d.Jb(u.a),d.Jb(u.b),d.Jb(r.a),d.Jb(r.h),d.Jb(h.a),d.Jb(m.a),d.Jb(p.a),d.Jb(l.a),d.Jb(l.f))},Y.\u0275cmp=d.Db({type:Y,selectors:[["app-penerimaan-barang-supplier"]],features:[d.wb([r.a])],decls:180,vars:112,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-3"],["header","Data Usulan",3,"toggleable"],[1,"p-col-12","p-md-6"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Permintaan","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","disabled","ngModelChange"],["type","text","pInputText","","placeholder","Nomor Permintaan",3,"ngModel","disabled","ngModelChange"],[1,"p-col-12","p-md-8"],["type","text","pInputText","","placeholder","Nomor Kontrak (SPPB/SPK)",3,"ngModel","disabled","ngModelChange"],[1,"p-col-12","p-md-4"],["type","text","pInputText","","placeholder","Tahun",3,"ngModel","disabled","ngModelChange"],["type","text","pInputText","","placeholder","Nama Pengadaan",3,"ngModel","disabled","ngModelChange"],["header","Data Faktur",3,"toggleable"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Terima","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","ngModelChange"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Faktur","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","ngModelChange"],["type","text","pInputText","","placeholder","Nomor Terima",3,"ngModel","disabled","ngModelChange"],["type","text","pInputText","","placeholder","Nomor Faktur",3,"ngModel","disabled","ngModelChange"],["placeholder","Sumber Dana","optionLabel","asalproduk","dataKey","id",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["header","Data Petugas",3,"toggleable"],["field","namalengkap","placeholder","Pilih Petugas",3,"ngModel","suggestions","dropdown","disabled","ngModelChange","completeMethod"],["placeholder","Ruangan","optionLabel","namaruangan","dataKey","id",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["header","Data Supplier",3,"toggleable"],["field","namarekanan","placeholder","Pilih Supplier",3,"ngModel","suggestions","dropdown","disabled","ngModelChange","completeMethod"],["placeholder","Kelompok Produk","optionLabel","kelompokproduk","dataKey","id",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Jatuh Tempo","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","disabled","ngModelChange"],[1,"p-col-12","p-md-12",2,"margin-top","5x"],["type","text","pInputText","","placeholder","Keterangan",3,"ngModel","ngModelChange"],["header","Detail Penerimaan",3,"toggleable"],[1,"p-col-12","p-md-5"],["field","namaproduk","placeholder","Pilih Produk",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod","onSelect"],[1,"p-col-12","p-md-2"],["placeholder","Satuan ","optionLabel","satuanstandar","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","Konversi","disabled","",3,"ngModel","ngModelChange"],["placeholder","Qty","inputId","stacked","disabled","",3,"ngModel","showButtons","ngModelChange"],["placeholder","Qty","inputId","stacked",3,"ngModel","showButtons","ngModelChange","onInput"],["type","text","pInputText","","placeholder","Harga",3,"ngModel","ngModelChange"],["placeholder","Disc %","inputId","stacked",3,"ngModel","showButtons","ngModelChange","onInput"],["placeholder","PPN %","inputId","stacked",3,"ngModel","showButtons","ngModelChange","onInput"],["type","text","pInputText","","placeholder","Total","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Batch",3,"ngModel","ngModelChange"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Exp","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","ngModelChange"],[1,"p-col-12","p-md-2","p-md-offset-8"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah","label","Tambah",1,"p-button","p-button-success","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-refresh","pTooltip","Batal","label","Batal",1,"p-button","p-button-warning","p-mr-2",3,"click"],["styleClass","p-datatable-customers","scrollable","true","dataKey","no","appendTo","body",3,"value","columns","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["pTemplate","header"],["pTemplate","body"],[1,"p-col-12","p-md-2","p-md-offset-6"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan Data","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-refresh","pTooltip","Batal","label","Reset",1,"p-button","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","fa fa-arrow-left","pTooltip","Kembali","label","Kembali",1,"p-button","p-button-danger","p-mr-2",3,"click"],[1,"p-col-12"],[1,"p-col-12","p-md-6","p-md-offset-6"],["header","Total Keseluruhan",3,"toggleable"],["type","text","pInputText","","placeholder","Total Harga",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Total Diskon",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Total Ppn",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Total",3,"ngModel","ngModelChange"],[2,"width","80px"],[3,"style",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit Data","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Data","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[4,"ngIf"]],template:function(t,a){1&t&&(d.Qb(0,"div",0),d.Qb(1,"div",1),d.Qb(2,"h4"),d.Jc(3,"Penerimaan Barang Supplier"),d.Pb(),d.Qb(4,"div",2),d.Qb(5,"div",3),d.Qb(6,"div",4),d.Qb(7,"p-panel",5),d.Qb(8,"div",2),d.Qb(9,"div",3),d.Qb(10,"div",6),d.Qb(11,"label",7),d.Jc(12,"Tgl Permintaan"),d.Pb(),d.Qb(13,"p-calendar",8),d.Yb("ngModelChange",function(t){return a.item.tglPermintaan=t}),d.Pb(),d.Pb(),d.Qb(14,"div",6),d.Qb(15,"label",7),d.Jc(16,"Nomor Permintaan"),d.Pb(),d.Qb(17,"input",9),d.Yb("ngModelChange",function(t){return a.item.nomorPermintaan=t}),d.Pb(),d.Pb(),d.Qb(18,"div",10),d.Qb(19,"label",7),d.Jc(20,"Nomor Kontrak"),d.Pb(),d.Qb(21,"input",11),d.Yb("ngModelChange",function(t){return a.item.nomorKontrak=t}),d.Pb(),d.Pb(),d.Qb(22,"div",12),d.Qb(23,"label",7),d.Jc(24,"Tahun"),d.Pb(),d.Qb(25,"input",13),d.Yb("ngModelChange",function(t){return a.item.tahun=t}),d.Pb(),d.Pb(),d.Qb(26,"div",2),d.Qb(27,"label",7),d.Jc(28,"Nama Pengadaan"),d.Pb(),d.Qb(29,"input",14),d.Yb("ngModelChange",function(t){return a.item.namaPengadaan=t}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(30,"div",4),d.Qb(31,"p-panel",15),d.Qb(32,"div",2),d.Qb(33,"div",3),d.Qb(34,"div",6),d.Qb(35,"label",7),d.Jc(36,"Tgl Terima"),d.Pb(),d.Qb(37,"p-calendar",16),d.Yb("ngModelChange",function(t){return a.item.tglTerima=t}),d.Pb(),d.Pb(),d.Qb(38,"div",6),d.Qb(39,"label",7),d.Jc(40,"Tgl Faktur"),d.Pb(),d.Qb(41,"p-calendar",17),d.Yb("ngModelChange",function(t){return a.item.tglFaktur=t}),d.Pb(),d.Pb(),d.Qb(42,"div",6),d.Qb(43,"label",7),d.Jc(44,"Nomor Terima"),d.Pb(),d.Qb(45,"input",18),d.Yb("ngModelChange",function(t){return a.item.nomorTerima=t}),d.Pb(),d.Pb(),d.Qb(46,"div",6),d.Qb(47,"label",7),d.Jc(48,"Nomor Faktur"),d.Pb(),d.Qb(49,"input",19),d.Yb("ngModelChange",function(t){return a.item.nomorFaktur=t}),d.Pb(),d.Pb(),d.Qb(50,"div",2),d.Qb(51,"label",7),d.Jc(52,"Sumber Dana / Asal Produk"),d.Pb(),d.Qb(53,"p-dropdown",20),d.Yb("ngModelChange",function(t){return a.item.dataAsalProduk=t}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(54,"div",4),d.Qb(55,"p-panel",21),d.Qb(56,"div",2),d.Qb(57,"div",3),d.Qb(58,"div",2),d.Qb(59,"label",7),d.Jc(60,"Petugas Penanggung Jawab"),d.Pb(),d.Qb(61,"p-autoComplete",22),d.Yb("ngModelChange",function(t){return a.item.dataPenanggungJawab=t})("completeMethod",function(t){return a.filterPegawaiPj(t)}),d.Pb(),d.Pb(),d.Qb(62,"div",2),d.Qb(63,"label",7),d.Jc(64,"Petugas Penerima"),d.Pb(),d.Qb(65,"p-autoComplete",22),d.Yb("ngModelChange",function(t){return a.item.dataPetugasPenerima=t})("completeMethod",function(t){return a.filterPegawai(t)}),d.Pb(),d.Pb(),d.Qb(66,"div",2),d.Qb(67,"label",7),d.Jc(68,"Ruangan Penerima"),d.Pb(),d.Qb(69,"p-dropdown",23),d.Yb("ngModelChange",function(t){return a.item.ruangan=t}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(70,"div",4),d.Qb(71,"p-panel",24),d.Qb(72,"div",2),d.Qb(73,"div",3),d.Qb(74,"div",2),d.Qb(75,"label",7),d.Jc(76,"Supplier"),d.Pb(),d.Qb(77,"p-autoComplete",25),d.Yb("ngModelChange",function(t){return a.item.dataRekanan=t})("completeMethod",function(t){return a.filterRekanan(t)}),d.Pb(),d.Pb(),d.Qb(78,"div",2),d.Qb(79,"label",7),d.Jc(80,"Kelompok Produk"),d.Pb(),d.Qb(81,"p-dropdown",26),d.Yb("ngModelChange",function(t){return a.item.dataKelompokProduk=t}),d.Pb(),d.Pb(),d.Qb(82,"div",2),d.Qb(83,"label",7),d.Jc(84,"Tgl Jatuh Tempo"),d.Pb(),d.Qb(85,"p-calendar",27),d.Yb("ngModelChange",function(t){return a.item.tglJatuhTempo=t}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(86,"div",28),d.Qb(87,"label",7),d.Jc(88,"Keterangan Terima"),d.Pb(),d.Qb(89,"input",29),d.Yb("ngModelChange",function(t){return a.item.Keterangan=t}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(90,"div",2),d.Qb(91,"div",3),d.Qb(92,"p-panel",30),d.Qb(93,"div",2),d.Qb(94,"div",3),d.Qb(95,"div",31),d.Qb(96,"label",7),d.Jc(97,"Produk "),d.Pb(),d.Qb(98,"p-autoComplete",32),d.Yb("ngModelChange",function(t){return a.item.produk=t})("completeMethod",function(t){return a.filterProduk(t)})("onSelect",function(){return a.getSatuan()}),d.Pb(),d.Pb(),d.Qb(99,"div",33),d.Qb(100,"label",7),d.Jc(101,"Satuan "),d.Pb(),d.Qb(102,"p-dropdown",34),d.Yb("ngModelChange",function(t){return a.item.satuan=t})("onChange",function(){return a.getNilaiKonversi()}),d.Pb(),d.Pb(),d.Qb(103,"div",35),d.Qb(104,"label",7),d.Jc(105,"Konversi"),d.Pb(),d.Qb(106,"input",36),d.Yb("ngModelChange",function(t){return a.item.nilaiKonversi=t}),d.Pb(),d.Pb(),d.Qb(107,"div",35),d.Qb(108,"label",7),d.Jc(109,"Qty Usulan"),d.Pb(),d.Qb(110,"p-inputNumber",37),d.Yb("ngModelChange",function(t){return a.item.qtyUsulan=t}),d.Pb(),d.Pb(),d.Qb(111,"div",35),d.Qb(112,"label",7),d.Jc(113,"Qty Terima"),d.Pb(),d.Qb(114,"p-inputNumber",38),d.Yb("ngModelChange",function(t){return a.item.jumlah=t})("onInput",function(t){return a.onChangeQty(t)}),d.Pb(),d.Pb(),d.Qb(115,"div",33),d.Qb(116,"label",7),d.Jc(117,"Harga Satuan"),d.Pb(),d.Qb(118,"input",39),d.Yb("ngModelChange",function(t){return a.item.hargaSatuan=t})("ngModelChange",function(){return a.onChangeHarga(a.item.hargaSatuan)}),d.Pb(),d.Pb(),d.Qb(119,"div",35),d.Qb(120,"label",7),d.Jc(121,"Diskon (%)"),d.Pb(),d.Qb(122,"p-inputNumber",40),d.Yb("ngModelChange",function(t){return a.item.persenDiskon=t})("onInput",function(t){return a.onChangeDiskon(t)}),d.Pb(),d.Pb(),d.Qb(123,"div",35),d.Qb(124,"label",7),d.Jc(125,"Ppn (%)"),d.Pb(),d.Qb(126,"p-inputNumber",41),d.Yb("ngModelChange",function(t){return a.item.persenPpn=t})("onInput",function(t){return a.onChangePpn(t)}),d.Pb(),d.Pb(),d.Qb(127,"div",33),d.Qb(128,"label",7),d.Jc(129,"Total"),d.Pb(),d.Qb(130,"input",42),d.Yb("ngModelChange",function(t){return a.item.total=t}),d.Pb(),d.Pb(),d.Qb(131,"div",33),d.Qb(132,"label",7),d.Jc(133,"Nobatch"),d.Pb(),d.Qb(134,"input",43),d.Yb("ngModelChange",function(t){return a.item.Nobatch=t}),d.Pb(),d.Pb(),d.Qb(135,"div",12),d.Qb(136,"label",7),d.Jc(137,"Keterangan"),d.Pb(),d.Qb(138,"input",29),d.Yb("ngModelChange",function(t){return a.item.keterangan=t}),d.Pb(),d.Pb(),d.Qb(139,"div",33),d.Qb(140,"label",7),d.Jc(141,"Tgl Exp"),d.Pb(),d.Qb(142,"p-calendar",44),d.Yb("ngModelChange",function(t){return a.item.tglExp=t}),d.Pb(),d.Pb(),d.Pb(),d.Qb(143,"div",3),d.Qb(144,"div",45),d.Qb(145,"button",46),d.Yb("click",function(){return a.tambah()}),d.Pb(),d.Pb(),d.Qb(146,"div",33),d.Qb(147,"button",47),d.Yb("click",function(){return a.batal()}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(148,"div",2),d.Qb(149,"p-table",48),d.Hc(150,x,3,1,"ng-template",49),d.Hc(151,C,5,1,"ng-template",50),d.Pb(),d.Pb(),d.Qb(152,"div",2),d.Qb(153,"div",3),d.Qb(154,"div",51),d.Qb(155,"button",52),d.Yb("click",function(){return a.save()}),d.Pb(),d.Pb(),d.Qb(156,"div",33),d.Qb(157,"button",53),d.Yb("click",function(){return a.batalGrid()}),d.Pb(),d.Pb(),d.Qb(158,"div",33),d.Qb(159,"button",54),d.Yb("click",function(){return a.Kembali()}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(160,"div",55),d.Qb(161,"div",56),d.Qb(162,"p-panel",57),d.Qb(163,"div",3),d.Qb(164,"div",6),d.Qb(165,"label",7),d.Jc(166,"Total Harga"),d.Pb(),d.Qb(167,"input",58),d.Yb("ngModelChange",function(t){return a.item.totalHarga=t}),d.Pb(),d.Pb(),d.Qb(168,"div",6),d.Qb(169,"label",7),d.Jc(170,"Total Diskon"),d.Pb(),d.Qb(171,"input",59),d.Yb("ngModelChange",function(t){return a.item.totalDiskon=t}),d.Pb(),d.Pb(),d.Qb(172,"div",6),d.Qb(173,"label",7),d.Jc(174,"Total Ppn"),d.Pb(),d.Qb(175,"input",60),d.Yb("ngModelChange",function(t){return a.item.totalPpn=t}),d.Pb(),d.Pb(),d.Qb(176,"div",6),d.Qb(177,"label",7),d.Jc(178,"Total"),d.Pb(),d.Qb(179,"input",61),d.Yb("ngModelChange",function(t){return a.item.TotalAll=t}),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&t&&(d.xb(7),d.ic("toggleable",!1),d.xb(6),d.ic("ngModel",a.item.tglPermintaan)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("maxDate",a.maxDateValue)("disabled",a.disabledEdit),d.xb(4),d.ic("ngModel",a.item.nomorPermintaan)("disabled",a.disabledEdit),d.xb(4),d.ic("ngModel",a.item.nomorKontrak)("disabled",a.disabledEdit),d.xb(4),d.ic("ngModel",a.item.tahun)("disabled",a.disabledEdit),d.xb(4),d.ic("ngModel",a.item.namaPengadaan)("disabled",a.disabledEdit),d.xb(2),d.ic("toggleable",!1),d.xb(6),d.ic("ngModel",a.item.tglTerima)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("maxDate",a.maxDateValue),d.xb(4),d.ic("ngModel",a.item.tglFaktur)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("maxDate",a.maxDateValue),d.xb(4),d.ic("ngModel",a.item.nomorTerima)("disabled",a.disabledEdit),d.xb(4),d.ic("ngModel",a.item.nomorFaktur)("disabled",a.disabledEdit),d.xb(4),d.ic("options",a.listAsalProduk)("ngModel",a.item.dataAsalProduk)("filter",!0)("showClear",!0)("disabled",a.disabledRuangan),d.xb(2),d.ic("toggleable",!1),d.xb(6),d.ic("ngModel",a.item.dataPenanggungJawab)("suggestions",a.listPegawaiPj)("dropdown",!0)("disabled",a.disabledEdit),d.xb(4),d.ic("ngModel",a.item.dataPetugasPenerima)("suggestions",a.listPegawai)("dropdown",!0)("disabled",a.disabledEdit),d.xb(4),d.ic("options",a.listRuangan)("ngModel",a.item.ruangan)("filter",!0)("showClear",!0)("disabled",a.disabledRuangan),d.xb(2),d.ic("toggleable",!1),d.xb(6),d.ic("ngModel",a.item.dataRekanan)("suggestions",a.listRekanan)("dropdown",!0)("disabled",a.disabledEdit),d.xb(4),d.ic("options",a.listKelompokProduk)("ngModel",a.item.dataKelompokProduk)("filter",!0)("showClear",!0)("disabled",a.disabledRuangan),d.xb(4),d.ic("ngModel",a.item.tglJatuhTempo)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("maxDate",a.maxDateValue)("disabled",a.disabledEdit),d.xb(4),d.ic("ngModel",a.item.Keterangan),d.xb(3),d.ic("toggleable",!1),d.xb(6),d.ic("ngModel",a.item.produk)("suggestions",a.listProduk)("dropdown",!0),d.xb(4),d.ic("options",a.listSatuan)("ngModel",a.item.satuan)("filter",!0)("showClear",!0),d.xb(4),d.ic("ngModel",a.item.nilaiKonversi),d.xb(4),d.ic("ngModel",a.item.qtyUsulan)("showButtons",!0),d.xb(4),d.ic("ngModel",a.item.jumlah)("showButtons",!0),d.xb(4),d.ic("ngModel",a.item.hargaSatuan),d.xb(4),d.ic("ngModel",a.item.persenDiskon)("showButtons",!0),d.xb(4),d.ic("ngModel",a.item.persenPpn)("showButtons",!0),d.xb(4),d.ic("ngModel",a.item.total),d.xb(4),d.ic("ngModel",a.item.Nobatch),d.xb(4),d.ic("ngModel",a.item.keterangan),d.xb(4),d.ic("ngModel",a.item.tglExp)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("maxDate",a.maxDateValue),d.xb(3),d.ic("disabled",!a.statusTambah),d.xb(4),d.ic("value",a.dataSource)("columns",a.columnGrid)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",d.mc(111,F))("paginator",!0)("pageLinks",5),d.xb(6),d.ic("disabled",a.isSimpan),d.xb(7),d.ic("toggleable",!1),d.xb(5),d.ic("ngModel",a.item.totalHarga),d.xb(4),d.ic("ngModel",a.item.totalDiskon),d.xb(4),d.ic("ngModel",a.item.totalPpn),d.xb(4),d.ic("ngModel",a.item.TotalAll))},directives:[b.a,g.a,c.g,c.h,c.a,k.a,P.a,f.a,v.a,M.b,Q.a,w.h,r.k,o.k,o.l],styles:[""]}),Y)}],N=((K=function a(){t(this,a)}).\u0275mod=d.Hb({type:K}),K.\u0275inj=d.Gb({factory:function(t){return new(t||K)},imports:[[l.j.forChild(J)],l.j]}),K),I=n("PCNd"),j=((R=function a(){t(this,a)}).\u0275mod=d.Hb({type:R}),R.\u0275inj=d.Gb({factory:function(t){return new(t||R)},imports:[[o.b,N,I.a]]}),R)}}])}();