!function(){function a(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function e(a,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{UxSD:function(t,i,n){"use strict";n.r(i),n.d(i,"OrderResepModule",function(){return Ka});var s=n("ofXK"),r=n("tyNb"),o=n("wd/R"),l=n("fXoL"),c=n("By0h"),d=n("EJUL"),u=n("7zfz"),b=n("U+s4"),p=n("G0w9"),h=n("ujBT"),m=n("dPl2"),g=n("7CaW"),k=n("eO1q"),f=n("3Pt+"),v=n("arFO"),P=n("7kUa"),Q=n("V5BG"),x=n("Ks7X"),w=n("jIHw"),y=n("xlun"),S=n("lUkA"),C=n("rEr+"),j=n("/RsI"),R=n("LuMj"),J=n("Ji6n"),M=n("Q4Mo");function K(a,e){if(1&a){var t=l.Sb();l.Qb(0,"div",52),l.Qb(1,"p-radioButton",53),l.Yb("ngModelChange",function(a){return l.yc(t),l.bc().item.jenisKemasan=a})("onClick",function(){l.yc(t);var a=l.bc();return a.clickRadio(a.item.jenisKemasan)}),l.Pb(),l.Qb(2,"label",54),l.Jc(3),l.Pb(),l.Pb()}if(2&a){var i=e.$implicit,n=l.bc();l.xb(1),l.ic("inputId",i.id)("value",i)("ngModel",n.item.jenisKemasan),l.xb(1),l.ic("for",i.id),l.xb(1),l.Kc(i.jeniskemasan)}}function D(a,e){if(1&a){var t=l.Sb();l.Qb(0,"div",19),l.Qb(1,"label",9),l.Jc(2,"Jumlah "),l.Pb(),l.Qb(3,"p-inputNumber",23),l.Yb("ngModelChange",function(a){return l.yc(t),l.bc().item.jumlahxmakan=a})("onInput",function(a){return l.yc(t),l.bc().onChangeJmlXMakan(a)}),l.Pb(),l.Pb()}if(2&a){var i=l.bc();l.xb(3),l.ic("ngModel",i.item.jumlahxmakan)("showButtons",!0)}}function T(a,e){if(1&a){var t=l.Sb();l.Qb(0,"div",19),l.Qb(1,"label",9),l.Jc(2,"Dosis "),l.Pb(),l.Qb(3,"input",55),l.Yb("ngModelChange",function(a){return l.yc(t),l.bc().item.dosis=a})("input",function(a){return l.yc(t),l.bc().onChangeJmlXMakan(a.target.value)}),l.Pb(),l.Pb()}if(2&a){var i=l.bc();l.xb(3),l.ic("ngModel",i.item.dosis)}}function F(a,e){if(1&a){var t=l.Sb();l.Qb(0,"div",19),l.Qb(1,"label",9),l.Jc(2,"Jenis Racikan "),l.Pb(),l.Qb(3,"p-dropdown",56),l.Yb("ngModelChange",function(a){return l.yc(t),l.bc().item.jenisRacikan=a}),l.Pb(),l.Pb()}if(2&a){var i=l.bc();l.xb(3),l.ic("options",i.listJenisRacikan)("ngModel",i.item.jenisRacikan)("filter",!0)("showClear",!0)}}function H(a,e){if(1&a){var t=l.Sb();l.Qb(0,"div",57),l.Qb(1,"div",5),l.Qb(2,"div",6),l.Qb(3,"p-checkbox",58),l.Yb("ngModelChange",function(a){l.yc(t);var i=e.$implicit;return l.bc().item.aturanCheck[i.id]=a})("onChange",function(){return l.yc(t),l.bc().getSelected()}),l.Pb(),l.Pb(),l.Qb(4,"div",59),l.Qb(5,"label",54),l.Jc(6),l.Pb(),l.Pb(),l.Pb(),l.Pb()}if(2&a){var i=e.$implicit,n=l.bc();l.xb(3),l.jc("inputId",i.id),l.ic("ngModel",n.item.aturanCheck[i.id]),l.xb(2),l.ic("for",i.id),l.xb(1),l.Lc(" ",i.nama,"")}}function I(a,e){if(1&a&&(l.Qb(0,"th"),l.Jc(1),l.Pb()),2&a){var t=e.$implicit;l.Fc("width: ",t.width,""),l.xb(1),l.Lc(" ",t.header," ")}}function O(a,e){if(1&a&&(l.Qb(0,"tr"),l.Lb(1,"th",60),l.Hc(2,I,2,4,"th",61),l.Pb()),2&a){var t=e.$implicit;l.xb(2),l.ic("ngForOf",t)}}function L(a,e){if(1&a&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&a){var t=l.bc().$implicit,i=l.bc().$implicit,n=l.bc();l.xb(1),l.Lc(" ",n.formatRupiah(i[t.field],""),"")}}function $(a,e){if(1&a&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&a){var t=l.bc().$implicit,i=l.bc().$implicit;l.xb(1),l.Lc(" ",i[t.field],"")}}function Y(a,e){if(1&a&&(l.Qb(0,"td"),l.Hc(1,L,2,1,"span",64),l.Hc(2,$,2,1,"span",64),l.Pb()),2&a){var t=e.$implicit;l.Fc("width: ",t.width,""),l.xb(1),l.ic("ngIf",null!=t.isCurrency),l.xb(1),l.ic("ngIf",null==t.isCurrency)}}function N(a,e){if(1&a){var t=l.Sb();l.Qb(0,"tr"),l.Qb(1,"td",60),l.Qb(2,"button",62),l.Yb("click",function(){l.yc(t);var a=e.$implicit;return l.bc().editD(a)}),l.Pb(),l.Qb(3,"button",63),l.Yb("click",function(){l.yc(t);var a=e.$implicit;return l.bc().hapusD(a)}),l.Pb(),l.Pb(),l.Hc(4,Y,3,5,"td",61),l.Pb()}if(2&a){var i=e.columns;l.xb(4),l.ic("ngForOf",i)}}function B(a,e){if(1&a&&(l.Qb(0,"tr"),l.Qb(1,"td",65),l.Jc(2,"Grand Total : "),l.Pb(),l.Qb(3,"td"),l.Jc(4),l.Pb(),l.Pb()),2&a){var t=l.bc();l.xb(4),l.Lc(" ",t.item.totalSubTotal,"")}}function A(a,e){if(1&a){var t=l.Sb();l.Qb(0,"div",66),l.Qb(1,"div",8),l.Qb(2,"span",67),l.Lb(3,"i",68),l.Qb(4,"input",69),l.Yb("input",function(a){return l.yc(t),l.bc(),l.wc(123).filterGlobal(a.target.value,"contains")}),l.Pb(),l.Pb(),l.Pb(),l.Pb()}}function G(a,e){if(1&a&&(l.Qb(0,"th",72),l.Jc(1),l.Lb(2,"p-sortIcon",73),l.Pb()),2&a){var t=e.$implicit;l.Fc("width: ",t.width,""),l.jc("pSortableColumn",t.field),l.xb(1),l.Lc(" ",t.header," "),l.xb(1),l.jc("field",t.field)}}function E(a,e){if(1&a&&(l.Qb(0,"tr"),l.Lb(1,"th",70),l.Hc(2,G,3,6,"th",71),l.Pb()),2&a){var t=e.$implicit;l.xb(2),l.ic("ngForOf",t)}}function _(a,e){if(1&a&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&a){var t=l.bc().$implicit,i=l.bc().$implicit,n=l.bc();l.xb(1),l.Lc(" ",n.formatRupiah(i[t.field],""),"")}}function U(a,e){if(1&a&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&a){var t=l.bc().$implicit,i=l.bc().$implicit;l.xb(1),l.Lc(" ",i[t.field],"")}}function V(a,e){if(1&a&&(l.Qb(0,"td"),l.Hc(1,_,2,1,"span",64),l.Hc(2,U,2,1,"span",64),l.Pb()),2&a){var t=e.$implicit;l.Fc("width: ",t.width,""),l.xb(1),l.ic("ngIf",null!=t.isCurrency),l.xb(1),l.ic("ngIf",null==t.isCurrency)}}function z(a,e){if(1&a){var t=l.Sb();l.Qb(0,"tr"),l.Qb(1,"td",70),l.Lb(2,"button",74),l.Qb(3,"button",75),l.Yb("click",function(){l.yc(t);var a=e.$implicit;return l.bc().hapusOrder(a)}),l.Pb(),l.Qb(4,"button",76),l.Yb("click",function(){l.yc(t);var a=e.$implicit;return l.bc().editOrder(a)}),l.Pb(),l.Pb(),l.Hc(5,V,3,5,"td",61),l.Pb()}if(2&a){var i=e.$implicit,n=e.columns,s=e.expanded;l.xb(2),l.ic("pRowToggler",i)("icon",s?"pi pi-chevron-down":"pi pi-chevron-right"),l.xb(3),l.ic("ngForOf",n)}}function X(a,e){1&a&&(l.Qb(0,"tr"),l.Qb(1,"th"),l.Jc(2,"Rke"),l.Pb(),l.Qb(3,"th"),l.Jc(4,"Jenis Kemasan"),l.Pb(),l.Qb(5,"th"),l.Jc(6,"Produk"),l.Pb(),l.Qb(7,"th"),l.Jc(8,"Satuan"),l.Pb(),l.Qb(9,"th"),l.Jc(10,"Aturan Pakai"),l.Pb(),l.Qb(11,"th"),l.Jc(12,"Satuan Resep"),l.Pb(),l.Qb(13,"th"),l.Jc(14,"Qty"),l.Pb(),l.Qb(15,"th"),l.Jc(16,"Tgl Exp"),l.Pb(),l.Pb())}function q(a,e){if(1&a&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Jc(2),l.Pb(),l.Qb(3,"td"),l.Jc(4),l.Pb(),l.Qb(5,"td"),l.Jc(6),l.Pb(),l.Qb(7,"td"),l.Jc(8),l.Pb(),l.Qb(9,"td"),l.Jc(10),l.Pb(),l.Qb(11,"td"),l.Jc(12),l.Pb(),l.Qb(13,"td"),l.Jc(14),l.Pb(),l.Qb(15,"td"),l.Jc(16),l.Pb(),l.Pb()),2&a){var t=e.$implicit;l.xb(2),l.Kc(t.rke),l.xb(2),l.Kc(t.jeniskemasan),l.xb(2),l.Kc(t.namaproduk),l.xb(2),l.Kc(t.satuanstandar),l.xb(2),l.Kc(t.aturanpakai),l.xb(2),l.Kc(t.satuanresep),l.xb(2),l.Kc(t.jumlah),l.xb(2),l.Kc(t.tglkadaluarsa)}}function W(a,e){if(1&a&&(l.Qb(0,"tr"),l.Qb(1,"td",77),l.Qb(2,"div",78),l.Qb(3,"p-table",79),l.Hc(4,X,17,0,"ng-template",34),l.Hc(5,q,17,8,"ng-template",35),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&a){var t=e.$implicit;l.xb(3),l.ic("value",t.details)}}function Z(a,e){if(1&a){var t=l.Sb();l.Qb(0,"div",66),l.Qb(1,"div",8),l.Qb(2,"span",67),l.Lb(3,"i",68),l.Qb(4,"input",69),l.Yb("input",function(a){return l.yc(t),l.bc(),l.wc(131).filterGlobal(a.target.value,"contains")}),l.Pb(),l.Pb(),l.Pb(),l.Pb()}}function aa(a,e){if(1&a&&(l.Qb(0,"th",72),l.Jc(1),l.Lb(2,"p-sortIcon",73),l.Pb()),2&a){var t=e.$implicit;l.Fc("width: ",t.width,""),l.jc("pSortableColumn",t.field),l.xb(1),l.Lc(" ",t.header," "),l.xb(1),l.jc("field",t.field)}}function ea(a,e){if(1&a&&(l.Qb(0,"tr"),l.Lb(1,"th",60),l.Hc(2,aa,3,6,"th",71),l.Pb()),2&a){var t=e.$implicit;l.xb(2),l.ic("ngForOf",t)}}function ta(a,e){if(1&a&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&a){var t=l.bc().$implicit,i=l.bc().$implicit,n=l.bc();l.xb(1),l.Lc(" ",n.formatRupiah(i[t.field],""),"")}}function ia(a,e){if(1&a&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&a){var t=l.bc().$implicit,i=l.bc().$implicit;l.xb(1),l.Lc(" ",i[t.field],"")}}function na(a,e){if(1&a&&(l.Qb(0,"td"),l.Hc(1,ta,2,1,"span",64),l.Hc(2,ia,2,1,"span",64),l.Pb()),2&a){var t=e.$implicit;l.Fc("width: ",t.width,""),l.xb(1),l.ic("ngIf",null!=t.isCurrency),l.xb(1),l.ic("ngIf",null==t.isCurrency)}}function sa(a,e){if(1&a&&(l.Qb(0,"tr"),l.Qb(1,"td",60),l.Lb(2,"button",74),l.Pb(),l.Hc(3,na,3,5,"td",61),l.Pb()),2&a){var t=e.$implicit,i=e.columns,n=e.expanded;l.xb(2),l.ic("pRowToggler",t)("icon",n?"pi pi-chevron-down":"pi pi-chevron-right"),l.xb(1),l.ic("ngForOf",i)}}function ra(a,e){1&a&&(l.Qb(0,"tr"),l.Qb(1,"th"),l.Jc(2,"No"),l.Pb(),l.Qb(3,"th"),l.Jc(4,"Produk"),l.Pb(),l.Qb(5,"th"),l.Jc(6,"Aturan Pakai"),l.Pb(),l.Qb(7,"th"),l.Jc(8,"Satuan"),l.Pb(),l.Qb(9,"th"),l.Jc(10,"Qty"),l.Pb(),l.Qb(11,"th"),l.Jc(12,"Kekuatan"),l.Pb(),l.Pb())}function oa(a,e){if(1&a&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Jc(2),l.Pb(),l.Qb(3,"td"),l.Jc(4),l.Pb(),l.Qb(5,"td"),l.Jc(6),l.Pb(),l.Qb(7,"td"),l.Jc(8),l.Pb(),l.Qb(9,"td"),l.Jc(10),l.Pb(),l.Qb(11,"td"),l.Jc(12),l.Pb(),l.Pb()),2&a){var t=e.$implicit;l.xb(2),l.Kc(t.no),l.xb(2),l.Kc(t.namaproduk),l.xb(2),l.Kc(t.aturanpakai),l.xb(2),l.Kc(t.satuanstandar),l.xb(2),l.Kc(t.jumlah),l.xb(2),l.Kc(t.kekuatan)}}function la(a,e){if(1&a&&(l.Qb(0,"tr"),l.Qb(1,"td",77),l.Qb(2,"div",78),l.Qb(3,"p-table",80),l.Hc(4,ra,13,0,"ng-template",34),l.Hc(5,oa,13,6,"ng-template",35),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&a){var t=e.$implicit;l.xb(3),l.ic("value",t.details)}}function ca(a,e){if(1&a){var t=l.Sb();l.Qb(0,"div",66),l.Qb(1,"div",2),l.Qb(2,"span",67),l.Lb(3,"i",68),l.Qb(4,"input",69),l.Yb("input",function(a){return l.yc(t),l.bc(),l.wc(131).filterGlobal(a.target.value,"contains")}),l.Pb(),l.Pb(),l.Pb(),l.Pb()}}function da(a,e){if(1&a&&(l.Qb(0,"th",72),l.Jc(1),l.Lb(2,"p-sortIcon",73),l.Pb()),2&a){var t=e.$implicit;l.Fc("width: ",t.width,""),l.jc("pSortableColumn",t.field),l.xb(1),l.Lc(" ",t.header," "),l.xb(1),l.jc("field",t.field)}}function ua(a,e){if(1&a&&(l.Qb(0,"tr"),l.Lb(1,"th",60),l.Hc(2,da,3,6,"th",71),l.Pb()),2&a){var t=e.$implicit;l.xb(2),l.ic("ngForOf",t)}}function ba(a,e){if(1&a&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&a){var t=l.bc().$implicit,i=l.bc().$implicit,n=l.bc();l.xb(1),l.Lc(" ",n.formatRupiah(i[t.field],""),"")}}function pa(a,e){if(1&a&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&a){var t=l.bc().$implicit,i=l.bc().$implicit;l.xb(1),l.Lc(" ",i[t.field],"")}}function ha(a,e){if(1&a&&(l.Qb(0,"td"),l.Hc(1,ba,2,1,"span",64),l.Hc(2,pa,2,1,"span",64),l.Pb()),2&a){var t=e.$implicit;l.Fc("width: ",t.width,""),l.xb(1),l.ic("ngIf",null!=t.isCurrency),l.xb(1),l.ic("ngIf",null==t.isCurrency)}}function ma(a,e){if(1&a){var t=l.Sb();l.Qb(0,"tr"),l.Qb(1,"td",60),l.Lb(2,"button",74),l.Qb(3,"button",81),l.Yb("click",function(){l.yc(t);var a=e.$implicit;return l.bc().addPaket(a)}),l.Pb(),l.Pb(),l.Hc(4,ha,3,5,"td",61),l.Pb()}if(2&a){var i=e.$implicit,n=e.columns,s=e.expanded;l.xb(2),l.ic("pRowToggler",i)("icon",s?"pi pi-chevron-down":"pi pi-chevron-right"),l.xb(2),l.ic("ngForOf",n)}}function ga(a,e){1&a&&(l.Qb(0,"tr"),l.Qb(1,"th"),l.Jc(2,"Nama Layanan"),l.Pb(),l.Pb())}function ka(a,e){if(1&a&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Jc(2),l.Pb(),l.Pb()),2&a){var t=e.$implicit;l.xb(2),l.Kc(t.namaproduk)}}function fa(a,e){if(1&a&&(l.Qb(0,"tr"),l.Qb(1,"td",82),l.Qb(2,"div",78),l.Qb(3,"p-table",83),l.Hc(4,ga,3,0,"ng-template",34),l.Hc(5,ka,3,1,"ng-template",35),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&a){var t=e.$implicit;l.xb(3),l.ic("value",t.details)}}function va(a,e){if(1&a){var t=l.Sb();l.Qb(0,"p-button",84),l.Yb("click",function(){return l.yc(t),l.bc().closePaket()}),l.Pb()}}var Pa,Qa,xa,wa=function(){return[5,10,25,50]},ya=function(){return["namaruangan","noorder","namalengkap","statusorder"]},Sa=function(){return["namaruangan","noresep","namaruangandepo","dokter"]},Ca=function(){return{width:"600px",minWidth:"600px"}},ja=function(){return["namapaket"]},Ra=[{path:"",component:(Pa=function(){function t(e,i,n,s,r,o,l,c,d){a(this,t),this.rekamMedis=e,this.apiService=i,this.authService=n,this.confirmationService=s,this.cacheHelper=r,this.dateHelper=o,this.alertService=l,this.activeRoute=c,this.router=d,this.isGranted="granted"===Notification.permission,this.item={tglresep:new Date,tglresepAkhir:new Date,aturanCheck:[],rke:1},this.skeleton=[],this.maxDateValue=new Date,this.headData={},this.dataProdukDetail=[],this.listSatuan=[],this.statusTambah=!0,this.listDataSigna=[{id:1,nama:"P",isChecked:!1},{id:2,nama:"S",isChecked:!1},{id:3,nama:"Sr",isChecked:!1},{id:4,nama:"M",isChecked:!1}],this.hrg1=0,this.columnGrid=[],this.dataSource=[],this.data2=[],this.norecOrder="",this.tambah=function(){if(0!=this.statusTambah)if(1!=this.headData.isclosing)if(0!=this.item.jumlah)if(null!=this.item.jenisKemasan)if(null!=this.item.produk)if(null!=this.item.satuan)if(null!=this.item.aturanpakaitxt){var a="";this.item.KeteranganPakai&&(a=this.item.KeteranganPakai);var e=1;"Racikan"==this.item.jenisKemasan.jeniskemasan&&(e=this.item.dosis);var t,i=null;null!=this.item.jenisRacikan&&(i=this.item.jenisRacikan.id),t=null==this.dataSource?1:this.data2.length+1;var n={};if(this.disabledRuangan=!0,null!=this.item.no)for(var s=this.data2.length-1;s>=0;s--)this.data2[s].no==this.item.no&&(n.no=this.item.no,n.noregistrasifk=this.headData.norec,n.generik=null,n.hargajual=this.item.hargaSatuan,n.jenisobatfk=i,n.stock=this.item.stok,n.harganetto=this.item.hargaSatuan,n.nostrukterimafk=this.noTerima,n.ruanganfk=this.item.ruangan.id,n.rke=this.item.rke,n.jeniskemasanfk=this.item.jenisKemasan.id,n.jeniskemasan=this.item.jenisKemasan.jeniskemasan,n.aturanpakaifk=0,n.aturanpakai=this.item.aturanpakaitxt,n.ispagi=this.item.chkp,n.issiang=this.item.chks,n.issore=this.item.chksr,n.ismalam=this.item.chkm,n.asalprodukfk=0,n.asalproduk="",n.produkfk=this.item.produk.id,n.namaproduk=this.item.produk.namaproduk,n.nilaikonversi=this.item.nilaiKonversi,n.satuanstandarfk=this.item.satuan.ssid,n.satuanstandar=this.item.satuan.satuanstandar,n.satuanviewfk=this.item.satuan.ssid,n.satuanview=this.item.satuan.satuanstandar,n.jmlstok=this.item.stok,n.jumlah=this.item.jumlah,n.hargasatuan=this.item.hargaSatuan,n.hargadiscount=0,n.total=this.item.total,n.dosis=e,n.jumlahxmakan=this.item.jumlahxmakan,n.jmldosis=String(this.item.jumlah/e)+"/"+String(e),n.keterangan=a,n.satuanresepfk=null!=this.item.satuanresep?this.item.satuanresep.id:null,n.satuanresep=null!=this.item.satuanresep?this.item.satuanresep.satuanresep:null,n.tglkadaluarsa=null!=this.tglkadaluarsa?this.tglkadaluarsa:null,n.isoutofstok=!1,n.belumlengkap=!1,this.data2[s]=n,this.dataSource=this.data2);else{n={no:t,generik:null,hargajual:this.item.hargaSatuan,jenisobatfk:i,stock:this.item.stok,harganetto:this.item.hargaSatuan,nostrukterimafk:this.noTerima,ruanganfk:this.item.ruangan.id,rke:this.item.rke,jeniskemasanfk:this.item.jenisKemasan.id,jeniskemasan:this.item.jenisKemasan.jeniskemasan,aturanpakaifk:0,aturanpakai:this.item.aturanpakaitxt,ispagi:this.item.chkp,issiang:this.item.chks,issore:this.item.chksr,ismalam:this.item.chkm,asalprodukfk:0,asalproduk:"",produkfk:this.item.produk.id,namaproduk:this.item.produk.namaproduk,nilaikonversi:this.item.nilaiKonversi,satuanstandarfk:this.item.satuan.ssid,satuanstandar:this.item.satuan.satuanstandar,satuanviewfk:this.item.satuan.ssid,satuanview:this.item.satuan.satuanstandar,jmlstok:this.item.stok,jumlah:this.item.jumlah,hargasatuan:this.item.hargaSatuan,hargadiscount:0,total:this.item.total,dosis:e,jumlahxmakan:this.item.jumlahxmakan,jmldosis:String(this.item.jumlah/e)+"/"+String(e),keterangan:a,satuanresepfk:null!=this.item.satuanresep?this.item.satuanresep.id:null,satuanresep:null!=this.item.satuanresep?this.item.satuanresep.satuanresep:null,tglkadaluarsa:null!=this.tglkadaluarsa?this.tglkadaluarsa:null,isoutofstok:!1,belumlengkap:!1},this.data2.push(n),this.dataSource=this.data2;var r=0;for(s=this.data2.length-1;s>=0;s--)r+=parseFloat(this.data2[s].total);this.item.totalSubTotal=r}"Racikan"!=this.item.jenisKemasan.jeniskemasan&&(this.item.rke=parseFloat(this.item.rke)+1),this.kosongkan(),this.clear()}else this.alertService.error("Info","Aturan Pakai Belum diisi!!");else this.alertService.error("Info","Pilih Satuan terlebih dahulu!!");else this.alertService.error("Info","Pilih Produk terlebih dahulu!!");else this.alertService.error("Info","Pilih Jenis Kemasan terlebih dahulu!!");else this.alertService.error("Info","Jumlah harus di isi!");else this.alertService.error("Info","Data Sudah Diclosing!")}}var i,n,s;return i=t,(n=[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnInit",value:function(){if(null==this.rekamMedis.header.norec){var a=this.cacheHelper.get("cacheEMR_qwertyuiop");null!=a&&(a=JSON.parse(a),this.headData=a)}else this.headData=this.rekamMedis.header;null==this.headData.norec&&window.history.back(),this.item.idPegawaiLogin=this.authService.getDataLoginUser().pegawai.id,this.listPenulisResep=[{id:this.authService.getDataLoginUser().pegawai.id,namalengkap:this.authService.getDataLoginUser().pegawai.namaLengkap}],this.item.penulisResep=this.listPenulisResep[0],this.loadDropdown(),this.loadColumn(),this.diffDays=1;var e=new Date(this.item.tglresep),t=new Date(this.item.tglresepAkhir);this.diffDays=t.getDate()-e.getDate(),this.diffDays=this.diffDays+1}},{key:"loadColumn",value:function(){this.columnGrid=[{field:"rke",header:"R/Ke",width:"100px"},{field:"jeniskemasan",header:"Kemasan",width:"120px"},{field:"jmldosis",header:"Jml/Dosis",width:"120px"},{field:"aturanpakai",header:"Aturan Pakai",width:"120px"},{field:"satuanresep",header:"Satuan Resep",width:"120px"},{field:"namaproduk",header:"Produk",width:"120px"},{field:"satuanstandar",header:"Satuan",width:"100px"},{field:"jumlah",header:"Jumlah",width:"150px"},{field:"hargasatuan",header:"Harga",width:"150px",isCurrency:!0},{field:"total",header:"Total",width:"150px",isCurrency:!0},{field:"keterangan",header:"Keterangan",width:"150px"}],this.columnRiwayat=[{field:"tglorder",header:"Tgl Order",width:"100px"},{field:"noorder",header:"No Order",width:"120px"},{field:"namalengkap",header:"Pegawai",width:"120px"},{field:"namaruangan",header:"Apotik",width:"200px"},{field:"statusorder",header:"Status",width:"100px"}],this.columnResep=[{field:"noresep",header:"No Resep",width:"100px"},{field:"tglpelayanan",header:"Tgl Resep",width:"120px"},{field:"tglorder",header:"Tgl Order",width:"120px"},{field:"noregistrasi",header:"No Registrasi",width:"100px"},{field:"dokter",header:"Penulis Resep",width:"200px"},{field:"namaruangan",header:"Ruangan",width:"150px"},{field:"namaruangandepo",header:"Apotik",width:"150px"}]}},{key:"getSelected",value:function(){var a=0;if(this.item.aturanCheck.length>0)for(var e=Object.keys(this.item.aturanCheck),t=0;t<e.length;t++){var i=e[t];1==this.item.aturanCheck[parseInt(i)]?("1"==i&&(this.item.chkp=1),"2"==i&&(this.item.chks=1),"3"==i&&(this.item.chksr=1),"4"==i&&(this.item.chkm=1)):("1"==i&&(this.item.chkp=0),"2"==i&&(this.item.chks=0),"3"==i&&(this.item.chksr=0),"4"==i&&(this.item.chkm=0))}1==this.item.chkp&&(a+=1),1==this.item.chks&&(a+=1),1==this.item.chksr&&(a+=1),1==this.item.chkm&&(a+=1),this.item.aturanpakaitxt=a+"x1",0==a&&(this.item.aturanpakaitxt="")}},{key:"formatRupiah",value:function(a,e){return e+" "+parseFloat(a).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}},{key:"loadDropdown",value:function(){var a=this;this.apiService.get("emr/get-combo-resep-emr").subscribe(function(e){a.listRuangan=e.ruanganfarmasi,a.listJenisKemasan=e.jeniskemasan,a.listAsalProduk=e.asalproduk,a.listsatuanresep=e.satuanresep,a.listJenisRacikan=e.jenisracikan,a.item.jenisKemasan=e.jeniskemasan[1],a.item.ruangan=e.ruanganfarmasi[1]})}},{key:"clickRadio",value:function(a){"Racikan"==a.jeniskemasan?(this.showRacikanDose=!0,delete this.item.jumlahxmakan,delete this.item.dosis,delete this.item.jenisRacikan,delete this.item.sediaan,delete this.item.kekuatan):this.showRacikanDose=!1}},{key:"filterProduk",value:function(a){var e=this;this.apiService.get("emr/get-produk-resep?namaproduk="+a.query).subscribe(function(a){e.listProduk=a})}},{key:"getSatuan",value:function(){null!=this.item.produk.id&&this.GETKONVERSI()}},{key:"GETKONVERSI",value:function(){var a=this;this.listSatuan=this.item.produk.konversisatuan,0==this.listSatuan.length&&(this.listSatuan=[{ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar}]),this.item.satuan={ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar},this.item.nilaiKonversi=1,null!=this.item.ruangan&&(this.statusTambah=!1,this.apiService.get("emr/get-produkdetail?produkfk="+this.item.produk.id+"&ruanganfk="+this.item.ruangan.id).subscribe(function(e){a.dataProdukDetail=e.detail,a.item.stok=e.jmlstok/a.item.nilaiKonversi,a.onChangeKonversi(),0==e.kekuatan&&(e.kekuatan=1),a.item.kekuatan=e.kekuatan,a.item.sediaan=e.sediaan,a.dataProdukDetail.length>0&&null!=a.dataSelected&&(a.item.nilaiKonversi=a.dataSelected.nilaikonversi,a.item.stok=a.dataSelected.jmlstok,a.item.jumlah=a.dataSelected.jumlah,a.item.hargaSatuan=a.dataSelected.hargasatuan,a.item.total=a.dataSelected.total,null!=a.item.kekuatan&&0!=a.item.kekuatan&&(a.item.jumlahxmakan=parseFloat(a.item.jumlah)/parseFloat(a.item.dosis)*parseFloat(a.item.kekuatan))),a.statusTambah=!0,a.gettotal()}))}},{key:"onChangeQty",value:function(a){this.item.jumlah=a.value,this.gettotal()}},{key:"onChangeJmlXMakan",value:function(a){null!=this.item.kekuatan&&0!=this.item.kekuatan||(this.item.kekuatan=1),this.item.jumlah=parseFloat(this.item.jumlahxmakan)*parseFloat(this.item.dosis)/parseFloat(this.item.kekuatan)}},{key:"onChangeKonversi",value:function(){this.item.stok=parseFloat(this.item.stok)*parseFloat(this.item.nilaiKonversi),this.item.jumlah=1,this.item.hargaSatuan=0,this.item.total=0}},{key:"getNilaiKonversi",value:function(){this.item.nilaiKonversi=this.item.satuan.nilaikonversi}},{key:"hapusD",value:function(a){for(var e=this.data2.length-1;e>=0;e--)if(this.data2[e].no==a.no){this.data2.splice(e,1);var t=0;for(e=this.data2.length-1;e>=0;e--)t+=parseFloat(this.data2[e].total),this.data2[e].no=e+1;this.dataSource=this.data2,this.item.totalSubTotal=t}"Racikan"!=this.item.jenisKemasan.jeniskemasan&&(this.item.rke=parseFloat(this.item.rke)-1),this.kosongkan()}},{key:"editD",value:function(a){var e=this;if(0!=this.statusTambah){var t=[];this.dataSelected=a,this.item.no=a.no,this.item.rke=a.rke,null!=a.jenisobatfk&&this.apiService.get("emr/get-jenis-obat?jrid="+a.jenisobatfk).subscribe(function(a){0!=a.data.length&&(e.item.jenisRacikan={id:a.data[0].id,jenisracikan:a.data[0].jenisracikan})}),null!=this.item.jenisKemasan&&this.item.jenisKemasan.id==a.jeniskemasanfk||(this.item.jenisKemasan={id:a.jeniskemasanfk,jeniskemasan:a.jeniskemasan}),this.item.satuanresep={id:a.satuanresepfk,satuanresep:a.satuanresep},this.item.jumlahxmakan=a.jumlahxmakan,this.item.dosis=a.dosis,this.item.aturanPakai={id:a.aturanpakaifk,name:a.aturanpakai},this.item.aturanpakaitxt=a.aturanpakai,this.item.KeteranganPakai=a.keterangan,this.item.aturanCheck=[],null!=a.ispagi&&"0"!=a.ispagi&&(this.item.aturanCheck[1]=!0),null!=a.issiang&&"0"!=a.issiang&&(this.item.aturanCheck[2]=!0),null!=a.issore&&"0"!=a.issore&&(this.item.aturanCheck[3]=!0),null!=a.ismalam&&"0"!=a.ismalam&&(this.item.aturanCheck[4]=!0),this.getSelected(),this.item.asal={id:a.asalprodukfk,asalproduk:a.asalproduk},this.apiService.get("emr/get-produk-resep?idproduk="+a.produkfk).subscribe(function(i){e.listProduk=i;for(var n=e.listProduk.length-1;n>=0;n--)if(e.listProduk[n].id==a.produkfk){t=e.listProduk[n];break}e.item.produk=t,e.GETKONVERSI()})}}},{key:"callFunt",value:function(){}},{key:"kosongkan",value:function(){this.dataSelected=void 0,delete this.item.produk,delete this.item.satuan,delete this.item.nilaiKonversi,delete this.item.sediaan,delete this.item.kekuatan,this.item.stok=0,this.item.jumlah=1,this.item.no=void 0,this.item.total=0,this.item.hargaSatuan=0,delete this.item.satuanresep,delete this.item.KeteranganPakai}},{key:"clear",value:function(){"Racikan"!=this.item.jenisKemasan.jeniskemasan&&delete this.item.jenisRacikan}},{key:"save",value:function(){var a=this;if(0!=this.data2.length){var e=this.item.tglresep,t=this.item.tglresepAkhir,i=t.getTime()-e.getTime();if(this.diffDays=t.getDate()-e.getDate(),this.diffDays=i/864e5+1,this.diffDays<1)this.alertService.error("Info","Tanggal Akhir tidak boleh lebih kecil!!");else{for(var n="",s=[],r=this.diffDays-1;r>=0;r--){var l=o(this.item.tglresep).toDate(),c=r;n=o(l.setDate(l.getDate()+c)).format("YYYY-MM-DD HH:mm:ss"),s.push({strukorder:{norec:this.norecOrder,tglresep:n,penulisresepfk:this.item.penulisResep.id,ruanganfk:this.item.ruangan.id,noregistrasifk:this.headData.norec,qtyproduk:this.dataSource.length,noruangan:null!=this.item.noRuang?this.item.noRuang:null,isreseppulang:0},orderfarmasi:this.data2})}this.isSimpan=!0,this.apiService.post("emr/simpan-order-pelayananobatfarmasi",{data:s}).subscribe(function(e){a.norecOrder="",a.apiService.postLog("Order Resep","Norec strukresep_t",e.noresep.norec,"Order Resep No Order - "+e.noresep.noorder+" dengan No Registrasi "+a.headData.noregistrasi).subscribe(function(a){}),a.isSimpan=!1,a.batalGrid(),a.disabledRuangan=!1,null!=a.item.noRuang&&a.cacheHelper.set("noRuangInputResep",a.item.noRuang);var t=a.headData.noregistrasi;null!=a.headData.noreservasi&&""!=a.headData.noreservasi&&"Kios-K"!=a.headData.noreservasi&&(t=a.headData.noreservasi),a.saveAntrol(t)},function(e){a.isSimpan=!1})}}else this.alertService.error("Info","Pilih Produk terlebih dahulu!!")}},{key:"gettotal",value:function(){for(var a=!1,e=0;e<this.dataProdukDetail.length;e++)if(a=!1,this.item.jumlah*parseFloat(this.item.nilaiKonversi)>0){this.hrg1=Math.round(parseFloat(this.dataProdukDetail[e].hargajual)*parseFloat(this.item.nilaiKonversi)),this.item.hargaSatuan=parseFloat(this.hrg1),this.item.total=this.item.jumlah*this.hrg1,this.noTerima=this.dataProdukDetail[e].norec,a=!0;break}0==a&&(this.item.hargaSatuan=0,this.item.total=0,this.noTerima=""),0==this.item.jumlah&&(this.item.hargaSatuan=0)}},{key:"batal",value:function(){this.kosongkan(),this.clear()}},{key:"batalGrid",value:function(){this.kosongkan(),this.clear(),this.data2=[],this.dataSource=void 0}},{key:"handleChangeTab",value:function(a){this.indexTab=a.index,0==a.index||(1==a.index?this.loadOrder():this.loadResep())}},{key:"loadResep",value:function(){var a=this;this.apiService.get("emr/get-transaksi-pelayanan?noReg="+this.headData.noregistrasi).subscribe(function(e){for(var t=[],i={data:e},n=0;n<i.data.length;n++)i.data[n].no=n+1,i.data[n].total=parseFloat(i.data[n].jumlah)*(parseFloat(i.data[n].hargasatuan)-parseFloat(i.data[n].hargadiscount)),i.data[n].total=parseFloat(i.data[n].total)+parseFloat(i.data[n].jasa),i.data[n].cekreseppulang="1"==i.data[n].reseppulang?"\u2714":"-";var s=i.data,r=!1;for(var o in s){for(var l in s[o].count=1,r=!1,t)t[l].noresep==s[o].noresep&&(r=!0,t[l].count=parseFloat(t[l].count)+parseFloat(s[o].count));if(0==r){for(var c=[],d=0;d<s.length;d++)s[o].noresep==s[d].noresep&&c.push(s[d]);t.push({noregistrasi:s[o].noregistrasi,tglpelayanan:s[o].tglpelayanan,noresep:s[o].noresep,aturanpakai:s[o].aturanpakai,namaruangandepo:s[o].namaruangandepo,namaruangan:s[o].namaruangan,dokter:s[o].dokter,count:s[o].count,cekreseppulang:s[o].cekreseppulang,details:c})}}a.dataSourceResep=t})}},{key:"editOrder",value:function(a){var e=this;"Menunggu"==a.statusorder?this.apiService.get("farmasi/get-detail-order?noorder="+a.noorder).subscribe(function(t){e.norecOrder=a.norec_order,e.item.resep=a.noorder,e.item.ruangan={id:t.strukorder.id,namaruangan:t.strukorder.namaruangan},e.item.penulisResep={id:t.strukorder.pgid,namalengkap:t.strukorder.namalengkap},e.item.tglresep=new Date(t.strukorder.tglorder),e.item.tglresepAkhir=new Date(t.strukorder.tglorder),e.data2=t.orderpelayanan;for(var i=e.data2.length-1;i>=0;i--)e.data2[i].noregistrasifk=e.headData.norec,e.data2[i].tglregistrasi=e.headData.tglregistrasi,e.data2[i].kelasfk=e.headData.objectkelasfk;e.dataSource=e.data2;var n=0;for(i=e.data2.length-1;i>=0;i--)n+=parseFloat(e.data2[i].total);e.item.totalSubTotal=n,e.indexTab=0,e.handleChangeTab({index:e.indexTab})}):this.alertService.error("Info","Tidak bisa di edit sudah di verifikasi")}},{key:"loadOrder",value:function(){var a=this;this.apiService.get("emr/get-daftar-detail-alkes?noreg="+this.headData.noregistrasi).subscribe(function(e){for(var t=e.length-1;t>=0;t--)e[t].no=t+1;a.dataSourceRiwayat=e})}},{key:"hapusOrder",value:function(a){var e=this;"Menunggu"==a.statusorder?this.apiService.post("emr/hapus-order-pelayananobatfarmasi",{norec:a.norec_order}).subscribe(function(a){e.loadOrder()}):this.alertService.error("Info","Tidak bisa di Hapus sudah di verifikasi")}},{key:"loadSkeleton",value:function(){return[{id:1,details:[{class:"p-col-2",details:[{class:"p-mb-0"}]}]},{id:2,details:[{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]}]},{id:3,details:[{class:"p-col-2",details:[{class:"p-mb-0"}]}]},{id:4,details:[{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]}]}]}},{key:"saveAntrol",value:function(a){var e={url:"antrean/updatewaktu",jenis:"antrean",method:"POST",data:{kodebooking:a,taskid:5,waktu:(new Date).getTime()}};this.apiService.postNonMessage("bridging/bpjs/tools",e).subscribe(function(a){})}}])&&e(i.prototype,n),s&&e(i,s),t}(),Pa.\u0275fac=function(a){return new(a||Pa)(l.Jb(c.a),l.Jb(d.a),l.Jb(d.b),l.Jb(u.a),l.Jb(b.a),l.Jb(p.a),l.Jb(h.a),l.Jb(r.a),l.Jb(r.f))},Pa.\u0275cmp=l.Db({type:Pa,selectors:[["app-order-resep"]],decls:149,vars:110,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[3,"activeIndex","onChange","activeIndexChange"],["header","Order Resep","leftIcon","fa fa-stethoscope"],[1,"p-grid"],[1,"p-col-12"],["header","Detail Order",3,"toggleable"],[1,"p-col-12","p-md-3"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Pelayanan","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","ngModelChange"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Pelayanan","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Penulis","optionLabel","namalengkap",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["placeholder","Ruangan ","optionLabel","namaruangan","dataKey","id",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["header","Resep",3,"toggleable"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","R/Ke ",3,"ngModel","ngModelChange"],["class","p-col-12 p-md-6 p-field-checkbox",4,"ngFor","ngForOf"],["class","p-col-12 p-md-2",4,"ngIf"],[1,"p-col-12","p-md-2"],["type","text","pInputText","","placeholder","Kekuatan",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-6"],["field","namaproduk","placeholder","Pilih Produk",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod","onSelect"],["placeholder","Jumlah","inputId","stacked",3,"ngModel","showButtons","ngModelChange","onInput"],[1,"p-col-12","p-md-4"],["placeholder","Satuan ","optionLabel","satuanstandar","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["type","text","pInputText","","placeholder","Aturan Pakai",3,"ngModel","ngModelChange"],["class","p-col-12 p-md-3 p-field-checkbox",4,"ngFor","ngForOf"],["placeholder","Satuan Resep  ","optionLabel","satuanresep","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Keterangan",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-2","p-md-offset-8"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah","label","Tambah",1,"p-button","p-button-success","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-refresh","pTooltip","Batal","label","Batal",1,"p-button","p-button-warning","p-mr-2",3,"click"],["styleClass","p-datatable-customers","scrollable","true","dataKey","no",3,"value","columns","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan Data","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-refresh","pTooltip","Batal","label","Reset",1,"p-button","p-button-danger","p-mr-2",3,"click"],["header","Riwayat Order","leftIcon","fa fa-list"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec_order","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","rowexpansion"],["header","Riwayat Resep","leftIcon","pi pi-th-large"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec_resep","selectionMode","single",3,"columns","value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields"],["dt2",""],["header","Paket",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-fluid","p-grid"],["header","Detail Paket",3,"toggleable"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec","selectionMode","single",3,"columns","value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields"],["pTemplate","footer"],[1,"p-col-12","p-md-6","p-field-checkbox"],["name","group2",3,"inputId","value","ngModel","ngModelChange","onClick"],[3,"for"],["type","text","pInputText","","placeholder","Dosis",3,"ngModel","ngModelChange","input"],["placeholder","Jenis Racikan","optionLabel","jenisracikan","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-3","p-field-checkbox"],["binary","true",3,"ngModel","inputId","ngModelChange","onChange"],[1,"p-col-12",2,"margin-top","-12px"],[2,"width","80px"],[3,"style",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit Data","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Data","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[4,"ngIf"],["rowspan","6"],[1,"table-header","p-grid"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filter",3,"input"],[2,"width","100px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-2",3,"pRowToggler","icon"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Order","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit Order","label","",1,"p-button-rounded","p-mr-2",3,"click"],["colspan","8"],[1,"p-p-3"],["dataKey","norec_order",3,"value"],["dataKey","norec_resep",3,"value"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah Paket","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["colspan","3"],["dataKey","id",3,"value"],["icon","pi pi-close","label","Tutup","styleClass","p-button-text",3,"click"]],template:function(a,e){1&a&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"h4"),l.Jc(3,"Resep Elektronik"),l.Pb(),l.Qb(4,"div",2),l.Qb(5,"p-tabView",3),l.Yb("onChange",function(a){return e.handleChangeTab(a)})("activeIndexChange",function(a){return e.indexTab=a}),l.Qb(6,"p-tabPanel",4),l.Qb(7,"div",5),l.Qb(8,"div",2),l.Qb(9,"div",5),l.Qb(10,"div",6),l.Qb(11,"p-panel",7),l.Qb(12,"div",5),l.Qb(13,"div",2),l.Qb(14,"div",5),l.Qb(15,"div",8),l.Qb(16,"label",9),l.Jc(17,"Tgl Resep "),l.Pb(),l.Qb(18,"p-calendar",10),l.Yb("ngModelChange",function(a){return e.item.tglresep=a}),l.Pb(),l.Pb(),l.Qb(19,"div",8),l.Qb(20,"label",9),l.Jc(21,"\xa0 "),l.Pb(),l.Qb(22,"p-calendar",11),l.Yb("ngModelChange",function(a){return e.item.tglresepAkhir=a}),l.Pb(),l.Pb(),l.Qb(23,"div",8),l.Qb(24,"label",9),l.Jc(25,"Penulis Resep "),l.Pb(),l.Qb(26,"p-dropdown",12),l.Yb("ngModelChange",function(a){return e.item.penulisResep=a}),l.Pb(),l.Pb(),l.Qb(27,"div",8),l.Qb(28,"label",9),l.Jc(29,"Ruangan "),l.Pb(),l.Qb(30,"p-dropdown",13),l.Yb("ngModelChange",function(a){return e.item.ruangan=a}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(31,"div",2),l.Qb(32,"p-panel",14),l.Qb(33,"div",5),l.Qb(34,"div",15),l.Qb(35,"label",9),l.Jc(36,"R/Ke "),l.Pb(),l.Qb(37,"input",16),l.Yb("ngModelChange",function(a){return e.item.rke=a}),l.Pb(),l.Pb(),l.Qb(38,"div",8),l.Qb(39,"label",9),l.Jc(40,"Jenis Kemasan "),l.Pb(),l.Qb(41,"div",5),l.Hc(42,K,4,5,"div",17),l.Pb(),l.Pb(),l.Hc(43,D,4,2,"div",18),l.Hc(44,T,4,1,"div",18),l.Hc(45,F,4,4,"div",18),l.Qb(46,"div",19),l.Qb(47,"label",9),l.Jc(48),l.Pb(),l.Qb(49,"input",20),l.Yb("ngModelChange",function(a){return e.item.kekuatan=a}),l.Pb(),l.Pb(),l.Pb(),l.Qb(50,"div",5),l.Qb(51,"div",21),l.Qb(52,"label",9),l.Jc(53,"Produk "),l.Pb(),l.Qb(54,"p-autoComplete",22),l.Yb("ngModelChange",function(a){return e.item.produk=a})("completeMethod",function(a){return e.filterProduk(a)})("onSelect",function(){return e.getSatuan()}),l.Pb(),l.Pb(),l.Qb(55,"div",19),l.Qb(56,"label",9),l.Jc(57,"Qty Obat "),l.Pb(),l.Qb(58,"p-inputNumber",23),l.Yb("ngModelChange",function(a){return e.item.jumlah=a})("onInput",function(a){return e.onChangeQty(a)}),l.Pb(),l.Pb(),l.Qb(59,"div",24),l.Qb(60,"label",9),l.Jc(61,"Satuan "),l.Pb(),l.Qb(62,"p-dropdown",25),l.Yb("ngModelChange",function(a){return e.item.satuan=a})("onChange",function(){return e.getNilaiKonversi()}),l.Pb(),l.Pb(),l.Qb(63,"div",19),l.Qb(64,"label",9),l.Jc(65,"Aturan Pakai "),l.Pb(),l.Qb(66,"input",26),l.Yb("ngModelChange",function(a){return e.item.aturanpakaitxt=a}),l.Pb(),l.Pb(),l.Qb(67,"div",19),l.Qb(68,"label",9),l.Jc(69,"\xa0 "),l.Pb(),l.Qb(70,"div",5),l.Hc(71,H,7,4,"div",27),l.Pb(),l.Pb(),l.Qb(72,"div",24),l.Qb(73,"label",9),l.Jc(74,"Satuan Resep "),l.Pb(),l.Qb(75,"p-dropdown",28),l.Yb("ngModelChange",function(a){return e.item.satuanresep=a}),l.Pb(),l.Pb(),l.Qb(76,"div",24),l.Qb(77,"label",9),l.Jc(78,"Keterangan "),l.Pb(),l.Qb(79,"input",29),l.Yb("ngModelChange",function(a){return e.item.KeteranganPakai=a}),l.Pb(),l.Pb(),l.Pb(),l.Qb(80,"div",5),l.Qb(81,"div",30),l.Qb(82,"button",31),l.Yb("click",function(){return e.tambah()}),l.Pb(),l.Pb(),l.Qb(83,"div",19),l.Qb(84,"button",32),l.Yb("click",function(){return e.batal()}),l.Pb(),l.Pb(),l.Pb(),l.Qb(85,"div",5),l.Qb(86,"div",8),l.Qb(87,"label"),l.Jc(88,"Konversi "),l.Qb(89,"b"),l.Jc(90),l.Pb(),l.Pb(),l.Pb(),l.Qb(91,"div",8),l.Qb(92,"label"),l.Jc(93,"Stok "),l.Qb(94,"b"),l.Jc(95),l.Pb(),l.Pb(),l.Pb(),l.Qb(96,"div",8),l.Qb(97,"label"),l.Jc(98,"Harga "),l.Qb(99,"b"),l.Jc(100),l.cc(101,"currency"),l.Pb(),l.Pb(),l.Pb(),l.Qb(102,"div",8),l.Qb(103,"label"),l.Jc(104,"Total "),l.Qb(105,"b"),l.Jc(106),l.cc(107,"currency"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Lb(108,"p-divider"),l.Qb(109,"div",5),l.Qb(110,"div",6),l.Qb(111,"p-table",33),l.Hc(112,O,3,1,"ng-template",34),l.Hc(113,N,5,1,"ng-template",35),l.Hc(114,B,5,1,"ng-template",36),l.Pb(),l.Pb(),l.Pb(),l.Qb(115,"div",5),l.Qb(116,"div",30),l.Qb(117,"button",37),l.Yb("click",function(){return e.save()}),l.Pb(),l.Pb(),l.Qb(118,"div",19),l.Qb(119,"button",38),l.Yb("click",function(){return e.batalGrid()}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(120,"p-tabPanel",39),l.Qb(121,"div",5),l.Qb(122,"p-table",40,41),l.Yb("selectionChange",function(a){return e.selectedData=a}),l.Hc(124,A,5,0,"ng-template",42),l.Hc(125,E,3,1,"ng-template",34),l.Hc(126,z,6,3,"ng-template",35),l.Hc(127,W,6,1,"ng-template",43),l.Pb(),l.Pb(),l.Pb(),l.Qb(128,"p-tabPanel",44),l.Qb(129,"div",5),l.Qb(130,"p-table",45,46),l.Hc(132,Z,5,0,"ng-template",42),l.Hc(133,ea,3,1,"ng-template",34),l.Hc(134,sa,4,3,"ng-template",35),l.Hc(135,la,6,1,"ng-template",43),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(136,"p-dialog",47),l.Yb("visibleChange",function(a){return e.pop_paket=a}),l.Qb(137,"div",48),l.Qb(138,"div",2),l.Qb(139,"p-panel",49),l.Qb(140,"div",5),l.Qb(141,"div",2),l.Qb(142,"p-table",50,46),l.Hc(144,ca,5,0,"ng-template",42),l.Hc(145,ua,3,1,"ng-template",34),l.Hc(146,ma,5,3,"ng-template",35),l.Hc(147,fa,6,1,"ng-template",43),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Hc(148,va,1,0,"ng-template",51),l.Pb(),l.Pb(),l.Pb()),2&a&&(l.xb(5),l.ic("activeIndex",e.indexTab),l.xb(6),l.ic("toggleable",!0),l.xb(7),l.ic("ngModel",e.item.tglresep)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1)("maxDate",e.maxDateValue),l.xb(4),l.ic("ngModel",e.item.tglresepAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),l.xb(4),l.ic("options",e.listPenulisResep)("ngModel",e.item.penulisResep)("filter",!0)("showClear",!0)("disabled",!0),l.xb(4),l.ic("options",e.listRuangan)("ngModel",e.item.ruangan)("filter",!0)("showClear",!0)("disabled",e.disabledRuangan),l.xb(2),l.ic("toggleable",!0),l.xb(5),l.ic("ngModel",e.item.rke),l.xb(5),l.ic("ngForOf",e.listJenisKemasan),l.xb(1),l.ic("ngIf",e.showRacikanDose),l.xb(1),l.ic("ngIf",e.showRacikanDose),l.xb(1),l.ic("ngIf",e.showRacikanDose),l.xb(3),l.Lc("Kekuatan ",e.item.sediaan,""),l.xb(1),l.ic("ngModel",e.item.kekuatan),l.xb(5),l.ic("ngModel",e.item.produk)("suggestions",e.listProduk)("dropdown",!0),l.xb(4),l.ic("ngModel",e.item.jumlah)("showButtons",!0),l.xb(4),l.ic("options",e.listSatuan)("ngModel",e.item.satuan)("filter",!0)("showClear",!0),l.xb(4),l.ic("ngModel",e.item.aturanpakaitxt),l.xb(5),l.ic("ngForOf",e.listDataSigna),l.xb(4),l.ic("options",e.listsatuanresep)("ngModel",e.item.satuanresep)("filter",!0)("showClear",!0),l.xb(4),l.ic("ngModel",e.item.KeteranganPakai),l.xb(3),l.ic("disabled",!e.statusTambah),l.xb(8),l.Kc(e.item.nilaiKonversi),l.xb(5),l.Kc(e.item.stok),l.xb(5),l.Kc(l.ec(101,96,e.item.hargaSatuan,"Rp ")),l.xb(6),l.Kc(l.ec(107,99,e.item.total,"Rp ")),l.xb(5),l.ic("value",e.dataSource)("columns",e.columnGrid)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",l.mc(102,wa))("paginator",!0)("pageLinks",5),l.xb(6),l.ic("disabled",e.isSimpan),l.xb(5),l.ic("columns",e.columnRiwayat)("value",e.dataSourceRiwayat)("selection",e.selectedData)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",l.mc(103,wa))("paginator",!0)("pageLinks",5)("globalFilterFields",l.mc(104,ya)),l.xb(8),l.ic("columns",e.columnResep)("value",e.dataSourceResep)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",l.mc(105,wa))("paginator",!0)("pageLinks",5)("globalFilterFields",l.mc(106,Sa)),l.xb(6),l.Ec(l.mc(107,Ca)),l.ic("visible",e.pop_paket)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),l.xb(3),l.ic("toggleable",!0),l.xb(3),l.ic("columns",e.columnPaket)("value",e.dataSourcePaket)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",l.mc(108,wa))("paginator",!0)("pageLinks",5)("globalFilterFields",l.mc(109,ja)))},directives:[m.b,m.a,g.a,k.a,f.g,f.h,v.a,f.a,P.a,s.k,s.l,Q.a,x.a,w.b,y.a,S.a,C.h,u.k,j.a,R.a,J.a,C.g,C.f,M.a,C.d,w.a],pipes:[s.c],styles:[".p-field-checkbox[_ngcontent-%COMP%], .p-field-radiobutton[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center}"]}),Pa)}],Ja=((Qa=function e(){a(this,e)}).\u0275mod=l.Hb({type:Qa}),Qa.\u0275inj=l.Gb({factory:function(a){return new(a||Qa)},imports:[[r.j.forChild(Ra)],r.j]}),Qa),Ma=n("PCNd"),Ka=((xa=function e(){a(this,e)}).\u0275mod=l.Hb({type:xa}),xa.\u0275inj=l.Gb({factory:function(a){return new(a||xa)},imports:[[s.b,Ja,Ma.a]]}),xa)}}])}();