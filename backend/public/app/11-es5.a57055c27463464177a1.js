!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"7buL":function(i,a,n){"use strict";n.d(a,"a",function(){return H});var r=n("fXoL"),o=n("xjjP"),c=n("EJUL"),s=n("7zfz"),l=n("U+s4"),u=n("G0w9"),b=n("ujBT"),p=n("tyNb"),d=n("dPl2"),h=n("rEr+"),m=n("jIHw"),f=n("xlun"),g=n("g9iH"),v=n("7kUa"),P=n("ofXK"),k=n("Q4Mo");function y(e,t){if(1&e){var i=r.Sb();r.Qb(0,"div",18),r.Qb(1,"div",19),r.Qb(2,"span",20),r.Lb(3,"i",21),r.Qb(4,"input",22),r.Yb("input",function(e){return r.yc(i),r.bc(),r.wc(10).filterGlobal(e.target.value,"contains")}),r.Pb(),r.Pb(),r.Pb(),r.Pb()}}function w(e,t){if(1&e&&(r.Qb(0,"th",25),r.Jc(1),r.Lb(2,"p-sortIcon",26),r.Pb()),2&e){var i=t.$implicit;r.Fc("width: ",i.width,""),r.jc("pSortableColumn",i.field),r.xb(1),r.Lc(" ",i.header," "),r.xb(1),r.jc("field",i.field)}}function x(e,t){if(1&e&&(r.Qb(0,"tr"),r.Lb(1,"th",23),r.Hc(2,w,3,6,"th",24),r.Pb()),2&e){var i=t.$implicit;r.xb(2),r.ic("ngForOf",i)}}function R(e,t){if(1&e&&(r.Qb(0,"span"),r.Jc(1),r.Pb()),2&e){var i=r.bc().$implicit,a=r.bc().$implicit,n=r.bc();r.xb(1),r.Lc(" ",n.formatRupiah(a[i.field],""),"")}}function Q(e,t){if(1&e&&(r.Qb(0,"span"),r.Jc(1),r.Pb()),2&e){var i=r.bc().$implicit,a=r.bc().$implicit;r.xb(1),r.Lc(" ",a[i.field],"")}}function T(e,t){if(1&e&&(r.Qb(0,"td"),r.Hc(1,R,2,1,"span",31),r.Hc(2,Q,2,1,"span",31),r.Pb()),2&e){var i=t.$implicit;r.Fc("width: ",i.width,""),r.xb(1),r.ic("ngIf",null!=i.isCurrency),r.xb(1),r.ic("ngIf",null==i.isCurrency)}}function M(e,t){if(1&e){var i=r.Sb();r.Qb(0,"tr"),r.Qb(1,"td",23),r.Lb(2,"button",27),r.Qb(3,"button",28),r.Yb("click",function(){r.yc(i);var e=t.$implicit;return r.bc().hapusPengkajian(e)}),r.Pb(),r.Qb(4,"button",29),r.Yb("click",function(){r.yc(i);var e=t.$implicit;return r.bc().editD(e)}),r.Pb(),r.Pb(),r.Hc(5,T,3,5,"td",30),r.Pb()}if(2&e){var a=t.$implicit,n=t.columns,o=t.expanded;r.xb(2),r.ic("pRowToggler",a)("icon",o?"pi pi-chevron-down":"pi pi-chevron-right"),r.xb(3),r.ic("ngForOf",n)}}function F(e,t){1&e&&(r.Qb(0,"tr"),r.Qb(1,"th"),r.Jc(2,"Form Yang terisi"),r.Pb(),r.Pb())}function E(e,t){if(1&e){var i=r.Sb();r.Qb(0,"span"),r.Jc(1),r.Qb(2,"button",28),r.Yb("click",function(){r.yc(i);var e=t.$implicit;return r.bc(3).hapusForm(e)}),r.Pb(),r.Qb(3,"button",36),r.Yb("click",function(){r.yc(i);var e=t.$implicit;return r.bc(3).asupKaForm(e)}),r.Pb(),r.Pb()}if(2&e){var a=t.$implicit;r.zb("order-badge order-instock"),r.xb(1),r.Lc(" ",a.namaform," ")}}function S(e,t){if(1&e&&(r.Qb(0,"tr"),r.Hc(1,E,4,3,"span",35),r.Pb()),2&e){var i=t.$implicit;r.xb(1),r.ic("ngForOf",i.details)}}function D(e,t){if(1&e&&(r.Qb(0,"tr"),r.Qb(1,"td",32),r.Qb(2,"div",33),r.Qb(3,"p-table",34),r.Hc(4,F,3,0,"ng-template",9),r.Hc(5,S,2,1,"ng-template",10),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e){var i=t.$implicit;r.xb(3),r.ic("value",i.details)}}var C=function(){return[5,10,25,50]},j=function(){return["namaPelayanan"]},H=function(){var i=function(){function i(t,a,n,r,o,c,s,l,u){e(this,i),this.rekamMedis=t,this.apiService=a,this.authService=n,this.confirmationService=r,this.cacheHelper=o,this.dateHelper=c,this.alertService=s,this.activeRoute=l,this.router=u,this.item={tglPelayanan:new Date,layanan:[]},this.listProdukCek=[],this.produkDef=[],this.listRuanganTujuan=[],this.skeleton=[],this.searchText="",this.selected_count=0,this.selected_games=[],this.listChecked=[],this.dataSourceRiwayat=[],this.treeSourceMenu=[],this.headData={},this.nomorERM="-",this.navDetailForm="emr-detail-form-igd",this.paramEMR="igd",this.defaultFormTujuan=210079}var a,n,r;return a=i,(n=[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnInit",value:function(){if(null==this.rekamMedis.header.norec){var e=this.cacheHelper.get("cacheEMR_qwertyuiop");null!=e&&(e=JSON.parse(e),this.headData=e,null==e.norec&&(this.headData.norec=""))}else this.headData=this.rekamMedis.header;null==this.headData.norec&&window.history.back(),this.item.idPegawaiLogin=this.authService.getDataLoginUser().pegawai.id,this.columnRiwayatPengkajian=[{field:"tglemr",header:"Tgl EMR",width:"100px"},{field:"noemr",header:"No EMR",width:"100px"},{field:"norm",header:"No RM/Id Pasien Triase",width:"180px"}],this.loadRiwayatEMR()}},{key:"handleChangeTab",value:function(e){this.indexTab=e.index,0==e.index?(this.loadRiwayatEMR(),console.log(this.activeRoute)):1==e.index&&this.loadTreeView()}},{key:"buatBaru",value:function(){this.indexTab=1,this.handleChangeTab({index:this.indexTab}),this.router.navigate([this.navDetailForm,this.defaultFormTujuan,"-"],{relativeTo:this.activeRoute}),this.nomorERM="-"}},{key:"editD",value:function(e){this.nomorERM=e.noemr,this.indexTab=1,this.handleChangeTab({index:this.indexTab}),this.router.navigate([this.navDetailForm,this.defaultFormTujuan,e.noemr],{relativeTo:this.activeRoute})}},{key:"hapusPengkajian",value:function(e){var t=this;this.nomorERM="-",this.apiService.post("emr/hapus-emr-transaksi-norec",{norec:e.norec}).subscribe(function(e){t.loadRiwayatEMR(),t.apiService.postLog("Hapus EMR","norec emrpasien_t",e.norec,"Hapus No EMR - "+e.emrpasienfk+" pada No Registrasi  "+t.headData.noregistrasi+" - Pasien : "+t.headData.namapasien).subscribe(function(e){})})}},{key:"asupKaForm",value:function(e){this.nomorERM=e.emrpasienfk,this.indexTab=1,this.handleChangeTab({index:this.indexTab}),this.router.navigate([this.navDetailForm,e.emrfk,e.emrpasienfk],{relativeTo:this.activeRoute})}},{key:"hapusForm",value:function(e){var t=this,i={noemr:e.noemr,reportdisplay:e.reportdisplay,idemr:e.emrfk,norec:e.norec,idpegawai:this.authService.getPegawaiId()};this.apiService.post("emr/disable-emr-details",i).subscribe(function(i){t.apiService.postLog("Hapus EMR","norec emrpasien_t",e.norec,"Hapus Satu Form EMR ( "+e.namaform+" ) No EMR - "+e.noemr+" pada No Registrasi  "+t.headData.noregistrasi+" - Pasien : "+t.headData.namapasien).subscribe(function(e){})})}},{key:"loadTreeView",value:function(){var e=this;this.treeSourceMenu=[],this.isLoadingNav=!0,this.apiService.get("emr/get-menu-rekam-medis-dynamic?namaemr="+this.paramEMR).subscribe(function(t){e.isLoadingNav=!1,e.treeSourceMenu=t.data})}},{key:"nodeSelect",value:function(e){var t=e.node.reportdisplay;this.router.navigate(null==t?[this.navDetailForm,e.node.id,this.nomorERM]:[t],{relativeTo:this.activeRoute})}},{key:"loadRiwayatEMR",value:function(){var e=this;this.apiService.get("emr/get-emr-transaksi-detail-form?nocm="+this.headData.nocm+"&jenisEmr="+this.paramEMR).subscribe(function(t){e.dataSourcePengkajian=t.data})}}])&&t(a.prototype,n),r&&t(a,r),i}();return i.\u0275fac=function(e){return new(e||i)(r.Jb(o.a),r.Jb(c.a),r.Jb(c.b),r.Jb(s.a),r.Jb(l.a),r.Jb(u.a),r.Jb(b.a),r.Jb(p.a),r.Jb(p.f))},i.\u0275cmp=r.Db({type:i,selectors:[["app-emr-detail-igd"]],decls:28,vars:17,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[3,"activeIndex","onChange","activeIndexChange"],["header","Riwayat Pengkajian","leftIcon","fa fa-list"],[1,"p-grid"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"p-col-12","p-md-3","p-md-offset-9"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Buat Pengkajian Baru ","label","Tambah",1,"p-button","p-mr-2",3,"click"],["header","Pengkajian Detail","leftIcon","pi pi-th-large"],[1,"p-col-12","p-md-2"],["selectionMode","single","scrollWidth","50px",3,"value","loading","selection","filter","selectionChange","onNodeSelect"],[1,"p-col-12","p-md-10"],[1,"table-header","p-grid"],[1,"p-col-12","p-md-3"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filter",3,"input"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-2",3,"pRowToggler","icon"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Data","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-check-circle","pTooltip","Edit Data","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","5"],[1,"p-p-3"],["dataKey","norec",3,"value"],[3,"class",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-check-circle","pTooltip","Masuk Ke Form (Edit)","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"h4"),r.Jc(3,"Triase Instalasi Gawat Darurat"),r.Pb(),r.Qb(4,"div",2),r.Qb(5,"p-tabView",3),r.Yb("onChange",function(e){return t.handleChangeTab(e)})("activeIndexChange",function(e){return t.indexTab=e}),r.Qb(6,"p-tabPanel",4),r.Qb(7,"div",5),r.Qb(8,"div",2),r.Qb(9,"p-table",6,7),r.Yb("selectionChange",function(e){return t.selectedData=e}),r.Hc(11,y,5,0,"ng-template",8),r.Hc(12,x,3,1,"ng-template",9),r.Hc(13,M,6,3,"ng-template",10),r.Hc(14,D,6,1,"ng-template",11),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"div",5),r.Qb(16,"div",12),r.Qb(17,"button",13),r.Yb("click",function(){return t.buatBaru()}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(18,"p-tabPanel",14),r.Qb(19,"div",5),r.Qb(20,"div",15),r.Qb(21,"div",5),r.Qb(22,"div",2),r.Qb(23,"p-tree",16),r.Yb("selectionChange",function(e){return t.selectedFile=e})("onNodeSelect",function(e){return t.nodeSelect(e)}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(24,"div",17),r.Qb(25,"div",5),r.Qb(26,"div",2),r.Lb(27,"router-outlet"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.xb(5),r.ic("activeIndex",t.indexTab),r.xb(4),r.ic("columns",t.columnRiwayatPengkajian)("value",t.dataSourcePengkajian)("selection",t.selectedData)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",r.mc(15,C))("paginator",!0)("pageLinks",5)("globalFilterFields",r.mc(16,j)),r.xb(14),r.ic("value",t.treeSourceMenu)("loading",t.isLoadingNav)("selection",t.selectedFile)("filter",!0))},directives:[d.b,d.a,h.h,s.k,m.b,f.a,g.a,p.k,v.a,P.k,h.g,h.f,k.a,h.d,P.l],styles:[""]}),i}()},xFaC:function(t,i,a){"use strict";a.r(i),a.d(i,"EmrDetailIgdModule",function(){return d});var n,r,o=a("ofXK"),c=a("tyNb"),s=a("7buL"),l=a("fXoL"),u=[{path:"",component:s.a,children:[{path:"emr-detail-form-igd/:namaEMR/:nomorEMR",loadChildren:function(){return a.e(32).then(a.bind(null,"+kjV")).then(function(e){return e.EmrDetailFormIgdModule})}}]}],b=((n=function t(){e(this,t)}).\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({factory:function(e){return new(e||n)},imports:[[c.j.forChild(u)],c.j]}),n),p=a("PCNd"),d=((r=function t(){e(this,t)}).\u0275mod=l.Hb({type:r}),r.\u0275inj=l.Gb({factory:function(e){return new(e||r)},imports:[[o.b,b,p.a]]}),r)}}])}();