!function(){function e(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function a(e,a){for(var t=0;t<a.length;t++){var i=a[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{"2PvT":function(t,i,r){"use strict";r.r(i),r.d(i,"VBedModule",function(){return N});var n=r("ofXK"),o=r("tyNb"),s=r("fXoL"),c=r("EJUL"),d=r("ujBT"),l=r("7LiV"),p=r("3Pt+"),b=r("7kUa"),u=r("jIHw"),h=r("Q4Mo"),f=r("xlun"),m=r("rEr+"),g=r("7zfz");function P(e,a){if(1&e&&(s.Qb(0,"th"),s.Jc(1),s.Pb()),2&e){var t=a.$implicit;s.Fc("width: ",t.width,""),s.xb(1),s.Lc(" ",t.header," ")}}function w(e,a){if(1&e&&(s.Qb(0,"tr"),s.Hc(1,P,2,4,"th",27),s.Pb()),2&e){var t=a.$implicit;s.xb(1),s.ic("ngForOf",t)}}function v(e,a){if(1&e&&(s.Qb(0,"td"),s.Qb(1,"span",29),s.Jc(2),s.Pb(),s.Jc(3),s.Pb()),2&e){var t=a.$implicit,i=s.bc().$implicit;s.Fc("width: ",t.width,""),s.xb(2),s.Lc(" ",t.header," "),s.xb(1),s.Lc(" ",i[t.field]," ")}}function k(e,a){if(1&e&&(s.Qb(0,"tr",28),s.Hc(1,v,4,5,"td",27),s.Pb()),2&e){var t=a.columns,i=a.rowIndex;s.ic("pSelectableRow",a.$implicit)("pSelectableRowIndex",i),s.xb(1),s.ic("ngForOf",t)}}function x(e,a){if(1&e&&(s.Qb(0,"th"),s.Jc(1),s.Pb()),2&e){var t=a.$implicit;s.Fc("width: ",t.width,""),s.xb(1),s.Lc(" ",t.header," ")}}function Q(e,a){if(1&e&&(s.Qb(0,"tr"),s.Qb(1,"th",30),s.Jc(2,"Aksi"),s.Pb(),s.Hc(3,x,2,4,"th",27),s.Pb()),2&e){var t=a.$implicit;s.xb(3),s.ic("ngForOf",t)}}function S(e,a){if(1&e&&(s.Qb(0,"td"),s.Qb(1,"span",29),s.Jc(2),s.Pb(),s.Jc(3),s.Pb()),2&e){var t=a.$implicit,i=s.bc().$implicit;s.Fc("width: ",t.width,""),s.xb(2),s.Lc(" ",t.header," "),s.xb(1),s.Lc(" ",i[t.field]," ")}}function y(e,a){if(1&e){var t=s.Sb();s.Qb(0,"tr",28),s.Qb(1,"td",30),s.Qb(2,"button",31),s.Yb("click",function(){s.yc(t);var e=a.$implicit;return s.bc().removeData(e)}),s.Pb(),s.Pb(),s.Hc(3,S,4,5,"td",27),s.Pb()}if(2&e){var i=a.columns,r=a.rowIndex;s.ic("pSelectableRow",a.$implicit)("pSelectableRowIndex",r),s.xb(3),s.ic("ngForOf",i)}}var T=function(){return{width:"200px"}};function K(e,a){if(1&e){var t=s.Sb();s.Qb(0,"div",32),s.Qb(1,"span",33),s.Lb(2,"i",34),s.Qb(3,"input",35),s.Yb("input",function(e){return s.yc(t),s.bc(),s.wc(55).filterGlobal(e.target.value,"contains")}),s.Pb(),s.Pb(),s.Pb()}2&e&&(s.xb(3),s.Ec(s.mc(2,T)))}function R(e,a){if(1&e&&(s.Qb(0,"th"),s.Jc(1),s.Pb()),2&e){var t=a.$implicit;s.Fc("width: ",t.width,""),s.xb(1),s.Lc(" ",t.header," ")}}function M(e,a){if(1&e&&(s.Qb(0,"tr"),s.Hc(1,R,2,4,"th",27),s.Pb()),2&e){var t=a.$implicit;s.xb(1),s.ic("ngForOf",t)}}function L(e,a){if(1&e&&(s.Qb(0,"td"),s.Qb(1,"span",29),s.Jc(2),s.Pb(),s.Jc(3),s.Pb()),2&e){var t=a.$implicit,i=s.bc().$implicit;s.Fc("width: ",t.width,""),s.xb(2),s.Lc(" ",t.header," "),s.xb(1),s.Lc(" ",i[t.field]," ")}}function H(e,a){if(1&e&&(s.Qb(0,"tr",28),s.Hc(1,L,4,5,"td",27),s.Pb()),2&e){var t=a.columns,i=a.rowIndex;s.ic("pSelectableRow",a.$implicit)("pSelectableRowIndex",i),s.xb(1),s.ic("ngForOf",t)}}var I,J,F,j=function(){return[5,10,25,50]},C=function(){return["namakelas"]},O=[{path:"",component:(I=function(){function t(a,i){e(this,t),this.apiService=a,this.alertService=i,this.dataSource=[],this.dataSource2=[],this.dataSource3=[],this.column3=[],this.column2=[],this.item={start:0,limit:100}}var i,r,n;return i=t,(r=[{key:"ngOnInit",value:function(){var e=this;this.column=[{field:"kodekelas",header:"Kode Kelas",width:"100px"},{field:"namakelas",header:"Kelas",width:"150px",filter:!0},{field:"koderuang",header:"Kode Ruang",width:"100px",filter:!0},{field:"namaruang",header:"Nama Ruang",width:"250px",filter:!0},{field:"kapasitas",header:"Kapasitas",width:"150px"},{field:"tersedia",header:"Tersedia",width:"150px"},{field:"tersediapria",header:"Tersedia Pria",width:"150px"},{field:"tersediawanita",header:"Tersedia Wanita",width:"150px"},{field:"tersediapriawanita",header:"Tersedia Pria Wanita",width:"150px"},{field:"rownumber",header:"Row",width:"80px"},{field:"lastupdate",header:"Tgl Update",width:"150px"}],this.column2=[{field:"no",header:"No",width:"40px"},{field:"kodekelas",header:"Kode",width:"100px"},{field:"namakelas",header:"Kelas",width:"150px"}],this.column3=[{field:"kodekelas",header:"Kode Kelas",width:"100px"},{field:"namakelas",header:"Kelas",width:"150px",filter:!0},{field:"koderuang",header:"Kode Ruang",width:"100px",filter:!0},{field:"namaruang",header:"Nama Ruang",width:"250px",filter:!0},{field:"kapasitas",header:"Kapasitas",width:"150px"},{field:"tersedia",header:"Tersedia",width:"150px"},{field:"tersediapria",header:"Tersedia Pria",width:"150px"},{field:"tersediawanita",header:"Tersedia Wanita",width:"150px"},{field:"tersediapriawanita",header:"Tersedia Pria Wanita",width:"150px"}],this.item.kodePPK="",this.apiService.get("registrasi/get-setting-asuransi").subscribe(function(a){e.item.kodePPK=a.kodePPKRujukan}),this.dataSource2=[],this.apiService.postNonMessage("bridging/bpjs/tools",{url:"aplicaresws/rest/ref/kelas",method:"GET",data:null,jenis:"aplicares"}).subscribe(function(a){for(var t=0;t<a.response.list.length;t++)a.response.list[t].no=t+1;e.dataSource2=a.response.list}),this.cariLokal()}},{key:"cari",value:function(){var e=this,a={url:"aplicaresws/rest/bed/read/".concat(this.item.kodePPK,"/").concat(this.item.start,"/").concat(this.item.limit),method:"GET",data:null,jenis:"aplicares"};this.dataSource=[],this.apiService.postNonMessage("bridging/bpjs/tools",a).subscribe(function(a){for(var t=0;t<a.response.list.length;t++)a.response.list[t].no=t+1;e.dataSource=a.response.list})}},{key:"cariLokal",value:function(){var e=this,a="",t="";this.item.kelas&&(a=this.item.kelas),this.item.namaruangan&&(t=this.item.namaruangan),this.apiService.get("bridging/bpjs/aplicare?namaruangan="+t+"&kelas="+a).subscribe(function(a){for(var t=0;t<a.length;t++)a[t].no=t+1;e.dataSource3=a})}},{key:"clear",value:function(e){e.clear()}},{key:"removeData",value:function(e){var a=this;this.apiService.postNonMessage("bridging/bpjs/tools",{url:"aplicaresws/rest/bed/delete/"+this.item.kodePPK,method:"POST",data:{kodekelas:e.kodekelas,koderuang:e.koderuang},jenis:"aplicares"}).subscribe(function(e){1==e.metadata.code?(a.cari(),a.alertService.success("Info",e.metadata.message)):a.alertService.error("Info",e.metadata.message)})}},{key:"create",value:function(){for(var e=this,a=0;a<this.dataSource3.length;a++){var t=this.dataSource3[a];this.apiService.postNonMessage("bridging/bpjs/tools",{url:"aplicaresws/rest/bed/create/"+this.item.kodePPK,method:"POST",data:{kodekelas:t.kodekelas,koderuang:t.koderuang,namaruang:t.namaruang,kapasitas:t.kapasitas,tersedia:t.tersedia,tersediapria:t.tersediapria,tersediawanita:t.tersediawanita,tersediapriawanita:t.tersediapriawanita},jenis:"aplicares"}).subscribe(function(a){1==a.metadata.code?e.alertService.success("Info",a.metadata.message):e.alertService.error("Info",a.metadata.message)})}}},{key:"update",value:function(){for(var e=this,a=0;a<this.dataSource3.length;a++){var t=this.dataSource3[a];this.apiService.postNonMessage("bridging/bpjs/tools",{url:"aplicaresws/rest/bed/update/"+this.item.kodePPK,method:"POST",data:{kodekelas:t.kodekelas,koderuang:t.koderuang,namaruang:t.namaruang,kapasitas:t.kapasitas,tersedia:t.tersedia,tersediapria:t.tersediapria,tersediawanita:t.tersediawanita,tersediapriawanita:t.tersediapriawanita},jenis:"aplicares"}).subscribe(function(a){1==a.metadata.code?e.alertService.success("Info",a.metadata.message):e.alertService.error("Info",a.metadata.message)})}}}])&&a(i.prototype,r),n&&a(i,n),t}(),I.\u0275fac=function(e){return new(e||I)(s.Jb(c.a),s.Jb(d.a))},I.\u0275cmp=s.Db({type:I,selectors:[["app-v-bed"]],decls:59,vars:31,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-12"],["header","Update Ketersediaan Kamar"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["type","text","pInputText","","placeholder","Ruangan ",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Kelas ",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search",1,"p-button-primary","p-mr-1",3,"click"],["pButton","","pRipple","","type","button","pTooltip","Create Baru Ruangan","label","Create","icon","pi pi-save",1,"p-button-success","p-mr-1",3,"click"],["pButton","","pRipple","","type","button","label","Update","pTooltip","Update Ketersediaan","icon","pi pi-refresh",1,"p-button-danger","p-mr-1",3,"click"],[1,"p-col-12"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollable","true",3,"columns","value","rowHover","rows","rowsPerPageOptions","paginator","pageLinks"],["pTemplate","header"],["pTemplate","body"],["header","List Ketersediaan Kamar RS"],[1,"p-col-12","p-md-3"],["type","text","pInputText","","placeholder","PPK",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Start ",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Limit ",3,"ngModel","ngModelChange"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollable","true","scrollable","true",3,"columns","value","rowHover","rows","rowsPerPageOptions","paginator","pageLinks"],["header","Referensi Kamar"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollable","true",3,"columns","value","rowHover","rows","rowsPerPageOptions","paginator","pageLinks","globalFilterFields"],["dt1",""],["pTemplate","caption"],[3,"style",4,"ngFor","ngForOf"],[3,"pSelectableRow","pSelectableRowIndex"],[1,"p-column-title"],[2,"width","40px"],["pButton","","type","button","icon","fa fa-trash","pTooltip","Hapus","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[1,"table-header"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filter",3,"input"]],template:function(e,a){1&e&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"h4"),s.Jc(3,"Referensi"),s.Pb(),s.Qb(4,"div",2),s.Qb(5,"div",3),s.Qb(6,"p-accordion"),s.Qb(7,"p-accordionTab",4),s.Qb(8,"div",2),s.Qb(9,"div",3),s.Qb(10,"div",2),s.Qb(11,"div",5),s.Qb(12,"label",6),s.Jc(13,"Ruangan "),s.Pb(),s.Qb(14,"input",7),s.Yb("ngModelChange",function(e){return a.item.namaruangan=e}),s.Pb(),s.Pb(),s.Qb(15,"div",5),s.Qb(16,"label",6),s.Jc(17,"Kelas "),s.Pb(),s.Qb(18,"input",8),s.Yb("ngModelChange",function(e){return a.item.kelas=e}),s.Pb(),s.Pb(),s.Qb(19,"div",9),s.Qb(20,"button",10),s.Yb("click",function(){return a.cariLokal()}),s.Pb(),s.Pb(),s.Qb(21,"div",9),s.Qb(22,"button",11),s.Yb("click",function(){return a.create()}),s.Pb(),s.Pb(),s.Qb(23,"div",9),s.Qb(24,"button",12),s.Yb("click",function(){return a.update()}),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(25,"div",13),s.Qb(26,"p-table",14),s.Hc(27,w,2,1,"ng-template",15),s.Hc(28,k,2,3,"ng-template",16),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(29,"p-accordionTab",17),s.Qb(30,"div",2),s.Qb(31,"div",3),s.Qb(32,"div",2),s.Qb(33,"div",18),s.Qb(34,"label",6),s.Jc(35,"Kode Faskes "),s.Pb(),s.Qb(36,"input",19),s.Yb("ngModelChange",function(e){return a.item.kodePPK=e}),s.Pb(),s.Pb(),s.Qb(37,"div",5),s.Qb(38,"label",6),s.Jc(39,"Start "),s.Pb(),s.Qb(40,"input",20),s.Yb("ngModelChange",function(e){return a.item.start=e}),s.Pb(),s.Pb(),s.Qb(41,"div",5),s.Qb(42,"label",6),s.Jc(43,"Limit "),s.Pb(),s.Qb(44,"input",21),s.Yb("ngModelChange",function(e){return a.item.limit=e}),s.Pb(),s.Pb(),s.Qb(45,"div",9),s.Qb(46,"button",10),s.Yb("click",function(){return a.cari()}),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(47,"div",13),s.Qb(48,"p-table",22),s.Hc(49,Q,4,1,"ng-template",15),s.Hc(50,y,4,3,"ng-template",16),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(51,"p-accordionTab",23),s.Qb(52,"div",2),s.Qb(53,"div",13),s.Qb(54,"p-table",24,25),s.Hc(56,K,4,3,"ng-template",26),s.Hc(57,M,2,1,"ng-template",15),s.Hc(58,H,2,3,"ng-template",16),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.xb(14),s.ic("ngModel",a.item.namaruangan),s.xb(4),s.ic("ngModel",a.item.kelas),s.xb(8),s.ic("columns",a.column3)("value",a.dataSource3)("rowHover",!0)("rows",20)("rowsPerPageOptions",s.mc(27,j))("paginator",!0)("pageLinks",5),s.xb(10),s.ic("ngModel",a.item.kodePPK),s.xb(4),s.ic("ngModel",a.item.start),s.xb(4),s.ic("ngModel",a.item.limit),s.xb(4),s.ic("columns",a.column)("value",a.dataSource)("rowHover",!0)("rows",20)("rowsPerPageOptions",s.mc(28,j))("paginator",!0)("pageLinks",5),s.xb(6),s.ic("columns",a.column2)("value",a.dataSource2)("rowHover",!0)("rows",20)("rowsPerPageOptions",s.mc(29,j))("paginator",!0)("pageLinks",5)("globalFilterFields",s.mc(30,C)))},directives:[l.a,l.c,p.a,b.a,p.g,p.h,u.b,h.a,f.a,m.h,g.k,n.k,m.e],styles:[""]}),I)}],$=((J=function a(){e(this,a)}).\u0275mod=s.Hb({type:J}),J.\u0275inj=s.Gb({factory:function(e){return new(e||J)},imports:[[o.j.forChild(O)],o.j]}),J),Y=r("PCNd"),N=((F=function a(){e(this,a)}).\u0275mod=s.Hb({type:F}),F.\u0275inj=s.Gb({factory:function(e){return new(e||F)},imports:[[n.b,$,Y.a]]}),F)}}])}();