(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{vj3g:function(t,a,e){"use strict";e.r(a),e.d(a,"SisruteModule",function(){return I});var n=e("ofXK"),i=e("tyNb"),o=e("wd/R"),b=e("fXoL"),r=e("EJUL"),l=e("7zfz"),u=e("U+s4"),c=e("G0w9"),A=e("ujBT"),s=e("dPl2"),N=e("eO1q"),d=e("3Pt+"),p=e("7kUa"),P=e("jIHw"),g=e("xlun"),h=e("rEr+"),m=e("Q4Mo");function S(t,a){if(1&t){const t=b.Sb();b.Qb(0,"div",17),b.Qb(1,"button",18),b.Yb("click",function(){return b.yc(t),b.bc().exportExcel()}),b.Pb(),b.Pb()}}function J(t,a){1&t&&(b.Qb(0,"tr"),b.Qb(1,"th"),b.Jc(2,"No"),b.Pb(),b.Qb(3,"th"),b.Jc(4,"No Rujukan"),b.Pb(),b.Qb(5,"th"),b.Jc(6,"Nama / No Kontak"),b.Pb(),b.Qb(7,"th"),b.Jc(8,"Tgl Rujuk / Asal RS"),b.Pb(),b.Qb(9,"th"),b.Jc(10,"Alasan Merujuk"),b.Pb(),b.Qb(11,"th"),b.Jc(12,"Diagnosa"),b.Pb(),b.Qb(13,"th"),b.Jc(14,"Status"),b.Pb(),b.Pb())}function Q(t,a){if(1&t&&(b.Qb(0,"tr"),b.Qb(1,"td"),b.Jc(2),b.Pb(),b.Qb(3,"td"),b.Jc(4),b.Pb(),b.Qb(5,"td"),b.Jc(6),b.Pb(),b.Qb(7,"td"),b.Jc(8),b.Pb(),b.Qb(9,"td"),b.Jc(10),b.Pb(),b.Qb(11,"td"),b.Jc(12),b.Pb(),b.Qb(13,"td"),b.Jc(14),b.Pb(),b.Pb()),2&t){const t=a.$implicit;b.xb(2),b.Kc(t.no),b.xb(2),b.Kc(t.norujukan),b.xb(2),b.Kc(t.namakontak),b.xb(2),b.Kc(t.tglasal),b.xb(2),b.Kc(t.alasan),b.xb(2),b.Kc(t.diagnosa),b.xb(2),b.Kc(t.status)}}function k(t,a){if(1&t){const t=b.Sb();b.Qb(0,"div",17),b.Qb(1,"button",18),b.Yb("click",function(){return b.yc(t),b.bc().exportExcel2()}),b.Pb(),b.Pb()}}function R(t,a){1&t&&(b.Qb(0,"tr"),b.Qb(1,"th"),b.Jc(2,"No"),b.Pb(),b.Qb(3,"th"),b.Jc(4,"No Rujukan"),b.Pb(),b.Qb(5,"th"),b.Jc(6,"Nama / No Kontak"),b.Pb(),b.Qb(7,"th"),b.Jc(8,"Tgl / Tujuan RS"),b.Pb(),b.Qb(9,"th"),b.Jc(10,"Alasan Merujuk"),b.Pb(),b.Qb(11,"th"),b.Jc(12,"Diagnosa"),b.Pb(),b.Qb(13,"th"),b.Jc(14,"Status"),b.Pb(),b.Pb())}function K(t,a){if(1&t&&(b.Qb(0,"tr"),b.Qb(1,"td"),b.Jc(2),b.Pb(),b.Qb(3,"td"),b.Jc(4),b.Pb(),b.Qb(5,"td"),b.Jc(6),b.Pb(),b.Qb(7,"td"),b.Jc(8),b.Pb(),b.Qb(9,"td"),b.Jc(10),b.Pb(),b.Qb(11,"td"),b.Jc(12),b.Pb(),b.Qb(13,"td"),b.Jc(14),b.Pb(),b.Pb()),2&t){const t=a.$implicit;b.xb(2),b.Kc(t.no),b.xb(2),b.Kc(t.norujukan),b.xb(2),b.Kc(t.namakontak),b.xb(2),b.Kc(t.tglasal),b.xb(2),b.Kc(t.alasan),b.xb(2),b.Kc(t.diagnosa),b.xb(2),b.Kc(t.status)}}const f=function(){return[5,10,25,50]},U=[{path:"",component:(()=>{class t{constructor(t,a,e,n,i,o,b,r){this.apiService=t,this.authService=a,this.messageService=e,this.cacheHelper=n,this.helper=i,this.alertService=o,this.route=b,this.router=r,this.dataSource=[],this.dataSource2=[],this.listNum=[{id:"N",name:"Numerator"},{id:"D",name:"Denumerator"}],this.item={tglAwal:new Date,tglAkhir:new Date,tglLap:new Date}}ngOnInit(){this.loadData()}exportExcel(){}loadData(){var t="";null!=this.item.tglRujukan&&(t=o(this.item.tglRujukan).format("YYYY-MM-DD"));var a="";null!=this.item.noRujukan&&(a=this.item.noRujukan),this.apiService.get("bridging/sisrute/rujukan/get?nomor="+a+"&tanggal="+t).subscribe(t=>{if(null!=t.total&&t.total>0){this.alertService.info("Success",t.total+" "+t.detail);var a=t.data;for(let t=0;t<a.length;t++){if(a[t].no=t+1,a[t].nocm=a[t].PASIEN.NORM,a[t].namapasien=a[t].PASIEN.NAMA,a[t].norujukan=a[t].RUJUKAN.NOMOR,a[t].tglrujukan=a[t].RUJUKAN.TANGGAL,a[t].faskesasal=a[t].RUJUKAN.FASKES_ASAL.NAMA,a[t].faskestujuan=a[t].RUJUKAN.FASKES_TUJUAN.NAMA,a[t].status=a[t].RUJUKAN.STATUS.NAMA,"Sudah direspon"==a[t].RUJUKAN.STATUS.NAMA&&"Belum direspon"==a[t].RUJUKAN.STATUS.NAMA)var e="";null!=a[t].PASIEN.KONTAK&&" "!=a[t].PASIEN.KONTAK&&(e=" / "+a[t].PASIEN.KONTAK),a[t].namakontak=null!=a[t].PASIEN.JENIS_KELAMIN?a[t].PASIEN.NAMA+e+" / "+a[t].PASIEN.JENIS_KELAMIN.NAMA+" / "+a[t].PASIEN.TANGGAL_LAHIR:a[t].PASIEN.NAMA+e+" / "+a[t].PASIEN.TANGGAL_LAHIR,a[t].tglasal=a[t].RUJUKAN.TANGGAL+" / "+a[t].RUJUKAN.FASKES_ASAL.NAMA,a[t].diagnosa=null!=a[t].RUJUKAN.DIAGNOSA?a[t].RUJUKAN.DIAGNOSA.NAMA:"-",a[t].alasan=a[t].RUJUKAN.ALASAN.NAMA+" / "+a[t].RUJUKAN.ALASAN_LAINNYA}}else this.alertService.error("Info",null!=t.detail?t.detail:t.metaData.message);this.dataSource=a})}cari2(){this.loadData2()}loadData2(){var t="";null!=this.item.tglRujukan&&(t=o(this.item.tglRujukan).format("YYYY-MM-DD"));var a="";null!=this.item.noRujukan&&(a=this.item.noRujukan);var e="";1==this.item.create&&(e=this.item.create),this.apiService.get("bridging/sisrute/rujukan/get?create="+e+"nomor="+a+"&tanggal="+t).subscribe(t=>{if(null!=t.total&&t.total>0){this.alertService.info("Info",t.total+" "+t.detail);var a=t.data;for(let t=0;t<a.length;t++){a[t].no=t+1,a[t].nocm=a[t].PASIEN.NORM,a[t].namapasien=a[t].PASIEN.NAMA,a[t].norujukan=a[t].RUJUKAN.NOMOR,a[t].tglrujukan=a[t].RUJUKAN.TANGGAL,a[t].faskesasal=a[t].RUJUKAN.FASKES_ASAL.NAMA,a[t].faskestujuan=a[t].RUJUKAN.FASKES_TUJUAN.NAMA,a[t].status=a[t].RUJUKAN.STATUS.NAMA;var e="";null!=a[t].PASIEN.KONTAK&&" "!=a[t].PASIEN.KONTAK&&(e=" / "+a[t].PASIEN.KONTAK),a[t].namakontak=null!=a[t].PASIEN.JENIS_KELAMIN?a[t].PASIEN.NAMA+e+" / "+a[t].PASIEN.JENIS_KELAMIN.NAMA+" / "+a[t].PASIEN.TANGGAL_LAHIR:a[t].PASIEN.NAMA+e+" / "+a[t].PASIEN.TANGGAL_LAHIR,a[t].tglasal=a[t].RUJUKAN.TANGGAL+" / "+a[t].RUJUKAN.FASKES_TUJUAN.NAMA,a[t].diagnosa=null!=a[t].RUJUKAN.DIAGNOSA?a[t].RUJUKAN.DIAGNOSA.NAMA:"-",a[t].alasan=a[t].RUJUKAN.ALASAN.NAMA+" / "+a[t].RUJUKAN.ALASAN_LAINNYA,a[t].infobalik=""}}else this.alertService.error("Info",null!=t.detail?t.detail:t.metaData.message);this.dataSource2=a})}cari(){this.loadData()}exportExcel2(){}}return t.\u0275fac=function(a){return new(a||t)(b.Jb(r.a),b.Jb(r.b),b.Jb(l.h),b.Jb(u.a),b.Jb(c.a),b.Jb(A.a),b.Jb(i.a),b.Jb(i.f))},t.\u0275cmp=b.Db({type:t,selectors:[["app-sisrute"]],decls:45,vars:28,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-12"],["header","Rujukan Masuk","leftIcon","fa fa-th-list"],[1,"p-col-12"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["type","text","pInputText","","placeholder","No Rujukan",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",1,"p-button-primary","p-mr-1",3,"click"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","responsiveLayout","scroll",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Rujukan Keluar","leftIcon","fa fa-list"],[1,"p-d-flex"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","pTooltip","XLS","tooltipPosition","bottom",1,"p-button-success","p-mr-2",3,"click"]],template:function(t,a){1&t&&(b.Qb(0,"div",0),b.Qb(1,"div",1),b.Qb(2,"h4"),b.Jc(3,"Sisrute "),b.Pb(),b.Qb(4,"div",2),b.Qb(5,"div",3),b.Qb(6,"p-tabView"),b.Qb(7,"p-tabPanel",4),b.Qb(8,"div",5),b.Qb(9,"div",2),b.Qb(10,"div",6),b.Qb(11,"label",7),b.Jc(12,"Tgl Rujukan"),b.Pb(),b.Qb(13,"p-calendar",8),b.Yb("ngModelChange",function(t){return a.item.tglRujukan=t}),b.Pb(),b.Pb(),b.Qb(14,"div",6),b.Qb(15,"label",7),b.Jc(16,"No Rujukan"),b.Pb(),b.Qb(17,"input",9),b.Yb("ngModelChange",function(t){return a.item.noRujukan=t}),b.Pb(),b.Pb(),b.Qb(18,"div",10),b.Qb(19,"button",11),b.Yb("click",function(){return a.cari()}),b.Pb(),b.Pb(),b.Pb(),b.Qb(20,"div",2),b.Qb(21,"div",5),b.Qb(22,"p-table",12),b.Hc(23,S,2,0,"ng-template",13),b.Hc(24,J,15,0,"ng-template",14),b.Hc(25,Q,15,7,"ng-template",15),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(26,"p-tabPanel",16),b.Qb(27,"div",5),b.Qb(28,"div",2),b.Qb(29,"div",6),b.Qb(30,"label",7),b.Jc(31,"Tgl Rujukan"),b.Pb(),b.Qb(32,"p-calendar",8),b.Yb("ngModelChange",function(t){return a.item.tglRujukan=t}),b.Pb(),b.Pb(),b.Qb(33,"div",6),b.Qb(34,"label",7),b.Jc(35,"No Rujukan"),b.Pb(),b.Qb(36,"input",9),b.Yb("ngModelChange",function(t){return a.item.noRujukan=t}),b.Pb(),b.Pb(),b.Qb(37,"div",10),b.Qb(38,"button",11),b.Yb("click",function(){return a.cari2()}),b.Pb(),b.Pb(),b.Pb(),b.Qb(39,"div",2),b.Qb(40,"div",5),b.Qb(41,"p-table",12),b.Hc(42,k,2,0,"ng-template",13),b.Hc(43,R,15,0,"ng-template",14),b.Hc(44,K,15,7,"ng-template",15),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb()),2&t&&(b.xb(13),b.ic("ngModel",a.item.tglRujukan)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),b.xb(4),b.ic("ngModel",a.item.noRujukan),b.xb(5),b.ic("value",a.dataSource)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",b.mc(26,f))("paginator",!0)("pageLinks",5),b.xb(10),b.ic("ngModel",a.item.tglRujukan)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),b.xb(4),b.ic("ngModel",a.item.noRujukan),b.xb(5),b.ic("value",a.dataSource2)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",b.mc(27,f))("paginator",!0)("pageLinks",5))},directives:[s.b,s.a,N.a,d.g,d.h,d.a,p.a,P.b,g.a,h.h,l.k,m.a],styles:[""]}),t})()}];let v=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(a){return new(a||t)},imports:[[i.j.forChild(U)],i.j]}),t})();var M=e("PCNd");let I=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(a){return new(a||t)},imports:[[n.b,v,M.a]]}),t})()}}]);