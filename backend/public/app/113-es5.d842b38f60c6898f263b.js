!function(){function e(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function a(e,a){for(var t=0;t<a.length;t++){var i=a[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{i7Li:function(t,i,n){"use strict";n.r(i),n.d(i,"LaporanSensusPasienModule",function(){return I});var l=n("ofXK"),o=n("tyNb"),r=n("7zfz"),s=n("1zoS"),d=n("wd/R"),p=n("fXoL"),c=n("EJUL"),h=n("U+s4"),b=n("G0w9"),u=n("ujBT"),m=n("eO1q"),g=n("3Pt+"),f=n("arFO"),w=n("lVkt"),v=n("jIHw"),P=n("xlun"),k=n("rEr+"),x=n("Q4Mo");function D(e,a){if(1&e){var t=p.Sb();p.Qb(0,"div",20),p.Qb(1,"button",21),p.Yb("click",function(){return p.yc(t),p.bc().exportExcel()}),p.Pb(),p.Pb()}}function C(e,a){if(1&e&&(p.Qb(0,"th",23),p.Jc(1),p.Lb(2,"p-sortIcon",24),p.Pb()),2&e){var t=a.$implicit;p.Fc("width: ",t.width,""),p.jc("pSortableColumn",t.field),p.xb(1),p.Lc(" ",t.header," "),p.xb(1),p.jc("field",t.field)}}function M(e,a){if(1&e&&(p.Qb(0,"tr"),p.Hc(1,C,3,6,"th",22),p.Pb()),2&e){var t=a.$implicit;p.xb(1),p.ic("ngForOf",t)}}function Q(e,a){if(1&e&&(p.Qb(0,"span"),p.Jc(1),p.Pb()),2&e){var t=p.bc().$implicit,i=p.bc().$implicit,n=p.bc();p.xb(1),p.Lc(" ",n.formatRupiah(i[t.field],"")," ")}}function y(e,a){if(1&e&&(p.Qb(0,"span"),p.Jc(1),p.Pb()),2&e){var t=p.bc().$implicit,i=p.bc().$implicit;p.xb(1),p.Lc(" ",i[t.field],"")}}function R(e,a){if(1&e&&(p.Qb(0,"td"),p.Hc(1,Q,2,1,"span",27),p.Hc(2,y,2,1,"span",27),p.Pb()),2&e){var t=a.$implicit;p.Fc("width: ",t.width,""),p.xb(1),p.ic("ngIf",null!=t.isCurrency),p.xb(1),p.ic("ngIf",null==t.isCurrency)}}function Y(e,a){if(1&e&&(p.Qb(0,"tr",25),p.Hc(1,R,3,5,"td",26),p.Pb()),2&e){var t=a.columns,i=a.rowIndex;p.ic("pSelectableRow",a.$implicit)("pSelectableRowIndex",i),p.xb(1),p.ic("ngForOf",t)}}var T,H,S,J=function(){return[5,10,25,50]},L=[{path:"",component:(T=function(){function t(a,i,n,l,o,r,s,d,p){e(this,t),this.apiService=a,this.authService=i,this.confirmationService=n,this.messageService=l,this.cacheHelper=o,this.dateHelper=r,this.alertService=s,this.route=d,this.router=p,this.dataTable=[],this.item={}}var i,n,l;return i=t,(n=[{key:"ngOnInit",value:function(){this.column=[{field:"no",header:"No",width:"65px"},{field:"namaruangan",header:"Ruangan",width:"180px"},{field:"tglmasuk",header:"Tgl Masuk",width:"140px"},{field:"norm",header:"No RM",width:"140px"},{field:"noregistrasi",header:"Noregistrasi",width:"140px"},{field:"namapasien",header:"Nama Pasien",width:"250px"},{field:"jk_l",header:"L",width:"85px"},{field:"jk_p",header:"P",width:"85px"},{field:"umur",header:"Umur",width:"180px"},{field:"alamatlengkap",header:"Alamat",width:"250px"},{field:"kelompokpasien",header:"Cara Bayar",width:"150px"},{field:"baru",header:"Baru",width:"85px"},{field:"lama",header:"Lama",width:"85px"},{field:"tekanandarah",header:"Tekanan Darah",width:"150px"},{field:"bb_tb",header:"BB/TB",width:"140px"},{field:"keluhan",header:"Keluhan",width:"140px"},{field:"kddiagnosa",header:"Diagnosa",width:"180px"},{field:"terapi",header:"Therapy",width:"180px"},{field:"statuspulang",header:"Status",width:"180px"}],this.dateNow=new Date,this.item.tglAwal=d(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=d(this.dateNow).format("YYYY-MM-DD 23:59"),this.getDataCombo()}},{key:"getDataCombo",value:function(){var e=this;this.apiService.get("laporan/get-data-combo").subscribe(function(a){var t=a;e.listDepartemen=t.departemenrajal,e.listTipePasien=t.kelompokpasien,e.item.dataDepartemen=e.listDepartemen[0],e.isiRuangan(),e.LoadCache()})}},{key:"isiRuangan",value:function(){null!=this.item.dataDepartemen&&(this.listRuangan=this.item.dataDepartemen.ruangan)}},{key:"LoadCache",value:function(){var e=this.cacheHelper.get("SensusCache");null!=e?(this.item.tglAwal=new Date(e[0]),this.item.tglAkhir=new Date(e[1]),this.getData()):this.getData()}},{key:"getData",value:function(){var e=this,a=d(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),t=d(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),i="";null!=this.item.dataDepartemen&&(i="&idDept="+this.item.dataDepartemen.id);var n="";null!=this.item.dataRuangan&&(n="&idRuangan="+this.item.dataRuangan.id);var l="";null!=this.item.dataTipePasien&&(l="&idTipePasien="+this.item.dataTipePasien.id);var o="";if(null!=this.item.selectedRuangan){for(var r="",s=this.item.selectedRuangan.length-1;s>=0;s--)r+=","+this.item.selectedRuangan[s].id;o=r.slice(1,r.length)}this.cacheHelper.set("SensusCache",{0:a,1:t}),this.apiService.get("laporan/get-data-lap-sensus-pasien?&tglAwal="+a+"&tglAkhir="+t+i+n+l+"&listRuang="+o+"&kodeprofile=1").subscribe(function(a){for(var t=0;t<a.length;t++)a[t].no=t+1;e.dataTable=a})}},{key:"cari",value:function(){this.getData()}},{key:"exportExcel",value:function(){var e=this.authService.dataLoginUser.profile.id,a=this.authService.dataLoginUser.pegawai.namaLengkap,t=d(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),i=d(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),n="";null!=this.item.dataDepartemen&&(n="&idDept="+this.item.dataDepartemen.id);var l="";null!=this.item.dataRuangan&&(l="&idRuangan="+this.item.dataRuangan.id);var o="";null!=this.item.dataTipePasien&&(o="&idTipePasien="+this.item.dataTipePasien.id);var r="",p="";if(null!=this.item.selectedRuangan){for(var c="",h=this.item.selectedRuangan.length-1;h>=0;h--)c+=","+this.item.selectedRuangan[h].id;r=c.slice(1,c.length)}""!=r&&(p="&listRuang="+r),window.open(s.b.get().apiBackend+"print/cetak-laporan-sensus-pasien?&tglAwal="+t+"&tglAkhir="+i+n+l+o+p+"&kodeprofile="+e+"&namauser="+a)}}])&&a(i.prototype,n),l&&a(i,l),t}(),T.\u0275fac=function(e){return new(e||T)(p.Jb(c.a),p.Jb(c.b),p.Jb(r.a),p.Jb(r.h),p.Jb(h.a),p.Jb(b.a),p.Jb(u.a),p.Jb(o.a),p.Jb(o.f))},T.\u0275cmp=p.Db({type:T,selectors:[["app-laporan-sensus-pasien"]],features:[p.wb([r.a,r.h])],decls:37,vars:30,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-11"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],[1,"p-col-12","p-md-3"],["placeholder","Instalasi","optionLabel","departemen",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["optionLabel","ruangan",3,"options","ngModel","ngModelChange"],["placeholder","Tipe Pasien","optionLabel","kelompokpasien",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-1"],[1,"p-col-12","p-md-12",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12","p-md-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["type","button","pButton","","pRipple","","icon","pi pi-file-pdf","pTooltip","PDF","tooltipPosition","bottom",1,"p-button-success","p-mr-2",3,"click"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,a){1&e&&(p.Qb(0,"div",0),p.Qb(1,"div",1),p.Qb(2,"h4"),p.Jc(3,"Laporan Sensus Pasien Rawat Jalan"),p.Pb(),p.Qb(4,"div",2),p.Qb(5,"div",3),p.Qb(6,"div",2),p.Qb(7,"div",4),p.Qb(8,"label",5),p.Jc(9,"Periode Awal"),p.Pb(),p.Qb(10,"p-calendar",6),p.Yb("ngModelChange",function(e){return a.item.tglAwal=e}),p.Pb(),p.Pb(),p.Qb(11,"div",4),p.Qb(12,"label",5),p.Jc(13,"Periode Akhir"),p.Pb(),p.Qb(14,"p-calendar",6),p.Yb("ngModelChange",function(e){return a.item.tglAkhir=e}),p.Pb(),p.Pb(),p.Qb(15,"div",7),p.Qb(16,"label",5),p.Jc(17,"Instalasi"),p.Pb(),p.Qb(18,"p-dropdown",8),p.Yb("ngModelChange",function(e){return a.item.dataDepartemen=e})("onChange",function(){return a.isiRuangan()}),p.Pb(),p.Pb(),p.Qb(19,"div",7),p.Qb(20,"label",5),p.Jc(21,"Ruangan"),p.Pb(),p.Qb(22,"p-multiSelect",9),p.Yb("ngModelChange",function(e){return a.item.selectedRuangan=e}),p.Pb(),p.Pb(),p.Qb(23,"div",4),p.Qb(24,"label",5),p.Jc(25,"Tipe Pasien"),p.Pb(),p.Qb(26,"p-dropdown",10),p.Yb("ngModelChange",function(e){return a.item.dataTipePasien=e}),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(27,"div",11),p.Qb(28,"div",2),p.Qb(29,"div",12),p.Qb(30,"button",13),p.Yb("click",function(){return a.cari()}),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(31,"div",14),p.Qb(32,"p-table",15,16),p.Yb("selectionChange",function(e){return a.selected=e}),p.Hc(34,D,2,0,"ng-template",17),p.Hc(35,M,2,1,"ng-template",18),p.Hc(36,Y,2,3,"ng-template",19),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb()),2&e&&(p.xb(10),p.ic("ngModel",a.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),p.xb(4),p.ic("ngModel",a.item.tglAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),p.xb(4),p.ic("options",a.listDepartemen)("ngModel",a.item.dataDepartemen)("filter",!0)("showClear",!0),p.xb(4),p.ic("options",a.listRuangan)("ngModel",a.item.selectedRuangan),p.xb(4),p.ic("options",a.listTipePasien)("ngModel",a.item.dataTipePasien)("filter",!0)("showClear",!0),p.xb(6),p.ic("columns",a.column)("value",a.dataTable)("selection",a.selected)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",p.mc(29,J))("paginator",!0)("pageLinks",5))},directives:[m.a,g.g,g.h,f.a,w.a,v.b,P.a,k.h,r.k,x.a,l.k,k.g,k.f,k.e,l.l],styles:[""]}),T)}],A=((H=function a(){e(this,a)}).\u0275mod=p.Hb({type:H}),H.\u0275inj=p.Gb({factory:function(e){return new(e||H)},imports:[[o.j.forChild(L)],o.j]}),H),N=n("PCNd"),I=((S=function a(){e(this,a)}).\u0275mod=p.Hb({type:S}),S.\u0275inj=p.Gb({factory:function(e){return new(e||S)},imports:[[l.b,A,N.a]]}),S)}}])}();