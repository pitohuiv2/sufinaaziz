(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{"61km":function(t,a,e){"use strict";e.r(a),e.d(a,"LaporanKunjunganModule",function(){return M});var i=e("ofXK"),n=e("PCNd"),b=e("tyNb"),l=e("7zfz"),o=e("1zoS"),r=e("wd/R"),c=e("fXoL"),s=e("EJUL"),p=e("U+s4"),d=e("G0w9"),h=e("ujBT"),u=e("eO1q"),m=e("3Pt+"),g=e("arFO"),P=e("jIHw"),Q=e("xlun"),J=e("rEr+"),f=e("Q4Mo");function w(t,a){if(1&t){const t=c.Sb();c.Qb(0,"div",18),c.Qb(1,"button",19),c.Yb("click",function(){return c.yc(t),c.bc().exportExcel()}),c.Pb(),c.Pb()}}function v(t,a){1&t&&(c.Qb(0,"tr"),c.Qb(1,"th",20),c.Jc(2,"No"),c.Pb(),c.Qb(3,"th",20),c.Jc(4,"Kode Penyakit"),c.Pb(),c.Qb(5,"th",20),c.Jc(6,"Nama Penyakit"),c.Pb(),c.Qb(7,"th",21),c.Jc(8,"Status Pasien"),c.Pb(),c.Qb(9,"th",21),c.Jc(10,"Cara Bayar"),c.Pb(),c.Qb(11,"th",22),c.Jc(12,"Klasifikasi Berdasarkan Usia"),c.Pb(),c.Qb(13,"th",21),c.Jc(14,"Jenis Kelamin"),c.Pb(),c.Qb(15,"th",23),c.Jc(16,"Cara Keluar"),c.Pb(),c.Qb(17,"th",20),c.Jc(18,"Jumlah"),c.Pb(),c.Pb(),c.Qb(19,"tr"),c.Qb(20,"th",24),c.Jc(21,"B"),c.Pb(),c.Qb(22,"th",24),c.Jc(23,"L"),c.Pb(),c.Qb(24,"th",24),c.Jc(25,"Umum"),c.Pb(),c.Qb(26,"th",24),c.Jc(27,"BPJS"),c.Pb(),c.Qb(28,"th",24),c.Jc(29,"0-1 Th"),c.Pb(),c.Qb(30,"th",24),c.Jc(31,"2 Th - 10 Th"),c.Pb(),c.Qb(32,"th",24),c.Jc(33,"11 th- 17 th"),c.Pb(),c.Qb(34,"th",24),c.Jc(35,"18 Th-60 Th"),c.Pb(),c.Qb(36,"th",24),c.Jc(37,"> 60 Th"),c.Pb(),c.Qb(38,"th",24),c.Jc(39,"L"),c.Pb(),c.Qb(40,"th",24),c.Jc(41,"P"),c.Pb(),c.Qb(42,"th",24),c.Jc(43,"RJK"),c.Pb(),c.Qb(44,"th",24),c.Jc(45,"RAWAT"),c.Pb(),c.Qb(46,"th",24),c.Jc(47,"PULANG"),c.Pb(),c.Pb())}function k(t,a){if(1&t&&(c.Qb(0,"tr"),c.Qb(1,"td",24),c.Jc(2),c.Pb(),c.Qb(3,"td",24),c.Jc(4),c.Pb(),c.Qb(5,"td",24),c.Jc(6),c.Pb(),c.Qb(7,"td",24),c.Jc(8),c.Pb(),c.Qb(9,"td",24),c.Jc(10),c.Pb(),c.Qb(11,"td",24),c.Jc(12),c.Pb(),c.Qb(13,"td",24),c.Jc(14),c.Pb(),c.Qb(15,"td",24),c.Jc(16),c.Pb(),c.Qb(17,"td",24),c.Jc(18),c.Pb(),c.Qb(19,"td",24),c.Jc(20),c.Pb(),c.Qb(21,"td",24),c.Jc(22),c.Pb(),c.Qb(23,"td",24),c.Jc(24),c.Pb(),c.Qb(25,"td",24),c.Jc(26),c.Pb(),c.Qb(27,"td",24),c.Jc(28),c.Pb(),c.Qb(29,"td",24),c.Jc(30),c.Pb(),c.Qb(31,"td",24),c.Jc(32),c.Pb(),c.Pb()),2&t){const t=a.$implicit;c.xb(2),c.Kc(t.no),c.xb(2),c.Kc(t.kddiagnosa),c.xb(2),c.Kc(t.namadiagnosa),c.xb(2),c.Kc(t.baru),c.xb(2),c.Kc(t.lama),c.xb(2),c.Kc(t.umum),c.xb(2),c.Kc(t.bpjs),c.xb(2),c.Kc(t.nolsatu),c.xb(2),c.Kc(t.duasepuluh),c.xb(2),c.Kc(t.tujuhbelas),c.xb(2),c.Kc(t.delapanbelas),c.xb(2),c.Kc(t.enampuluh),c.xb(2),c.Kc(t.rujuk),c.xb(2),c.Kc(t.dirawat),c.xb(2),c.Kc(t.pulang),c.xb(2),c.Kc(t.jmldg)}}const D=[{path:"",component:(()=>{class t{constructor(t,a,e,i,n,b,l,o,r){this.apiService=t,this.authService=a,this.confirmationService=e,this.messageService=i,this.cacheHelper=n,this.dateHelper=b,this.alertService=l,this.route=o,this.router=r,this.dataTable=[],this.item={}}ngOnInit(){this.dateNow=new Date,this.item.bulan=new Date,this.item.tglAwal=r(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=r(this.dateNow).format("YYYY-MM-DD 23:59"),this.getDataCombo()}getDataCombo(){this.apiService.get("laporan/get-data-combo").subscribe(t=>{var a=t;this.listDepartemen=a.departemenrajal,this.listTipePasien=a.kelompokpasien,this.item.dataDepartemen=this.listDepartemen[0],this.isiRuangan(),this.LoadCache()})}isiRuangan(){null!=this.item.dataDepartemen&&(this.listRuangan=this.item.dataDepartemen.ruangan)}LoadCache(){var t=this.cacheHelper.get("kunjunganCache");null!=t?(this.item.tglAwal=new Date(t[0]),this.item.tglAkhir=new Date(t[1]),this.getData()):this.getData()}getData(){var t=r(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),a=r(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),e=r(this.item.bulan).format("MM-YYYY"),i="";null!=this.item.dataDepartemen&&(i="&idDept="+this.item.dataDepartemen.id);var n="";null!=this.item.dataTipePasien&&(n="&idTipePasien="+this.item.dataTipePasien.id);var b="";null!=this.item.dataRuangan&&(b="&idRuangan="+this.item.dataRuangan.id),this.cacheHelper.set("kunjunganCache",{0:t,1:a}),this.apiService.get("laporan/get-data-lap-kunjungan?&bulan="+e+"&tglAwal="+t+"&tglAkhir="+a+i+b+n).subscribe(t=>{var a=t;for(let e=0;e<a.length;e++)a[e].no=e+1;this.dataTable=a})}cari(){this.getData()}exportExcel(){var t=this.authService.dataLoginUser.profile.id,a=this.authService.dataLoginUser.pegawai.namaLengkap,e=r(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),i=r(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),n=r(this.item.bulan).format("MM-YYYY"),b="";null!=this.item.dataDepartemen&&(b="&idDept="+this.item.dataDepartemen.id);var l="";null!=this.item.dataRuangan&&(l="&idRuangan="+this.item.dataRuangan.id);var c="";null!=this.item.dataTipePasien&&(c="&idTipePasien="+this.item.dataTipePasien.id),l="",null!=this.item.dataRuangan&&(l="&idRuangan="+this.item.dataRuangan.id),window.open(o.b.get().apiBackend+"print/cetak-laporan-kunjungan-poliklinik?&tglAwal="+e+"&tglAkhir="+i+"&bulan="+n+b+l+c+"&kodeprofile="+t+"&namauser="+a)}}return t.\u0275fac=function(a){return new(a||t)(c.Jb(s.a),c.Jb(s.b),c.Jb(l.a),c.Jb(l.h),c.Jb(p.a),c.Jb(d.a),c.Jb(h.a),c.Jb(b.a),c.Jb(b.f))},t.\u0275cmp=c.Db({type:t,selectors:[["app-laporan-kunjungan"]],features:[c.wb([l.a,l.h])],decls:32,vars:15,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-11"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["view","month","dateFormat","mm/yy","inputId","monthpicker",3,"ngModel","readonlyInput","ngModelChange"],["placeholder","Instalasi","optionLabel","departemen",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["placeholder","Ruangan","optionLabel","ruangan",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Tipe Pasien","optionLabel","kelompokpasien",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12","p-md-1"],[1,"p-col-12","p-md-12"],["responsiveLayout","scroll","scrollable","true",3,"value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["type","button","pButton","","pRipple","","icon","pi pi-file-pdf","pTooltip","PDF","tooltipPosition","bottom",1,"p-button-success","p-mr-2",3,"click"],["rowspan","2",2,"text-align","center"],["colspan","2",2,"text-align","center"],["colspan","5",2,"text-align","center"],["colspan","3",2,"text-align","center"],[2,"text-align","center"]],template:function(t,a){1&t&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"h4"),c.Jc(3,"Laporan Bulanan Poliklinik"),c.Pb(),c.Qb(4,"div",2),c.Qb(5,"div",3),c.Qb(6,"div",2),c.Qb(7,"div",4),c.Qb(8,"label",5),c.Jc(9,"Bulan"),c.Pb(),c.Qb(10,"p-calendar",6),c.Yb("ngModelChange",function(t){return a.item.bulan=t}),c.Pb(),c.Pb(),c.Qb(11,"div",4),c.Qb(12,"label",5),c.Jc(13,"Instalasi"),c.Pb(),c.Qb(14,"p-dropdown",7),c.Yb("ngModelChange",function(t){return a.item.dataDepartemen=t})("onChange",function(){return a.isiRuangan()}),c.Pb(),c.Pb(),c.Qb(15,"div",4),c.Qb(16,"label",5),c.Jc(17,"Ruangan"),c.Pb(),c.Qb(18,"p-dropdown",8),c.Yb("ngModelChange",function(t){return a.item.dataRuangan=t}),c.Pb(),c.Pb(),c.Qb(19,"div",4),c.Qb(20,"label",5),c.Jc(21,"Tipe Pasien"),c.Pb(),c.Qb(22,"p-dropdown",9),c.Yb("ngModelChange",function(t){return a.item.dataTipePasien=t}),c.Pb(),c.Pb(),c.Qb(23,"div",10),c.Qb(24,"button",11),c.Yb("click",function(){return a.cari()}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Lb(25,"div",12),c.Qb(26,"div",13),c.Qb(27,"div",0),c.Qb(28,"p-table",14),c.Hc(29,w,2,0,"ng-template",15),c.Hc(30,v,48,0,"ng-template",16),c.Hc(31,k,33,16,"ng-template",17),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.xb(10),c.ic("ngModel",a.item.bulan)("readonlyInput",!0),c.xb(4),c.ic("options",a.listDepartemen)("ngModel",a.item.dataDepartemen)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",a.listRuangan)("ngModel",a.item.dataRuangan)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",a.listTipePasien)("ngModel",a.item.dataTipePasien)("filter",!0)("showClear",!0),c.xb(6),c.ic("value",a.dataTable))},directives:[u.a,m.g,m.h,g.a,P.b,Q.a,J.h,l.k,f.a],styles:[""]}),t})()}];let Y=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(a){return new(a||t)},imports:[[b.j.forChild(D)],b.j]}),t})(),M=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(a){return new(a||t)},imports:[[i.b,Y,n.a]]}),t})()}}]);