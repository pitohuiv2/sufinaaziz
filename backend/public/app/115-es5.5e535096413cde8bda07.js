!function(){function a(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function e(a,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{jPIM:function(n,t,i){"use strict";i.r(t),i.d(t,"PasienBaruModule",function(){return L});var l=i("ofXK"),o=i("tyNb"),s=i("7zfz"),r=i("wd/R"),m=i("fXoL"),p=i("EJUL"),u=i("U+s4"),b=i("G0w9"),g=i("ujBT"),d=i("Nf9I"),c=i("3Pt+"),h=i("7kUa"),k=i("eO1q"),P=i("arFO"),f=i("zFJ7"),j=i("V5BG"),v=i("Ji6n"),C=i("jIHw"),M=i("xlun");function Q(a,e){if(1&a&&(m.Qb(0,"table",44),m.Qb(1,"tr"),m.Qb(2,"th"),m.Jc(3,"Kelurahan"),m.Pb(),m.Qb(4,"th"),m.Jc(5,"Kecamatan"),m.Pb(),m.Qb(6,"th"),m.Jc(7,"Kota Kabupaten"),m.Pb(),m.Qb(8,"th"),m.Jc(9,"Provinsi"),m.Pb(),m.Pb(),m.Qb(10,"tr"),m.Qb(11,"td"),m.Jc(12),m.Pb(),m.Qb(13,"td"),m.Jc(14),m.Pb(),m.Qb(15,"td"),m.Jc(16),m.Pb(),m.Qb(17,"td"),m.Jc(18),m.Pb(),m.Pb(),m.Pb()),2&a){var n=e.$implicit;m.xb(12),m.Kc(n.namadesakelurahan),m.xb(2),m.Kc(n.namakecamatan),m.xb(2),m.Kc(n.namakotakabupaten),m.xb(2),m.Kc(n.namapropinsi)}}function w(a,e){if(1&a){var n=m.Sb();m.Qb(0,"div",5),m.Qb(1,"div",45),m.Qb(2,"h4"),m.Jc(3,"Penanggung Jawab Pasien"),m.Pb(),m.Qb(4,"div",2),m.Qb(5,"div",5),m.Qb(6,"label",12),m.Jc(7,"Nama Penanggung Jawab "),m.Pb(),m.Qb(8,"input",46),m.Yb("ngModelChange",function(a){return m.yc(n),m.bc().item.PenanggungJawab=a}),m.Pb(),m.Pb(),m.Qb(9,"div",5),m.Qb(10,"label",12),m.Jc(11,"Hubungan Dengan Pasien"),m.Pb(),m.Qb(12,"input",47),m.Yb("ngModelChange",function(a){return m.yc(n),m.bc().item.Hubungan=a}),m.Pb(),m.Pb(),m.Qb(13,"div",5),m.Qb(14,"label",12),m.Jc(15,"No Telepon"),m.Pb(),m.Qb(16,"input",48),m.Yb("ngModelChange",function(a){return m.yc(n),m.bc().item.TeleponP=a}),m.Pb(),m.Pb(),m.Qb(17,"div",5),m.Qb(18,"label",12),m.Jc(19,"Bahasa Sehari-hari"),m.Pb(),m.Qb(20,"input",49),m.Yb("ngModelChange",function(a){return m.yc(n),m.bc().item.Bahasa=a}),m.Pb(),m.Pb(),m.Qb(21,"div",5),m.Qb(22,"label",12),m.Jc(23,"Jenis Kelamin"),m.Pb(),m.Qb(24,"p-dropdown",11),m.Yb("ngModelChange",function(a){return m.yc(n),m.bc().item.jenisKelaminP=a}),m.Pb(),m.Pb(),m.Qb(25,"div",5),m.Qb(26,"label",12),m.Jc(27,"Umur"),m.Pb(),m.Qb(28,"input",50),m.Yb("ngModelChange",function(a){return m.yc(n),m.bc().item.UmurP=a}),m.Pb(),m.Pb(),m.Qb(29,"div",5),m.Qb(30,"label",12),m.Jc(31,"Pekerjaan"),m.Pb(),m.Qb(32,"p-dropdown",51),m.Yb("ngModelChange",function(a){return m.yc(n),m.bc().item.pekerjaanP=a}),m.Pb(),m.Pb(),m.Qb(33,"div",5),m.Qb(34,"label",12),m.Jc(35,"Alamat Penanggung Jawab "),m.Pb(),m.Qb(36,"textarea",52),m.Yb("ngModelChange",function(a){return m.yc(n),m.bc().item.alamatRumah=a}),m.Pb(),m.Pb(),m.Qb(37,"div",5),m.Qb(38,"label",12),m.Jc(39,"Nama Dokter Pengirim"),m.Pb(),m.Qb(40,"input",53),m.Yb("ngModelChange",function(a){return m.yc(n),m.bc().item.DokterPengirim=a}),m.Pb(),m.Pb(),m.Qb(41,"div",5),m.Qb(42,"label",12),m.Jc(43,"Alamat Dokter Pengirim "),m.Pb(),m.Qb(44,"textarea",52),m.Yb("ngModelChange",function(a){return m.yc(n),m.bc().item.alamatDokterPengirim=a}),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&a){var t=m.bc();m.xb(8),m.ic("ngModel",t.item.PenanggungJawab),m.xb(4),m.ic("ngModel",t.item.Hubungan),m.xb(4),m.ic("ngModel",t.item.TeleponP),m.xb(4),m.ic("ngModel",t.item.Bahasa),m.xb(4),m.ic("options",t.listDataJenisKelamin)("ngModel",t.item.jenisKelaminP)("filter",!0)("showClear",!0),m.xb(4),m.ic("ngModel",t.item.UmurP),m.xb(4),m.ic("options",t.listDataPekerjaan)("ngModel",t.item.pekerjaanP)("filter",!0)("showClear",!0),m.xb(4),m.ic("ngModel",t.item.alamatRumah),m.xb(4),m.ic("ngModel",t.item.DokterPengirim),m.xb(4),m.ic("ngModel",t.item.alamatDokterPengirim)}}function K(a,e){if(1&a){var n=m.Sb();m.Qb(0,"div",54),m.Qb(1,"button",55),m.Yb("click",function(){return m.yc(n),m.bc().save()}),m.Pb(),m.Pb()}}function y(a,e){if(1&a){var n=m.Sb();m.Qb(0,"div",54),m.Qb(1,"button",56),m.Yb("click",function(){return m.yc(n),m.bc().registrasi()}),m.Pb(),m.Pb()}}var x,J,D,I=[{path:"",component:(x=function(){function n(e,t,i,l,o,s,r,m,p){a(this,n),this.apiService=e,this.authService=t,this.confirmationService=i,this.messageService=l,this.cacheHelper=o,this.dateHelper=s,this.alertService=r,this.route=m,this.router=p,this.item={},this.idPasien="",this.title="Pendaftaran Pasien",this.now=new Date,this.params={},this.reservasi={}}var t,i,l;return t=n,(i=[{key:"ngOnInit",value:function(){this.loadCombo(),this.init()}},{key:"init",value:function(){var a=this;if(this.route.params.subscribe(function(e){a.params.noRec=e.noRec,a.params.idPasien=e.idPasien,a.params.departemen=e.departemen}),this.cacheHelper.set("cacheStatusPasien",void 0),this.noCmIbu=this.cacheHelper.get("CacheRegisBayi"),this.nocmIgd=this.cacheHelper.get("CacheRegisTriage"),null!=this.params.noRec&&"-"!=this.params.noRec?this.getPasienOnline():null!=this.noCmIbu?(this.isBayi=!0,this.title="Pendaftaran Pasien Bayi",this.item.tglLahir=this.now,this.getPasienBayi(),this.cacheHelper.set("CacheRegisBayi",void 0)):null!=this.params.idPasien&&"-"!=this.params.idPasien?(this.idPasien=parseInt(this.params.idPasien),this.title="Edit Data Pasien",this.editPasien()):null!=this.params.departemen&&"-"!=this.params.departemen&&(this.isPenunjang=!0),null!=this.nocmIgd){var e=this.cacheHelper.get("CacheRegisTriage");null!=e&&(this.item.namaPasien=e.namaPasien.toUpperCase(),this.item.alamatLengkap=e.alamatlengkap.toUpperCase(),this.item.tempatLahir=e.tempatlahir.toUpperCase(),this.item.tglLahir=r(e.tgllahir).format("DD-MM-YYYY"),this.item.jenisKelamin={id:e.jkid,jeniskelamin:e.jk.toUpperCase()},this.item.noHp=e.notelepon,this.item.noemr=e.noemr,this.Triage="CacheRegisTriage")}}},{key:"getPasienOnline",value:function(){var a=this;this.apiService.get("registrasi/get-pasienonline-bynorec/"+this.params.noRec).subscribe(function(e){var n=e.data;null!=n.namaibu&&(a.item.namaIbu=n.namaibu.toUpperCase()),null!=n.namaayah&&(a.item.namaAyah=n.namaayah.toUpperCase()),a.item.namaPasien=n.namapasien.toUpperCase(),null!=n.tgllahir&&(a.item.tglLahir=new Date(n.tgllahir),a.item.jamLahir=new Date(n.tgllahir)),null!=n.tempatlahir&&(a.item.tempatLahir=n.tempatlahir.toUpperCase()),null!=n.objectjeniskelaminfk&&(a.item.jenisKelamin={id:n.objectjeniskelaminfk,jeniskelamin:n.jeniskelamin.toUpperCase()}),null!=n.objectagamafk&&(a.item.agama={id:n.objectagamafk,agama:n.agama.toUpperCase(),namadukcapil:n.agama.toUpperCase()}),null!=n.objectstatusperkawinanfk&&(a.item.statusPerkawinan={id:n.objectstatusperkawinanfk,statusperkawinan:n.statusperkawinan.toUpperCase(),namadukcapil:n.statusperkawinan.toUpperCase()}),null!=n.objectpendidikanfk&&(a.item.pendidikan={id:n.objectpendidikanfk,pendidikan:n.pendidikan.toUpperCase(),namadukcapil:n.pendidikan.toUpperCase()}),null!=n.objectpekerjaanfk&&(a.item.pekerjaan={id:n.objectpekerjaanfk,pekerjaan:n.pekerjaan.toUpperCase(),namadukcapil:n.pekerjaan.toUpperCase()}),null!=n.noidentitas&&(a.item.noIdentitas=n.noidentitas),null!=n.nobpjs&&(a.item.noBpjs=n.nobpjs),null!=n.namasuamiistri&&(a.item.namaSuamiIstri=n.namasuamiistri),null!=n.alamatlengkap&&(a.item.alamatLengkap=n.alamatlengkap),null!=n.notelepon&&(a.item.noTelepon=n.notelepon),null!=n.nohp&&(a.item.noHp=n.noaditional),a.reservasi=n,a.item.noRecReservasi=n.norec,a.item.noReservasi=n.noreservasi,null!=a.item.kodePos&&a.findKodePos(a.item.kodePos)},function(a){})}},{key:"getPasienBayi",value:function(){var a=this;this.apiService.get("registrasi/get-bynocm?noCm="+this.noCmIbu).subscribe(function(e){var n=e.data;null!=n.foto&&(a.item.image=n.foto),a.item.noCmIbu=n.nocm,a.item.namaIbu=n.namapasien.toUpperCase(),a.item.namaPasien=n.namapasien.toUpperCase()+" By Ny",a.item.alamatLengkap=n.alamatlengkap.toUpperCase(),a.item.tempatLahir=n.tempatlahir.toUpperCase(),a.item.jenisKelamin={id:n.objectjeniskelaminfk,jeniskelamin:n.jeniskelamin.toUpperCase()},null!=n.objectagamafk&&(a.item.agama={id:n.objectagamafk,agama:n.agama.toUpperCase()}),null!=n.kodepos&&(a.item.kodePos=n.kodepos),a.idIbu=n.nocmfk,null!=n.namasuamiistri&&(a.item.namaAyah=n.namasuamiistri),null!=n.namasuamiistri&&(a.item.namaKeluarga=n.namasuamiistri),null!=n.notelepon&&(a.item.noTelepon=n.notelepon),null!=n.nohp&&(a.item.noHp=n.nohp),null!=n.objectdesakelurahanfk&&(a.listDataKelurahan=[],a.apiService.get("registrasi/get-desa-kelurahan-paging?iddesakelurahan="+n.objectdesakelurahanfk).subscribe(function(e){if(null!=e[0]){var n={id:e[0].id,namadesakelurahan:e[0].namadesakelurahan,kodepos:e[0].kodepos,namakecamatan:e[0].namakecamatan,namakotakabupaten:e[0].namakotakabupaten,namapropinsi:e[0].namapropinsi,objectkecamatanfk:e[0].objectkecamatanfk,objectkotakabupatenfk:e[0].objectkotakabupatenfk,objectpropinsifk:e[0].objectpropinsifk,desa:e[0].namadesakelurahan};a.listDataKelurahan.push(n),a.item.desaKelurahan=n}})),null!=n.objectkecamatanfk&&(a.item.kecamatan={id:n.objectkecamatanfk,namakecamatan:n.namakecamatan}),null!=n.objectkotakabupatenfk&&(a.item.kotaKabupaten={id:n.objectkotakabupatenfk,namakotakabupaten:n.namakotakabupaten}),null!=n.objectpropinsifk&&(a.item.propinsi={id:n.objectpropinsifk,namapropinsi:n.namapropinsi})},function(a){})}},{key:"editPasien",value:function(){var a=this;this.apiService.get("registrasi/get-bynocm?idPasien="+this.params.idPasien).subscribe(function(e){var n=e.data;null!=n.foto&&(a.item.image=n.foto),a.item.noCmIbu=n.nocm,a.item.namaPasien=n.namapasien.toUpperCase(),null!=n.alamatlengkap&&(a.item.alamatLengkap=n.alamatlengkap.toUpperCase()),a.item.tempatLahir=n.tempatlahir.toUpperCase(),a.item.tglLahir=new Date(n.tgllahir),null!=n.objectjeniskelaminfk&&(a.item.jenisKelamin={id:n.objectjeniskelaminfk,jeniskelamin:n.jeniskelamin.toUpperCase()}),null!=n.objectagamafk&&(a.item.agama={id:n.objectagamafk,agama:n.agama.toUpperCase()}),a.item.PenanggungJawab=n.penanggungjawab,a.item.cekPenanggungJawab=null!=n.penanggungjawab,a.item.Hubungan=n.hubungankeluargapj,a.item.Ktp=n.ktppenanggungjawab,a.item.alamatRumah=n.alamatrmh,a.item.alamatKantor=n.alamatktr,a.item.Bahasa=n.bahasa,a.item.TeleponP=n.teleponpenanggungjawab,a.item.UmurP=n.umurpenanggungjawab,a.item.DokterPengirim=n.dokterpengirim,a.item.alamatDokterPengirim=n.alamatdokterpengirim,null!=n.pekerjaanpenangggungjawab&&(a.item.pekerjaanP={id:n.idpek,pekerjaan:n.pekerjaanpenangggungjawab.toUpperCase()}),null!=n.jeniskelaminpenanggungjawab&&(a.item.jenisKelaminP={id:n.jkidpenanggungjawab,jeniskelamin:n.jeniskelaminpenanggungjawab.toUpperCase()}),null!=n.kodepos&&(a.item.kodePos=n.kodepos),null!=n.namaibu&&(a.item.namaIbu=n.namaibu.toUpperCase()),null!=n.namasuamiistri&&(a.item.namaSuamiIstri=n.namasuamiistri.toUpperCase()),null!=n.noidentitas&&(a.item.noIdentitas=n.noidentitas),null!=n.nobpjs&&(a.item.noBpjs=n.nobpjs),null!=n.noasuransilain&&(a.item.noAsuransiLain=n.noasuransilain),null!=n.namaayah&&(a.item.namaAyah=n.namaayah.toUpperCase()),null!=n.namakeluarga&&(a.item.namaKeluarga=n.namakeluarga.toUpperCase()),null!=n.notelepon&&(a.item.noTelepon=n.notelepon),null!=n.nohp&&(a.item.noHp=n.nohp),null!=n.objectstatusperkawinanfk&&(a.item.statusPerkawinan={id:n.objectstatusperkawinanfk,statusperkawinan:n.statusperkawinan.toUpperCase(),namadukcapil:n.statusperkawinan.toUpperCase()}),null!=n.objectpendidikanfk&&(a.item.pendidikan={id:n.objectpendidikanfk,pendidikan:n.pendidikan.toUpperCase(),namadukcapil:n.pendidikan.toUpperCase()}),null!=n.objectpekerjaanfk&&(a.item.pekerjaan={id:n.objectpekerjaanfk,pekerjaan:n.pekerjaan.toUpperCase(),namadukcapil:n.pekerjaan.toUpperCase()}),null!=n.objectsukufk&&(a.item.suku={id:n.objectsukufk,suku:n.suku.toUpperCase()}),null!=n.objectgolongandarahfk&&(a.item.golonganDarah={id:n.objectgolongandarahfk,golongandarah:n.golongandarah.toUpperCase(),namadukcapil:n.golongandarah.toUpperCase()}),null!=n.objectdesakelurahanfk&&(a.listDataKelurahan=[],a.apiService.get("registrasi/get-desa-kelurahan-paging?iddesakelurahan="+n.objectdesakelurahanfk).subscribe(function(e){if(null!=e[0]){var n={id:e[0].id,namadesakelurahan:e[0].namadesakelurahan,kodepos:e[0].kodepos,namakecamatan:e[0].namakecamatan,namakotakabupaten:e[0].namakotakabupaten,namapropinsi:e[0].namapropinsi,objectkecamatanfk:e[0].objectkecamatanfk,objectkotakabupatenfk:e[0].objectkotakabupatenfk,objectpropinsifk:e[0].objectpropinsifk,desa:e[0].namadesakelurahan};a.listDataKelurahan.push(n),a.item.desaKelurahan=n}})),null!=n.objectkecamatanfk&&(a.item.kecamatan={id:n.objectkecamatanfk,namakecamatan:n.namakecamatan}),null!=n.objectkotakabupatenfk&&(a.item.kotaKabupaten={id:n.objectkotakabupatenfk,namakotakabupaten:n.namakotakabupaten}),null!=n.objectpropinsifk&&(a.item.propinsi={id:n.objectpropinsifk,namapropinsi:n.namapropinsi})},function(a){})}},{key:"changeKebangsaan",value:function(a){null!=a&&("WNI"==a.value.name&&(this.item.negara={id:0,namanegara:"INDONESIA"}),"WNA"==a.value.name&&(this.item.negara={}))}},{key:"loadCombo",value:function(){var a=this;this.listDataJenisKelamin=[],this.listDataPekerjaan=[],this.listDataAgama=[],this.listDataPendidikan=[],this.listDataStatusPerkawinan=[],this.listDataPekerjaan=[],this.listGolonganDarah=[],this.listSuku=[],this.listDataKecamatan=[],this.listDataKotaKabupaten=[],this.listDataPropinsi=[],this.listKebangsaan=[],this.listNegara=[],this.apiService.get("registrasi/get-combo-registrasi").subscribe(function(e){a.listDataJenisKelamin=e.jeniskelamin,a.listDataPekerjaan=e.pekerjaan,a.listDataAgama=e.agama,a.listDataPendidikan=e.pendidikan,a.listDataStatusPerkawinan=e.statusperkawinan,a.listGolonganDarah=e.golongandarah,a.listSuku=e.suku}),this.apiService.get("registrasi/get-combo-address").subscribe(function(e){a.listDataKotaKabupaten=e.kotakabupaten,a.listDataPropinsi=e.propinsi,a.listKebangsaan=e.kebangsaan,a.listNegara=e.negara,a.item.kebangsaan=e.kebangsaan[0],a.changeKebangsaan({value:a.item.kebangsaan})})}},{key:"filterDesa",value:function(a){var e=this;this.apiService.get("registrasi/get-desa-kelurahan-paging?namadesakelurahan="+a.query).subscribe(function(a){e.listDataKelurahan=a})}},{key:"filterKec",value:function(a){var e=this;this.apiService.get("registrasi/get-kecamatan-part?namakecamatan="+a.query).subscribe(function(a){e.listDataKecamatan=a})}},{key:"selectDesa",value:function(a){a.objectkecamatanfk&&(this.item.kecamatan={id:a.objectkecamatanfk,namakecamatan:a.namakecamatan}),a.objectkotakabupatenfk&&(this.item.kotaKabupaten={id:a.objectkotakabupatenfk,namakotakabupaten:a.namakotakabupaten}),a.objectpropinsifk&&(this.item.propinsi={id:a.objectpropinsifk,namapropinsi:a.namapropinsi}),a.kodepos&&(this.item.kodePos=a.kodepos)}},{key:"findKodePos",value:function(a){var e=this;a&&(this.listDataKelurahan=[],this.apiService.get("registrasi/get-alamat-bykodepos?kodePos="+a).subscribe(function(a){if(a.data.length>0){var n={id:a.data[0].objectdesakelurahanfk,namadesakelurahan:a.data[0].namadesakelurahan,kodepos:a.data[0].kodepos,namakecamatan:a.data[0].namakecamatan,namakotakabupaten:a.data[0].namakotakabupaten,namapropinsi:a.data[0].namapropinsi,objectkecamatanfk:a.data[0].objectkecamatanfk,objectkotakabupatenfk:a.data[0].objectkotakabupatenfk,objectpropinsifk:a.data[0].objectpropinsifk,desa:a.data[0].namadesakelurahan};e.listDataKelurahan.push(n),e.item.desaKelurahan=n,e.item.kecamatan={id:n.objectkecamatanfk,namakecamatan:n.namakecamatan},e.item.kotaKabupaten={id:n.objectkotakabupatenfk,namakotakabupaten:n.namakotakabupaten},e.item.propinsi={id:n.objectpropinsifk,namapropinsi:n.namapropinsi}}}))}},{key:"getNik",value:function(a,e){var n=this,t={url:"Peserta/"+a+"/"+e+"/tglSEP/"+r(new Date).format("YYYY-MM-DD"),method:"GET",data:null};this.apiService.postNonMessage("bridging/bpjs/tools",t).subscribe(function(a){"200"==a.metaData.code?(n.alertService.success("Info",a.metaData.message),n.alertService.info("Status Peserta",a.response.peserta.statusPeserta.keterangan),n.item.namaPasien=a.response.peserta.nama,n.item.noIdentitas=a.response.peserta.nik,n.item.noBpjs=a.response.peserta.noKartu,n.item.noHp=a.response.peserta.noTelepon,n.item.tglLahir=new Date(a.response.peserta.tglLahir),n.item.jenisKelamin="P"==a.response.peserta.sex?n.listDataJenisKelamin[1]:n.listDataJenisKelamin[0]):n.alertService.error("Info",a.metaData.message)})}},{key:"cancel",value:function(){this.item={},window.history.back()}},{key:"save",value:function(){var a=this;if(null!=this.item.noIdentitas)if(null!=this.item.namaPasien)if(null!=this.item.tempatLahir)if(null!=this.item.tglLahir)if(null!=this.item.jenisKelamin)if(null!=this.item.alamatLengkap)if(null!=this.item.noHp){var e=null;null!=this.item.pekerjaanP&&(e=this.item.pekerjaanP.pekerjaan);var n={isbayi:this.isBayi,istriageigd:this.isTriage,isPenunjang:this.isPenunjang,idpasien:null!=this.idPasien?this.idPasien:"",pasien:{namaPasien:this.item.namaPasien,noIdentitas:null!=this.item.noIdentitas?this.item.noIdentitas:null,namaSuamiIstri:null!=this.item.namaSuamiIstri?this.item.namaSuamiIstri:null,noAsuransiLain:null!=this.item.noAsuransiLain?this.item.noAsuransiLain:null,noBpjs:null!=this.item.noBpjs?this.item.noBpjs:null,noHp:null!=this.item.noHp?this.item.noHp:null,tempatLahir:this.item.tempatLahir,namaKeluarga:null!=this.item.namaKeluarga?this.item.namaKeluarga:null,tglLahir:r(this.item.tglLahir).format("YYYY-MM-DD HH:mm"),image:null!=this.item.image&&"../app/images/avatar.jpg"!=this.item.image?this.item.image:null},agama:{id:null!=this.item.agama?this.item.agama.id:null},jenisKelamin:{id:null!=this.item.jenisKelamin?this.item.jenisKelamin.id:null},pekerjaan:{id:null!=this.item.pekerjaan?this.item.pekerjaan.id:null},pendidikan:{id:null!=this.item.pendidikan?this.item.pendidikan.id:null},statusPerkawinan:{id:null!=this.item.statusPerkawinan?this.item.statusPerkawinan.id:0},golonganDarah:{id:null!=this.item.golonganDarah?this.item.golonganDarah.id:null},suku:{id:null!=this.item.suku?this.item.suku.id:null},namaIbu:null!=this.item.namaIbu?this.item.namaIbu:null,noTelepon:null!=this.item.noTelepon?this.item.noTelepon:null,noAditional:null!=this.item.noAditional?this.item.noAditional:null,kebangsaan:{id:null!=this.item.kebangsaan?this.item.kebangsaan.id:null},negara:{id:null!=this.item.negara?this.item.negara.id:null},namaAyah:null!=this.item.namaAyah?this.item.namaAyah:null,alamatLengkap:this.item.alamatLengkap,desaKelurahan:{id:null!=this.item.desaKelurahan?this.item.desaKelurahan.id:null,namaDesaKelurahan:null!=this.item.desaKelurahan?this.item.desaKelurahan.namadesakelurahan:null},kecamatan:{id:null!=this.item.kecamatan?this.item.kecamatan.id:null,namaKecamatan:null!=this.item.kecamatan?this.item.kecamatan.namakecamatan:null},kotaKabupaten:{id:null!=this.item.kotaKabupaten?this.item.kotaKabupaten.id:null,namaKotaKabupaten:null!=this.item.kotaKabupaten?this.item.kotaKabupaten.namakotakabupaten:null},propinsi:{id:null!=this.item.propinsi?this.item.propinsi.id:null},kodePos:null!=this.item.kodePos?this.item.kodePos:null,penanggungjawab:null!=this.item.PenanggungJawab?this.item.PenanggungJawab:null,hubungankeluargapj:null!=this.item.Hubungan?this.item.Hubungan:null,pekerjaanpenangggungjawab:e,ktppenanggungjawab:null!=this.item.Ktp?this.item.Ktp:null,alamatrmh:null!=this.item.alamatRumah?this.item.alamatRumah:null,alamatktr:null!=this.item.alamatKantor?this.item.alamatKantor:null,teleponpenanggungjawab:null!=this.item.TeleponP?this.item.TeleponP:null,bahasa:null!=this.item.Bahasa?this.item.Bahasa:null,jeniskelaminpenanggungjawab:null!=this.item.jenisKelaminP?this.item.jenisKelaminP.jeniskelamin:null,umurpenanggungjawab:null!=this.item.UmurP?this.item.UmurP:null,dokterpengirim:null!=this.item.DokterPengirim?this.item.DokterPengirim:null,alamatdokter:null!=this.item.alamatDokterPengirim?this.item.alamatDokterPengirim:null};this.apiService.post("registrasi/save-pasien",n).subscribe(function(e){null!=a.item.noRecReservasi&&a.apiService.post("reservasionline/update-nocmfk-antrian-registrasi",{norec:a.item.noRecReservasi,nocmfk:e.data.id}).subscribe(function(a){});var n=(n=a.dateHelper.CountAge(new Date(e.data.tgllahir),a.now)).year+" thn "+n.month+" bln "+n.day+" hr ";""==a.Triage&&null==a.Triage||a.InputTriage(),a.cacheHelper.set("CacheRegisBayi",void 0),"Pendaftaran Pasien"==a.title?a.Next(e.data.id):a.isNext=!0},function(a){})}else this.alertService.error("Info","No HP harus di isis");else this.alertService.error("Info","Alamat harus di isis");else this.alertService.error("Info","Jenis Kelamin harus di isis");else this.alertService.error("Info","Tgl Lahir harus di isis");else this.alertService.error("Info","Tempat Lahir harus di isis");else this.alertService.error("Info","Nama Pasien harus di isis");else this.alertService.error("Info","NIK harus di isis")}},{key:"InputTriage",value:function(){}},{key:"registrasi",value:function(){this.Next(this.params.idPasien)}},{key:"Next",value:function(a){if(this.cacheHelper.set("CacheRegisOnlineBaru",void 0),null!=this.item.noReservasi){var e=this.item.noReservasi;null!=this.cacheHelper.get("CacheRegisOnline")&&(e=this.cacheHelper.get("CacheRegisOnline")[0]),this.cacheHelper.set("CacheRegisOnlineBaru",{0:e,1:"Online",2:"",3:"",4:"",5:"",6:""})}this.cacheHelper.set("CacheRegisOnline",void 0),this.cacheHelper.set("CacheRegistrasiPasien",void 0),this.cacheHelper.set("cacheStatusPasien",null!=this.idPasien&&""!=this.idPasien?"LAMA":"BARU"),this.cacheHelper.set("isPenunjang",null!=this.isPenunjang&&1==this.isPenunjang||void 0),this.router.navigate(["registrasi-ruangan",a])}}])&&e(t.prototype,i),l&&e(t,l),n}(),x.\u0275fac=function(a){return new(a||x)(m.Jb(p.a),m.Jb(p.b),m.Jb(s.a),m.Jb(s.h),m.Jb(u.a),m.Jb(b.a),m.Jb(g.a),m.Jb(o.a),m.Jb(o.f))},x.\u0275cmp=m.Db({type:x,selectors:[["app-pasien-baru"]],features:[m.wb([s.a])],decls:138,vars:72,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"p-grid"],[1,"p-col-12","p-md-4"],[1,"card","card-w-title",2,"height","700px","overflow","auto"],[1,"p-col-12","p-md-12"],["for","input",1,"label-required"],["type","text","pInputText","","placeholder","Tekan Enter untuk pencarian NIK","maxlength","16",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Tempat Lahir",3,"ngModel","ngModelChange"],["yearRange","1980:2030","dateFormat","dd-mm-yy","placeholder","dd-mm-yyyy",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Jenis Kelamin","optionLabel","jeniskelamin",3,"options","ngModel","filter","showClear","ngModelChange"],["for","input",1,"label"],["placeholder","Agama","optionLabel","agama",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Status Perkawinan","optionLabel","statusperkawinan",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Golongan Darah","optionLabel","golongandarah",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Pendidikan","optionLabel","pendidikan","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Pekerjaan","optionLabel","pekerjaan","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange"],["rows","4","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-12",2,"margin-top","8px"],["type","text","pInputText","","placeholder","Kode Pos",3,"ngModel","ngModelChange","keyup.enter"],["field","namadesakelurahan","placeholder","Kelurahan",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod","onSelect"],["pTemplate","item"],["field","namakecamatan","placeholder","Kecamatan",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod"],["placeholder","Kota Kabupaten","optionLabel","namakotakabupaten","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Provinsi ","optionLabel","namapropinsi","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Kebangsaan","optionLabel","name",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["placeholder","Etnis","optionLabel","suku",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Negara","optionLabel","namanegara",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Tekan Enter untuk pencarian No BPJS",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","No Asuransi Lain",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Telpon ",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No HP",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Ayah ",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Ibu ",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Keluarga ",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Suami / Istri",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-12",2,"margin-top","15px"],["binary","true","inputId","item.cekPenanggungJawab",3,"ngModel","ngModelChange"],["for","item.cekPenanggungJawab"],["class","p-col-12 p-md-12",4,"ngIf"],["class","p-col-12 p-md-1 p-md-offset-10",4,"ngIf"],[1,"p-col-12","p-md-1"],["pButton","","type","button","icon","pi pi-arrow-left","pTooltip","Simpan","label","Batal",1,"p-button","p-button-danger","p-mr-2",3,"click"],[1,"country-item"],[1,"card","card-w-title"],["type","text","pInputText","","placeholder","Nama Penanggung Jawab",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Hubungan Dengan Pasien",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Telepon",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Bahasa Sehari-hari",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Umur",3,"ngModel","ngModelChange"],["placeholder","Pekerjaan","optionLabel","pekerjaan",3,"options","ngModel","filter","showClear","ngModelChange"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Dokter Pengirim",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-1","p-md-offset-10"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan","label","Simpan",1,"p-button","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-arrow-right","pTooltip","Registrasi ","label","Registrasi",1,"p-button","p-mr-2",3,"click"]],template:function(a,e){1&a&&(m.Lb(0,"p-confirmDialog",0),m.Qb(1,"div",1),m.Qb(2,"div",2),m.Qb(3,"div",3),m.Qb(4,"div",4),m.Qb(5,"h4"),m.Jc(6,"Info Pasien"),m.Pb(),m.Qb(7,"div",2),m.Qb(8,"div",5),m.Qb(9,"label",6),m.Jc(10,"NIK "),m.Pb(),m.Qb(11,"input",7),m.Yb("ngModelChange",function(a){return e.item.noIdentitas=a})("keyup.enter",function(){return e.getNik("nik",e.item.noIdentitas)}),m.Pb(),m.Pb(),m.Qb(12,"div",5),m.Qb(13,"label",6),m.Jc(14,"Nama Pasien "),m.Pb(),m.Qb(15,"input",8),m.Yb("ngModelChange",function(a){return e.item.namaPasien=a}),m.Pb(),m.Pb(),m.Qb(16,"div",5),m.Qb(17,"label",6),m.Jc(18,"Tempat Lahir "),m.Pb(),m.Qb(19,"input",9),m.Yb("ngModelChange",function(a){return e.item.tempatLahir=a}),m.Pb(),m.Pb(),m.Qb(20,"div",5),m.Qb(21,"label",6),m.Jc(22,"Tgl Lahir "),m.Pb(),m.Qb(23,"p-calendar",10),m.Yb("ngModelChange",function(a){return e.item.tglLahir=a}),m.Pb(),m.Pb(),m.Qb(24,"div",5),m.Qb(25,"label",6),m.Jc(26,"Jenis Kelamin "),m.Pb(),m.Qb(27,"p-dropdown",11),m.Yb("ngModelChange",function(a){return e.item.jenisKelamin=a}),m.Pb(),m.Pb(),m.Qb(28,"div",5),m.Qb(29,"label",12),m.Jc(30,"Agama "),m.Pb(),m.Qb(31,"p-dropdown",13),m.Yb("ngModelChange",function(a){return e.item.agama=a}),m.Pb(),m.Pb(),m.Qb(32,"div",5),m.Qb(33,"label",12),m.Jc(34,"Status Perkawinan "),m.Pb(),m.Qb(35,"p-dropdown",14),m.Yb("ngModelChange",function(a){return e.item.statusPerkawinan=a}),m.Pb(),m.Pb(),m.Qb(36,"div",5),m.Qb(37,"label",12),m.Jc(38,"Golongan Darah "),m.Pb(),m.Qb(39,"p-dropdown",15),m.Yb("ngModelChange",function(a){return e.item.golonganDarah=a}),m.Pb(),m.Pb(),m.Qb(40,"div",5),m.Qb(41,"label",12),m.Jc(42,"Pendidikan "),m.Pb(),m.Qb(43,"p-dropdown",16),m.Yb("ngModelChange",function(a){return e.item.pendidikan=a}),m.Pb(),m.Pb(),m.Qb(44,"div",5),m.Qb(45,"label",12),m.Jc(46,"Pekerjaan "),m.Pb(),m.Qb(47,"p-dropdown",17),m.Yb("ngModelChange",function(a){return e.item.pekerjaan=a}),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(48,"div",3),m.Qb(49,"div",4),m.Qb(50,"h4"),m.Jc(51,"Detail Pasien"),m.Pb(),m.Qb(52,"div",2),m.Qb(53,"div",5),m.Qb(54,"div",2),m.Qb(55,"div",5),m.Qb(56,"label",6),m.Jc(57,"Alamat "),m.Pb(),m.Qb(58,"textarea",18),m.Yb("ngModelChange",function(a){return e.item.alamatLengkap=a}),m.Pb(),m.Pb(),m.Qb(59,"div",19),m.Qb(60,"label",12),m.Jc(61,"Kode Pos "),m.Pb(),m.Qb(62,"input",20),m.Yb("ngModelChange",function(a){return e.item.kodePos=a})("keyup.enter",function(){return e.findKodePos(e.item.kodePos)}),m.Pb(),m.Pb(),m.Qb(63,"div",5),m.Qb(64,"label",6),m.Jc(65,"Kelurahan "),m.Pb(),m.Qb(66,"p-autoComplete",21),m.Yb("ngModelChange",function(a){return e.item.desaKelurahan=a})("completeMethod",function(a){return e.filterDesa(a)})("onSelect",function(a){return e.selectDesa(a)}),m.Hc(67,Q,19,4,"ng-template",22),m.Pb(),m.Pb(),m.Qb(68,"div",5),m.Qb(69,"label",12),m.Jc(70,"Kecamatan "),m.Pb(),m.Qb(71,"p-autoComplete",23),m.Yb("ngModelChange",function(a){return e.item.kecamatan=a})("completeMethod",function(a){return e.filterKec(a)}),m.Pb(),m.Pb(),m.Qb(72,"div",5),m.Qb(73,"label",12),m.Jc(74,"Kota Kabupaten "),m.Pb(),m.Qb(75,"p-dropdown",24),m.Yb("ngModelChange",function(a){return e.item.kotaKabupaten=a}),m.Pb(),m.Pb(),m.Qb(76,"div",5),m.Qb(77,"label",12),m.Jc(78,"Provinsi "),m.Pb(),m.Qb(79,"p-dropdown",25),m.Yb("ngModelChange",function(a){return e.item.propinsi=a}),m.Pb(),m.Pb(),m.Qb(80,"div",5),m.Qb(81,"label",12),m.Jc(82,"Kebangsaan "),m.Pb(),m.Qb(83,"p-dropdown",26),m.Yb("ngModelChange",function(a){return e.item.kebangsaan=a})("onChange",function(a){return e.changeKebangsaan(a)}),m.Pb(),m.Pb(),m.Qb(84,"div",5),m.Qb(85,"label",12),m.Jc(86,"Etnis "),m.Pb(),m.Qb(87,"p-dropdown",27),m.Yb("ngModelChange",function(a){return e.item.suku=a}),m.Pb(),m.Pb(),m.Qb(88,"div",5),m.Qb(89,"label",12),m.Jc(90,"Negara "),m.Pb(),m.Qb(91,"p-dropdown",28),m.Yb("ngModelChange",function(a){return e.item.negara=a}),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(92,"div",3),m.Qb(93,"div",4),m.Lb(94,"h4"),m.Qb(95,"div",2),m.Qb(96,"div",5),m.Qb(97,"label",12),m.Jc(98,"No BPJS "),m.Pb(),m.Qb(99,"input",29),m.Yb("ngModelChange",function(a){return e.item.noBpjs=a})("keyup.enter",function(){return e.getNik("nokartu",e.item.noBpjs)}),m.Pb(),m.Pb(),m.Qb(100,"div",5),m.Qb(101,"label",12),m.Jc(102,"No Asuransi Lain "),m.Pb(),m.Qb(103,"input",30),m.Yb("ngModelChange",function(a){return e.item.noAsuransiLain=a}),m.Pb(),m.Pb(),m.Qb(104,"div",5),m.Qb(105,"label",12),m.Jc(106,"No Telpon "),m.Pb(),m.Qb(107,"input",31),m.Yb("ngModelChange",function(a){return e.item.noTelepon=a}),m.Pb(),m.Pb(),m.Qb(108,"div",5),m.Qb(109,"label",6),m.Jc(110,"No HP "),m.Pb(),m.Qb(111,"input",32),m.Yb("ngModelChange",function(a){return e.item.noHp=a}),m.Pb(),m.Pb(),m.Qb(112,"div",5),m.Qb(113,"label",12),m.Jc(114,"Nama Ayah "),m.Pb(),m.Qb(115,"input",33),m.Yb("ngModelChange",function(a){return e.item.namaAyah=a}),m.Pb(),m.Pb(),m.Qb(116,"div",5),m.Qb(117,"label",12),m.Jc(118,"Nama Ibu "),m.Pb(),m.Qb(119,"input",34),m.Yb("ngModelChange",function(a){return e.item.namaIbu=a}),m.Pb(),m.Pb(),m.Qb(120,"div",5),m.Qb(121,"label",12),m.Jc(122,"Nama Keluarga "),m.Pb(),m.Qb(123,"input",35),m.Yb("ngModelChange",function(a){return e.item.namaKeluarga=a}),m.Pb(),m.Pb(),m.Qb(124,"div",5),m.Qb(125,"label",12),m.Jc(126,"Nama Suami / Istri "),m.Pb(),m.Qb(127,"input",36),m.Yb("ngModelChange",function(a){return e.item.namaSuamiIstri=a}),m.Pb(),m.Pb(),m.Qb(128,"div",37),m.Qb(129,"p-checkbox",38),m.Yb("ngModelChange",function(a){return e.item.cekPenanggungJawab=a}),m.Pb(),m.Qb(130,"label",39),m.Jc(131," Penanggung Jawab Pasien"),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Hc(132,w,45,16,"div",40),m.Pb(),m.Qb(133,"div",2),m.Hc(134,K,2,0,"div",41),m.Hc(135,y,2,0,"div",41),m.Qb(136,"div",42),m.Qb(137,"button",43),m.Yb("click",function(){return e.cancel()}),m.Pb(),m.Pb(),m.Pb(),m.Pb()),2&a&&(m.xb(11),m.ic("ngModel",e.item.noIdentitas),m.xb(4),m.ic("ngModel",e.item.namaPasien),m.xb(4),m.ic("ngModel",e.item.tempatLahir),m.xb(4),m.ic("ngModel",e.item.tglLahir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),m.xb(4),m.ic("options",e.listDataJenisKelamin)("ngModel",e.item.jenisKelamin)("filter",!0)("showClear",!0),m.xb(4),m.ic("options",e.listDataAgama)("ngModel",e.item.agama)("filter",!0)("showClear",!0),m.xb(4),m.ic("options",e.listDataStatusPerkawinan)("ngModel",e.item.statusPerkawinan)("filter",!0)("showClear",!0),m.xb(4),m.ic("options",e.listGolonganDarah)("ngModel",e.item.golonganDarah)("filter",!0)("showClear",!0),m.xb(4),m.ic("options",e.listDataPendidikan)("ngModel",e.item.pendidikan)("filter",!0)("showClear",!0),m.xb(4),m.ic("options",e.listDataPekerjaan)("ngModel",e.item.pekerjaan)("filter",!0)("showClear",!0),m.xb(11),m.ic("ngModel",e.item.alamatLengkap),m.xb(4),m.ic("ngModel",e.item.kodePos),m.xb(4),m.ic("ngModel",e.item.desaKelurahan)("suggestions",e.listDataKelurahan)("dropdown",!0),m.xb(5),m.ic("ngModel",e.item.kecamatan)("suggestions",e.listDataKecamatan)("dropdown",!0),m.xb(4),m.ic("options",e.listDataKotaKabupaten)("ngModel",e.item.kotaKabupaten)("filter",!0)("showClear",!0),m.xb(4),m.ic("options",e.listDataPropinsi)("ngModel",e.item.propinsi)("filter",!0)("showClear",!0),m.xb(4),m.ic("options",e.listKebangsaan)("ngModel",e.item.kebangsaan)("filter",!0)("showClear",!0),m.xb(4),m.ic("options",e.listSuku)("ngModel",e.item.suku)("filter",!0)("showClear",!0),m.xb(4),m.ic("options",e.listNegara)("ngModel",e.item.negara)("filter",!0)("showClear",!0),m.xb(8),m.ic("ngModel",e.item.noBpjs),m.xb(4),m.ic("ngModel",e.item.noAsuransiLain),m.xb(4),m.ic("ngModel",e.item.noTelepon),m.xb(4),m.ic("ngModel",e.item.noHp),m.xb(4),m.ic("ngModel",e.item.namaAyah),m.xb(4),m.ic("ngModel",e.item.namaIbu),m.xb(4),m.ic("ngModel",e.item.namaKeluarga),m.xb(4),m.ic("ngModel",e.item.namaSuamiIstri),m.xb(2),m.ic("ngModel",e.item.cekPenanggungJawab),m.xb(3),m.ic("ngIf",1==e.item.cekPenanggungJawab),m.xb(2),m.ic("ngIf",!e.isNext),m.xb(1),m.ic("ngIf",e.isNext))},directives:[d.a,c.a,h.a,c.c,c.g,c.h,k.a,P.a,f.a,j.a,s.k,v.a,l.l,C.b,M.a],styles:[""]}),x)}],T=((J=function e(){a(this,e)}).\u0275mod=m.Hb({type:J}),J.\u0275inj=m.Gb({factory:function(a){return new(a||J)},imports:[[o.j.forChild(I)],o.j]}),J),S=i("PCNd"),L=((D=function e(){a(this,e)}).\u0275mod=m.Hb({type:D}),D.\u0275inj=m.Gb({factory:function(a){return new(a||D)},imports:[[l.b,T,S.a]]}),D)}}])}();