(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{UCwq:function(t,e,i){"use strict";i.r(e),i.d(e,"DaftarKirimMenuModule",function(){return S});var n=i("ofXK"),a=i("tyNb"),o=i("7zfz"),r=i("wd/R"),l=i("fXoL"),c=i("EJUL"),b=i("U+s4"),s=i("G0w9"),p=i("ujBT"),d=i("RTT/"),u=i("eO1q"),m=i("3Pt+"),h=i("7kUa"),g=i("jIHw"),f=i("xlun"),P=i("rEr+"),k=i("/RsI"),w=i("Ks7X"),Q=i("Q4Mo");function v(t,e){if(1&t&&(l.Qb(0,"th",27),l.Jc(1),l.Lb(2,"p-sortIcon",28),l.Pb()),2&t){const t=e.$implicit;l.Fc("width: ",t.width,""),l.jc("pSortableColumn",t.field),l.xb(1),l.Lc(" ",t.header," "),l.xb(1),l.jc("field",t.field)}}function x(t,e){if(1&t&&(l.Qb(0,"tr"),l.Lb(1,"th",25),l.Hc(2,v,3,6,"th",26),l.Pb()),2&t){const t=e.$implicit;l.xb(2),l.ic("ngForOf",t)}}function M(t,e){if(1&t&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&t){const t=l.bc().$implicit,e=l.bc().$implicit,i=l.bc();l.xb(1),l.Lc(" ",i.formatRupiah(e[t.field],""),"")}}function C(t,e){if(1&t&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&t){const t=l.bc().$implicit,e=l.bc().$implicit;l.xb(1),l.Lc(" ",e[t.field],"")}}function y(t,e){if(1&t&&(l.Qb(0,"td"),l.Hc(1,M,2,1,"span",34),l.Hc(2,C,2,1,"span",34),l.Pb()),2&t){const t=e.$implicit;l.Fc("width: ",t.width,""),l.xb(1),l.ic("ngIf",null!=t.isCurrency),l.xb(1),l.ic("ngIf",null==t.isCurrency)}}function J(t,e){if(1&t){const t=l.Sb();l.Qb(0,"tr"),l.Qb(1,"td",29),l.Lb(2,"button",30),l.Qb(3,"button",31),l.Yb("click",function(i){l.yc(t);const n=e.$implicit;return l.bc().batalKirim(i,n)}),l.Pb(),l.Qb(4,"button",32),l.Yb("click",function(){l.yc(t);const i=e.$implicit;return l.bc().cetakLabel(i)}),l.Pb(),l.Pb(),l.Hc(5,y,3,5,"td",33),l.Pb()}if(2&t){const t=e.$implicit,i=e.columns,n=e.expanded;l.xb(2),l.ic("pRowToggler",t)("icon",n?"pi pi-chevron-down":"pi pi-chevron-right"),l.xb(3),l.ic("ngForOf",i)}}function D(t,e){1&t&&(l.Qb(0,"tr"),l.Qb(1,"th"),l.Jc(2,"No Registrasi"),l.Pb(),l.Qb(3,"th"),l.Jc(4,"No RM"),l.Pb(),l.Qb(5,"th"),l.Jc(6,"Nama Pasien"),l.Pb(),l.Qb(7,"th"),l.Jc(8,"Ruangan"),l.Pb(),l.Qb(9,"th"),l.Jc(10,"Jenis Diet"),l.Pb(),l.Qb(11,"th"),l.Jc(12,"Jenis Waktu"),l.Pb(),l.Pb())}function Y(t,e){if(1&t&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&t){const t=e.$implicit;l.zb("order-badge order-instock"),l.xb(1),l.Lc(" ",t.jenisdiet," ")}}function j(t,e){if(1&t&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Jc(2),l.Pb(),l.Qb(3,"td"),l.Jc(4),l.Pb(),l.Qb(5,"td"),l.Jc(6),l.Pb(),l.Qb(7,"td"),l.Jc(8),l.Pb(),l.Qb(9,"td"),l.Hc(10,Y,2,3,"span",38),l.Pb(),l.Qb(11,"td"),l.Jc(12),l.Pb(),l.Pb()),2&t){const t=e.$implicit;l.xb(2),l.Kc(t.noregistrasi),l.xb(2),l.Kc(t.norm),l.xb(2),l.Kc(t.namapasien),l.xb(2),l.Kc(t.namaruangan),l.xb(2),l.ic("ngForOf",t.jenisdiet),l.xb(2),l.Kc(t.jeniswaktu)}}function K(t,e){if(1&t&&(l.Qb(0,"tr"),l.Qb(1,"td",35),l.Qb(2,"div",36),l.Qb(3,"p-table",37),l.Hc(4,D,13,0,"ng-template",17),l.Hc(5,j,13,6,"ng-template",18),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&t){const t=e.$implicit;l.xb(3),l.ic("value",t.details)}}function R(t,e){if(1&t){const t=l.Sb();l.Qb(0,"button",39),l.Yb("click",function(){return l.yc(t),l.bc().cetakEuy()}),l.Pb()}}const H=function(){return[5,10,25,50]},N=[{path:"",component:(()=>{class t{constructor(t,e,i,n,a,o,r,l){this.apiService=t,this.authService=e,this.cacheHelper=i,this.dateHelper=n,this.alertService=a,this.route=o,this.router=r,this.confirmationService=l,this.item={tglMenu:new Date,qtyProduk:1},this.itemR={},this.listRuangan=[],this.lengthKonsul=0,this.dataSourceKonsul=[],this.data2=[],this.columnMenu=[],this.dsMenu=[],this.dataMenuSiklus=[],this.listMenu=[]}ngOnInit(){this.item.periodeAwal=new Date(r(new Date).format("YYYY-MM-DD 00:00")),this.item.periodeAkhir=new Date(r(new Date).format("YYYY-MM-DD 23:59")),this.column=[{field:"no",header:"No",width:"60px"},{field:"nokirim",header:"No Kirim",width:"120px"},{field:"tglkirim",header:"Tgl Kirim",width:"150px"},{field:"ruanganasal",header:"Ruang Asal",width:"200px"},{field:"pegawaikirim",header:"Petugas",width:"150px"},{field:"keterangan",header:"Ket",width:"150px"}],this.apiService.get("rawatinap/get-combo-gizi").subscribe(t=>{this.listJenisWaktu=t.jeniswaktu,this.listJenisDiet=t.jenisdiet,this.loadData()})}cari(){this.loadData()}loadData(){var t=r(this.item.periodeAwal).format("YYYY-MM-DD HH:mm:ss"),e=r(this.item.periodeAkhir).format("YYYY-MM-DD HH:mm:ss"),i="";null!=this.item.noCm&&(i="&norm="+this.item.noCm);var n="";null!=this.item.namaPasien&&(n="&nama="+this.item.namaPasien);var a="";null!=this.item.noRegistrasi&&(a="&noreg="+this.item.noRegistrasi);var o="";if(null!=this.item.noKirim&&(o=this.item.noKirim),null!=this.item.ruanganMulti&&0!=this.item.ruanganMulti.length){for(var l="",c=this.item.ruanganMulti.length-1;c>=0;c--)l+=","+this.item.ruanganMulti[c].id;l.slice(1,l.length)}if(null!=this.item.jenisDiet&&0!=this.item.jenisDiet.length){for(l="",c=this.item.jenisDiet.length-1;c>=0;c--)l+=","+this.item.jenisDiet[c].id;l.slice(1,l.length)}var b="";null!=this.item.rows&&(b="&jmlRow="+this.item.rows),this.apiService.get("rawatinap/get-daftar-kirim-gizi?&tglAwal="+t+"&tglAkhir="+e+"&norm="+i+"&noreg="+a+"&nokirim="+o+"&nama="+n+b).subscribe(t=>{let e=t.data;for(var i=0;i<e.length;i++){e[i].no=i+1;for(let t=0;t<e[i].details.length;t++){const r=e[i].details[t];if(r.jenisdiet=[],r.arrjenisdiet){var n=r.arrjenisdiet.split(",");if(n.length>0)for(var a=0;a<n.length;a++){const t=n[a];for(var o=0;o<this.listJenisDiet.length;o++){const e=this.listJenisDiet[o];t==e.id&&r.jenisdiet.push(e)}}}}}this.dataSource=e})}cetakLabel(t){this.pop_Cetak=!0,this.item.jmlCetak=1}cetakEuy(){if(this.item.jmlCetak=0)this.alertService.warn("Info","qty tidak boleh nol");else{var t,e=this.selectedData.norec_op;t=confirm("View Label Gizi? ")?"true":"false",this.apiService.getUrlCetak("http://127.0.0.1:3885/desk/routes?cetak-labelgizi=1&norec="+e+"&qty="+this.item.jmlCetak+"&view="+t,function(t){}),this.pop_Cetak=!1}}batalKirim(t,e){this.confirmationService.confirm({target:t.target,message:"Yakin mau batal kirim?",icon:"pi pi-exclamation-triangle",acceptLabel:"Ya",rejectLabel:"Tidak",accept:()=>{this.apiService.post("rawatinap/batal-kirim-gizi",{norec:e.norec_sk}).subscribe(t=>{this.loadData()})},reject:()=>{}})}}return t.\u0275fac=function(e){return new(e||t)(l.Jb(c.a),l.Jb(c.b),l.Jb(b.a),l.Jb(s.a),l.Jb(p.a),l.Jb(a.a),l.Jb(a.f),l.Jb(o.a))},t.\u0275cmp=l.Db({type:t,selectors:[["app-daftar-kirim-menu"]],features:[l.wb([o.a])],decls:49,vars:32,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","No RM",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","No Registrasi",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","No Kirim ",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["header","Cetak",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-fluid","p-grid"],["for","horizontal",1,"label-required"],["buttonLayout","horizontal","inputId","horizontal","spinnerMode","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"ngModel","showButtons","step","ngModelChange"],["pTemplate","footer"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","90px"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-2",3,"pRowToggler","icon"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Batal Kirim","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-print","pTooltip","Cetak Label","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","7"],[1,"p-p-3"],["dataKey","id",3,"value"],[3,"class",4,"ngFor","ngForOf"],["pButton","","icon","pi pi-print","label","Cetak",1,"p-button","p-mr-2",3,"click"]],template:function(t,e){1&t&&(l.Lb(0,"p-confirmPopup"),l.Qb(1,"div",0),l.Qb(2,"div",1),l.Qb(3,"h4"),l.Jc(4,"Daftar Kirim"),l.Pb(),l.Qb(5,"div",2),l.Qb(6,"div",3),l.Qb(7,"div",4),l.Qb(8,"label",5),l.Jc(9,"Periode Awal"),l.Pb(),l.Qb(10,"p-calendar",6),l.Yb("ngModelChange",function(t){return e.item.periodeAwal=t}),l.Pb(),l.Pb(),l.Qb(11,"div",4),l.Qb(12,"label",5),l.Jc(13,"Periode Akhir"),l.Pb(),l.Qb(14,"p-calendar",6),l.Yb("ngModelChange",function(t){return e.item.periodeAkhir=t}),l.Pb(),l.Pb(),l.Qb(15,"div",7),l.Qb(16,"label",5),l.Jc(17,"No RM "),l.Pb(),l.Qb(18,"input",8),l.Yb("ngModelChange",function(t){return e.item.noCm=t})("keyup.enter",function(){return e.cari()}),l.Pb(),l.Pb(),l.Qb(19,"div",4),l.Qb(20,"label",5),l.Jc(21,"Nama Pasien "),l.Pb(),l.Qb(22,"input",9),l.Yb("ngModelChange",function(t){return e.item.namaPasien=t})("keyup.enter",function(){return e.cari()}),l.Pb(),l.Pb(),l.Qb(23,"div",4),l.Qb(24,"label",5),l.Jc(25,"No Registrasi"),l.Pb(),l.Qb(26,"input",10),l.Yb("ngModelChange",function(t){return e.item.noRegistrasi=t})("keyup.enter",function(){return e.cari()}),l.Pb(),l.Pb(),l.Qb(27,"div",4),l.Qb(28,"label",5),l.Jc(29,"No Kirim "),l.Pb(),l.Qb(30,"input",11),l.Yb("ngModelChange",function(t){return e.item.noKirim=t})("keyup.enter",function(){return e.cari()}),l.Pb(),l.Pb(),l.Qb(31,"div",12),l.Qb(32,"button",13),l.Yb("click",function(){return e.cari()}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(33,"div",14),l.Qb(34,"div",3),l.Qb(35,"div",2),l.Qb(36,"p-table",15,16),l.Yb("selectionChange",function(t){return e.selectedData=t}),l.Hc(38,x,3,1,"ng-template",17),l.Hc(39,J,6,3,"ng-template",18),l.Hc(40,K,6,1,"ng-template",19),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Lb(41,"div",3),l.Pb(),l.Pb(),l.Qb(42,"p-dialog",20),l.Yb("visibleChange",function(t){return e.pop_Cetak=t}),l.Qb(43,"div",21),l.Qb(44,"div",14),l.Qb(45,"label",22),l.Jc(46,"Jumlah Cetak"),l.Pb(),l.Qb(47,"p-inputNumber",23),l.Yb("ngModelChange",function(t){return e.item.jmlCetak=t}),l.Pb(),l.Pb(),l.Pb(),l.Hc(48,R,1,0,"ng-template",24),l.Pb()),2&t&&(l.xb(10),l.ic("ngModel",e.item.periodeAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),l.xb(4),l.ic("ngModel",e.item.periodeAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),l.xb(4),l.ic("ngModel",e.item.noCm),l.xb(4),l.ic("ngModel",e.item.namaPasien),l.xb(4),l.ic("ngModel",e.item.noRegistrasi),l.xb(4),l.ic("ngModel",e.item.noKirim),l.xb(6),l.ic("columns",e.column)("value",e.dataSource)("selection",e.selectedData)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",l.mc(31,H))("paginator",!0)("pageLinks",5),l.xb(6),l.ic("visible",e.pop_Cetak)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),l.xb(5),l.ic("ngModel",e.item.jmlCetak)("showButtons",!0)("step",1))},directives:[d.a,u.a,m.g,m.h,m.a,h.a,g.b,f.a,P.h,o.k,k.a,w.a,n.k,P.g,P.f,Q.a,P.d,n.l],styles:["[_nghost-%COMP%]     .row-header{background-color:rgba(0,0,0,.15)!important}.p-field-checkbox[_ngcontent-%COMP%], .p-field-radiobutton[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center}.order-badge.order-instock[_ngcontent-%COMP%]{background:#83ca88;color:#fff;margin-right:2px;border-radius:15px;border:1px solid;padding:2px 7px;font-family:inherit;line-height:1.72em;text-align:center;text-decoration:none;display:inline-block;min-width:78px;vertical-align:middle;margin-top:5px;font-size:10px}"]}),t})()}];let T=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(e){return new(e||t)},imports:[[a.j.forChild(N)],a.j]}),t})();var L=i("PCNd");let S=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(e){return new(e||t)},imports:[[n.b,T,L.a]]}),t})()}}]);