(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{UxSD:function(t,a,e){"use strict";e.r(a),e.d(a,"OrderResepModule",function(){return Ct});var i=e("ofXK"),n=e("tyNb"),s=e("wd/R"),r=e("fXoL"),o=e("By0h"),l=e("EJUL"),c=e("7zfz"),d=e("U+s4"),b=e("G0w9"),h=e("ujBT"),u=e("dPl2"),p=e("7CaW"),m=e("eO1q"),g=e("3Pt+"),k=e("arFO"),f=e("7kUa"),P=e("V5BG"),Q=e("Ks7X"),v=e("jIHw"),x=e("xlun"),w=e("lUkA"),S=e("rEr+"),y=e("/RsI"),C=e("LuMj"),j=e("Ji6n"),R=e("Q4Mo");function J(t,a){if(1&t){const t=r.Sb();r.Qb(0,"div",52),r.Qb(1,"p-radioButton",53),r.Yb("ngModelChange",function(a){return r.yc(t),r.bc().item.jenisKemasan=a})("onClick",function(){r.yc(t);const a=r.bc();return a.clickRadio(a.item.jenisKemasan)}),r.Pb(),r.Qb(2,"label",54),r.Jc(3),r.Pb(),r.Pb()}if(2&t){const t=a.$implicit,e=r.bc();r.xb(1),r.ic("inputId",t.id)("value",t)("ngModel",e.item.jenisKemasan),r.xb(1),r.ic("for",t.id),r.xb(1),r.Kc(t.jeniskemasan)}}function M(t,a){if(1&t){const t=r.Sb();r.Qb(0,"div",19),r.Qb(1,"label",9),r.Jc(2,"Jumlah "),r.Pb(),r.Qb(3,"p-inputNumber",23),r.Yb("ngModelChange",function(a){return r.yc(t),r.bc().item.jumlahxmakan=a})("onInput",function(a){return r.yc(t),r.bc().onChangeJmlXMakan(a)}),r.Pb(),r.Pb()}if(2&t){const t=r.bc();r.xb(3),r.ic("ngModel",t.item.jumlahxmakan)("showButtons",!0)}}function K(t,a){if(1&t){const t=r.Sb();r.Qb(0,"div",19),r.Qb(1,"label",9),r.Jc(2,"Dosis "),r.Pb(),r.Qb(3,"input",55),r.Yb("ngModelChange",function(a){return r.yc(t),r.bc().item.dosis=a})("input",function(a){return r.yc(t),r.bc().onChangeJmlXMakan(a.target.value)}),r.Pb(),r.Pb()}if(2&t){const t=r.bc();r.xb(3),r.ic("ngModel",t.item.dosis)}}function D(t,a){if(1&t){const t=r.Sb();r.Qb(0,"div",19),r.Qb(1,"label",9),r.Jc(2,"Jenis Racikan "),r.Pb(),r.Qb(3,"p-dropdown",56),r.Yb("ngModelChange",function(a){return r.yc(t),r.bc().item.jenisRacikan=a}),r.Pb(),r.Pb()}if(2&t){const t=r.bc();r.xb(3),r.ic("options",t.listJenisRacikan)("ngModel",t.item.jenisRacikan)("filter",!0)("showClear",!0)}}function T(t,a){if(1&t){const t=r.Sb();r.Qb(0,"div",57),r.Qb(1,"div",5),r.Qb(2,"div",6),r.Qb(3,"p-checkbox",58),r.Yb("ngModelChange",function(e){r.yc(t);const i=a.$implicit;return r.bc().item.aturanCheck[i.id]=e})("onChange",function(){return r.yc(t),r.bc().getSelected()}),r.Pb(),r.Pb(),r.Qb(4,"div",59),r.Qb(5,"label",54),r.Jc(6),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=a.$implicit,e=r.bc();r.xb(3),r.jc("inputId",t.id),r.ic("ngModel",e.item.aturanCheck[t.id]),r.xb(2),r.ic("for",t.id),r.xb(1),r.Lc(" ",t.nama,"")}}function F(t,a){if(1&t&&(r.Qb(0,"th"),r.Jc(1),r.Pb()),2&t){const t=a.$implicit;r.Fc("width: ",t.width,""),r.xb(1),r.Lc(" ",t.header," ")}}function H(t,a){if(1&t&&(r.Qb(0,"tr"),r.Lb(1,"th",60),r.Hc(2,F,2,4,"th",61),r.Pb()),2&t){const t=a.$implicit;r.xb(2),r.ic("ngForOf",t)}}function I(t,a){if(1&t&&(r.Qb(0,"span"),r.Jc(1),r.Pb()),2&t){const t=r.bc().$implicit,a=r.bc().$implicit,e=r.bc();r.xb(1),r.Lc(" ",e.formatRupiah(a[t.field],""),"")}}function O(t,a){if(1&t&&(r.Qb(0,"span"),r.Jc(1),r.Pb()),2&t){const t=r.bc().$implicit,a=r.bc().$implicit;r.xb(1),r.Lc(" ",a[t.field],"")}}function L(t,a){if(1&t&&(r.Qb(0,"td"),r.Hc(1,I,2,1,"span",64),r.Hc(2,O,2,1,"span",64),r.Pb()),2&t){const t=a.$implicit;r.Fc("width: ",t.width,""),r.xb(1),r.ic("ngIf",null!=t.isCurrency),r.xb(1),r.ic("ngIf",null==t.isCurrency)}}function $(t,a){if(1&t){const t=r.Sb();r.Qb(0,"tr"),r.Qb(1,"td",60),r.Qb(2,"button",62),r.Yb("click",function(){r.yc(t);const e=a.$implicit;return r.bc().editD(e)}),r.Pb(),r.Qb(3,"button",63),r.Yb("click",function(){r.yc(t);const e=a.$implicit;return r.bc().hapusD(e)}),r.Pb(),r.Pb(),r.Hc(4,L,3,5,"td",61),r.Pb()}if(2&t){const t=a.columns;r.xb(4),r.ic("ngForOf",t)}}function Y(t,a){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td",65),r.Jc(2,"Grand Total : "),r.Pb(),r.Qb(3,"td"),r.Jc(4),r.Pb(),r.Pb()),2&t){const t=r.bc();r.xb(4),r.Lc(" ",t.item.totalSubTotal,"")}}function N(t,a){if(1&t){const t=r.Sb();r.Qb(0,"div",66),r.Qb(1,"div",8),r.Qb(2,"span",67),r.Lb(3,"i",68),r.Qb(4,"input",69),r.Yb("input",function(a){return r.yc(t),r.bc(),r.wc(123).filterGlobal(a.target.value,"contains")}),r.Pb(),r.Pb(),r.Pb(),r.Pb()}}function B(t,a){if(1&t&&(r.Qb(0,"th",72),r.Jc(1),r.Lb(2,"p-sortIcon",73),r.Pb()),2&t){const t=a.$implicit;r.Fc("width: ",t.width,""),r.jc("pSortableColumn",t.field),r.xb(1),r.Lc(" ",t.header," "),r.xb(1),r.jc("field",t.field)}}function A(t,a){if(1&t&&(r.Qb(0,"tr"),r.Lb(1,"th",70),r.Hc(2,B,3,6,"th",71),r.Pb()),2&t){const t=a.$implicit;r.xb(2),r.ic("ngForOf",t)}}function G(t,a){if(1&t&&(r.Qb(0,"span"),r.Jc(1),r.Pb()),2&t){const t=r.bc().$implicit,a=r.bc().$implicit,e=r.bc();r.xb(1),r.Lc(" ",e.formatRupiah(a[t.field],""),"")}}function E(t,a){if(1&t&&(r.Qb(0,"span"),r.Jc(1),r.Pb()),2&t){const t=r.bc().$implicit,a=r.bc().$implicit;r.xb(1),r.Lc(" ",a[t.field],"")}}function _(t,a){if(1&t&&(r.Qb(0,"td"),r.Hc(1,G,2,1,"span",64),r.Hc(2,E,2,1,"span",64),r.Pb()),2&t){const t=a.$implicit;r.Fc("width: ",t.width,""),r.xb(1),r.ic("ngIf",null!=t.isCurrency),r.xb(1),r.ic("ngIf",null==t.isCurrency)}}function U(t,a){if(1&t){const t=r.Sb();r.Qb(0,"tr"),r.Qb(1,"td",70),r.Lb(2,"button",74),r.Qb(3,"button",75),r.Yb("click",function(){r.yc(t);const e=a.$implicit;return r.bc().hapusOrder(e)}),r.Pb(),r.Qb(4,"button",76),r.Yb("click",function(){r.yc(t);const e=a.$implicit;return r.bc().editOrder(e)}),r.Pb(),r.Pb(),r.Hc(5,_,3,5,"td",61),r.Pb()}if(2&t){const t=a.$implicit,e=a.columns,i=a.expanded;r.xb(2),r.ic("pRowToggler",t)("icon",i?"pi pi-chevron-down":"pi pi-chevron-right"),r.xb(3),r.ic("ngForOf",e)}}function V(t,a){1&t&&(r.Qb(0,"tr"),r.Qb(1,"th"),r.Jc(2,"Rke"),r.Pb(),r.Qb(3,"th"),r.Jc(4,"Jenis Kemasan"),r.Pb(),r.Qb(5,"th"),r.Jc(6,"Produk"),r.Pb(),r.Qb(7,"th"),r.Jc(8,"Satuan"),r.Pb(),r.Qb(9,"th"),r.Jc(10,"Aturan Pakai"),r.Pb(),r.Qb(11,"th"),r.Jc(12,"Satuan Resep"),r.Pb(),r.Qb(13,"th"),r.Jc(14,"Qty"),r.Pb(),r.Qb(15,"th"),r.Jc(16,"Tgl Exp"),r.Pb(),r.Pb())}function z(t,a){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.Jc(2),r.Pb(),r.Qb(3,"td"),r.Jc(4),r.Pb(),r.Qb(5,"td"),r.Jc(6),r.Pb(),r.Qb(7,"td"),r.Jc(8),r.Pb(),r.Qb(9,"td"),r.Jc(10),r.Pb(),r.Qb(11,"td"),r.Jc(12),r.Pb(),r.Qb(13,"td"),r.Jc(14),r.Pb(),r.Qb(15,"td"),r.Jc(16),r.Pb(),r.Pb()),2&t){const t=a.$implicit;r.xb(2),r.Kc(t.rke),r.xb(2),r.Kc(t.jeniskemasan),r.xb(2),r.Kc(t.namaproduk),r.xb(2),r.Kc(t.satuanstandar),r.xb(2),r.Kc(t.aturanpakai),r.xb(2),r.Kc(t.satuanresep),r.xb(2),r.Kc(t.jumlah),r.xb(2),r.Kc(t.tglkadaluarsa)}}function X(t,a){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td",77),r.Qb(2,"div",78),r.Qb(3,"p-table",79),r.Hc(4,V,17,0,"ng-template",34),r.Hc(5,z,17,8,"ng-template",35),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=a.$implicit;r.xb(3),r.ic("value",t.details)}}function q(t,a){if(1&t){const t=r.Sb();r.Qb(0,"div",66),r.Qb(1,"div",8),r.Qb(2,"span",67),r.Lb(3,"i",68),r.Qb(4,"input",69),r.Yb("input",function(a){return r.yc(t),r.bc(),r.wc(131).filterGlobal(a.target.value,"contains")}),r.Pb(),r.Pb(),r.Pb(),r.Pb()}}function W(t,a){if(1&t&&(r.Qb(0,"th",72),r.Jc(1),r.Lb(2,"p-sortIcon",73),r.Pb()),2&t){const t=a.$implicit;r.Fc("width: ",t.width,""),r.jc("pSortableColumn",t.field),r.xb(1),r.Lc(" ",t.header," "),r.xb(1),r.jc("field",t.field)}}function Z(t,a){if(1&t&&(r.Qb(0,"tr"),r.Lb(1,"th",60),r.Hc(2,W,3,6,"th",71),r.Pb()),2&t){const t=a.$implicit;r.xb(2),r.ic("ngForOf",t)}}function tt(t,a){if(1&t&&(r.Qb(0,"span"),r.Jc(1),r.Pb()),2&t){const t=r.bc().$implicit,a=r.bc().$implicit,e=r.bc();r.xb(1),r.Lc(" ",e.formatRupiah(a[t.field],""),"")}}function at(t,a){if(1&t&&(r.Qb(0,"span"),r.Jc(1),r.Pb()),2&t){const t=r.bc().$implicit,a=r.bc().$implicit;r.xb(1),r.Lc(" ",a[t.field],"")}}function et(t,a){if(1&t&&(r.Qb(0,"td"),r.Hc(1,tt,2,1,"span",64),r.Hc(2,at,2,1,"span",64),r.Pb()),2&t){const t=a.$implicit;r.Fc("width: ",t.width,""),r.xb(1),r.ic("ngIf",null!=t.isCurrency),r.xb(1),r.ic("ngIf",null==t.isCurrency)}}function it(t,a){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td",60),r.Lb(2,"button",74),r.Pb(),r.Hc(3,et,3,5,"td",61),r.Pb()),2&t){const t=a.$implicit,e=a.columns,i=a.expanded;r.xb(2),r.ic("pRowToggler",t)("icon",i?"pi pi-chevron-down":"pi pi-chevron-right"),r.xb(1),r.ic("ngForOf",e)}}function nt(t,a){1&t&&(r.Qb(0,"tr"),r.Qb(1,"th"),r.Jc(2,"No"),r.Pb(),r.Qb(3,"th"),r.Jc(4,"Produk"),r.Pb(),r.Qb(5,"th"),r.Jc(6,"Aturan Pakai"),r.Pb(),r.Qb(7,"th"),r.Jc(8,"Satuan"),r.Pb(),r.Qb(9,"th"),r.Jc(10,"Qty"),r.Pb(),r.Qb(11,"th"),r.Jc(12,"Kekuatan"),r.Pb(),r.Pb())}function st(t,a){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.Jc(2),r.Pb(),r.Qb(3,"td"),r.Jc(4),r.Pb(),r.Qb(5,"td"),r.Jc(6),r.Pb(),r.Qb(7,"td"),r.Jc(8),r.Pb(),r.Qb(9,"td"),r.Jc(10),r.Pb(),r.Qb(11,"td"),r.Jc(12),r.Pb(),r.Pb()),2&t){const t=a.$implicit;r.xb(2),r.Kc(t.no),r.xb(2),r.Kc(t.namaproduk),r.xb(2),r.Kc(t.aturanpakai),r.xb(2),r.Kc(t.satuanstandar),r.xb(2),r.Kc(t.jumlah),r.xb(2),r.Kc(t.kekuatan)}}function rt(t,a){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td",77),r.Qb(2,"div",78),r.Qb(3,"p-table",80),r.Hc(4,nt,13,0,"ng-template",34),r.Hc(5,st,13,6,"ng-template",35),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=a.$implicit;r.xb(3),r.ic("value",t.details)}}function ot(t,a){if(1&t){const t=r.Sb();r.Qb(0,"div",66),r.Qb(1,"div",2),r.Qb(2,"span",67),r.Lb(3,"i",68),r.Qb(4,"input",69),r.Yb("input",function(a){return r.yc(t),r.bc(),r.wc(131).filterGlobal(a.target.value,"contains")}),r.Pb(),r.Pb(),r.Pb(),r.Pb()}}function lt(t,a){if(1&t&&(r.Qb(0,"th",72),r.Jc(1),r.Lb(2,"p-sortIcon",73),r.Pb()),2&t){const t=a.$implicit;r.Fc("width: ",t.width,""),r.jc("pSortableColumn",t.field),r.xb(1),r.Lc(" ",t.header," "),r.xb(1),r.jc("field",t.field)}}function ct(t,a){if(1&t&&(r.Qb(0,"tr"),r.Lb(1,"th",60),r.Hc(2,lt,3,6,"th",71),r.Pb()),2&t){const t=a.$implicit;r.xb(2),r.ic("ngForOf",t)}}function dt(t,a){if(1&t&&(r.Qb(0,"span"),r.Jc(1),r.Pb()),2&t){const t=r.bc().$implicit,a=r.bc().$implicit,e=r.bc();r.xb(1),r.Lc(" ",e.formatRupiah(a[t.field],""),"")}}function bt(t,a){if(1&t&&(r.Qb(0,"span"),r.Jc(1),r.Pb()),2&t){const t=r.bc().$implicit,a=r.bc().$implicit;r.xb(1),r.Lc(" ",a[t.field],"")}}function ht(t,a){if(1&t&&(r.Qb(0,"td"),r.Hc(1,dt,2,1,"span",64),r.Hc(2,bt,2,1,"span",64),r.Pb()),2&t){const t=a.$implicit;r.Fc("width: ",t.width,""),r.xb(1),r.ic("ngIf",null!=t.isCurrency),r.xb(1),r.ic("ngIf",null==t.isCurrency)}}function ut(t,a){if(1&t){const t=r.Sb();r.Qb(0,"tr"),r.Qb(1,"td",60),r.Lb(2,"button",74),r.Qb(3,"button",81),r.Yb("click",function(){r.yc(t);const e=a.$implicit;return r.bc().addPaket(e)}),r.Pb(),r.Pb(),r.Hc(4,ht,3,5,"td",61),r.Pb()}if(2&t){const t=a.$implicit,e=a.columns,i=a.expanded;r.xb(2),r.ic("pRowToggler",t)("icon",i?"pi pi-chevron-down":"pi pi-chevron-right"),r.xb(2),r.ic("ngForOf",e)}}function pt(t,a){1&t&&(r.Qb(0,"tr"),r.Qb(1,"th"),r.Jc(2,"Nama Layanan"),r.Pb(),r.Pb())}function mt(t,a){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.Jc(2),r.Pb(),r.Pb()),2&t){const t=a.$implicit;r.xb(2),r.Kc(t.namaproduk)}}function gt(t,a){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td",82),r.Qb(2,"div",78),r.Qb(3,"p-table",83),r.Hc(4,pt,3,0,"ng-template",34),r.Hc(5,mt,3,1,"ng-template",35),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=a.$implicit;r.xb(3),r.ic("value",t.details)}}function kt(t,a){if(1&t){const t=r.Sb();r.Qb(0,"p-button",84),r.Yb("click",function(){return r.yc(t),r.bc().closePaket()}),r.Pb()}}const ft=function(){return[5,10,25,50]},Pt=function(){return["namaruangan","noorder","namalengkap","statusorder"]},Qt=function(){return["namaruangan","noresep","namaruangandepo","dokter"]},vt=function(){return{width:"600px",minWidth:"600px"}},xt=function(){return["namapaket"]},wt=[{path:"",component:(()=>{class t{constructor(t,a,e,i,n,s,r,o,l){this.rekamMedis=t,this.apiService=a,this.authService=e,this.confirmationService=i,this.cacheHelper=n,this.dateHelper=s,this.alertService=r,this.activeRoute=o,this.router=l,this.isGranted="granted"===Notification.permission,this.item={tglresep:new Date,tglresepAkhir:new Date,aturanCheck:[],rke:1},this.skeleton=[],this.maxDateValue=new Date,this.headData={},this.dataProdukDetail=[],this.listSatuan=[],this.statusTambah=!0,this.listDataSigna=[{id:1,nama:"P",isChecked:!1},{id:2,nama:"S",isChecked:!1},{id:3,nama:"Sr",isChecked:!1},{id:4,nama:"M",isChecked:!1}],this.hrg1=0,this.columnGrid=[],this.dataSource=[],this.data2=[],this.norecOrder="",this.tambah=function(){if(0!=this.statusTambah)if(1!=this.headData.isclosing)if(0!=this.item.jumlah)if(null!=this.item.jenisKemasan)if(null!=this.item.produk)if(null!=this.item.satuan)if(null!=this.item.aturanpakaitxt){var t="";this.item.KeteranganPakai&&(t=this.item.KeteranganPakai);var a=1;"Racikan"==this.item.jenisKemasan.jeniskemasan&&(a=this.item.dosis);var e,i=null;null!=this.item.jenisRacikan&&(i=this.item.jenisRacikan.id),e=null==this.dataSource?1:this.data2.length+1;var n={};if(this.disabledRuangan=!0,null!=this.item.no)for(var s=this.data2.length-1;s>=0;s--)this.data2[s].no==this.item.no&&(n.no=this.item.no,n.noregistrasifk=this.headData.norec,n.generik=null,n.hargajual=this.item.hargaSatuan,n.jenisobatfk=i,n.stock=this.item.stok,n.harganetto=this.item.hargaSatuan,n.nostrukterimafk=this.noTerima,n.ruanganfk=this.item.ruangan.id,n.rke=this.item.rke,n.jeniskemasanfk=this.item.jenisKemasan.id,n.jeniskemasan=this.item.jenisKemasan.jeniskemasan,n.aturanpakaifk=0,n.aturanpakai=this.item.aturanpakaitxt,n.ispagi=this.item.chkp,n.issiang=this.item.chks,n.issore=this.item.chksr,n.ismalam=this.item.chkm,n.asalprodukfk=0,n.asalproduk="",n.produkfk=this.item.produk.id,n.namaproduk=this.item.produk.namaproduk,n.nilaikonversi=this.item.nilaiKonversi,n.satuanstandarfk=this.item.satuan.ssid,n.satuanstandar=this.item.satuan.satuanstandar,n.satuanviewfk=this.item.satuan.ssid,n.satuanview=this.item.satuan.satuanstandar,n.jmlstok=this.item.stok,n.jumlah=this.item.jumlah,n.hargasatuan=this.item.hargaSatuan,n.hargadiscount=0,n.total=this.item.total,n.dosis=a,n.jumlahxmakan=this.item.jumlahxmakan,n.jmldosis=String(this.item.jumlah/a)+"/"+String(a),n.keterangan=t,n.satuanresepfk=null!=this.item.satuanresep?this.item.satuanresep.id:null,n.satuanresep=null!=this.item.satuanresep?this.item.satuanresep.satuanresep:null,n.tglkadaluarsa=null!=this.tglkadaluarsa?this.tglkadaluarsa:null,n.isoutofstok=!1,n.belumlengkap=!1,this.data2[s]=n,this.dataSource=this.data2);else{n={no:e,generik:null,hargajual:this.item.hargaSatuan,jenisobatfk:i,stock:this.item.stok,harganetto:this.item.hargaSatuan,nostrukterimafk:this.noTerima,ruanganfk:this.item.ruangan.id,rke:this.item.rke,jeniskemasanfk:this.item.jenisKemasan.id,jeniskemasan:this.item.jenisKemasan.jeniskemasan,aturanpakaifk:0,aturanpakai:this.item.aturanpakaitxt,ispagi:this.item.chkp,issiang:this.item.chks,issore:this.item.chksr,ismalam:this.item.chkm,asalprodukfk:0,asalproduk:"",produkfk:this.item.produk.id,namaproduk:this.item.produk.namaproduk,nilaikonversi:this.item.nilaiKonversi,satuanstandarfk:this.item.satuan.ssid,satuanstandar:this.item.satuan.satuanstandar,satuanviewfk:this.item.satuan.ssid,satuanview:this.item.satuan.satuanstandar,jmlstok:this.item.stok,jumlah:this.item.jumlah,hargasatuan:this.item.hargaSatuan,hargadiscount:0,total:this.item.total,dosis:a,jumlahxmakan:this.item.jumlahxmakan,jmldosis:String(this.item.jumlah/a)+"/"+String(a),keterangan:t,satuanresepfk:null!=this.item.satuanresep?this.item.satuanresep.id:null,satuanresep:null!=this.item.satuanresep?this.item.satuanresep.satuanresep:null,tglkadaluarsa:null!=this.tglkadaluarsa?this.tglkadaluarsa:null,isoutofstok:!1,belumlengkap:!1},this.data2.push(n),this.dataSource=this.data2;var r=0;for(s=this.data2.length-1;s>=0;s--)r+=parseFloat(this.data2[s].total);this.item.totalSubTotal=r}"Racikan"!=this.item.jenisKemasan.jeniskemasan&&(this.item.rke=parseFloat(this.item.rke)+1),this.kosongkan(),this.clear()}else this.alertService.error("Info","Aturan Pakai Belum diisi!!");else this.alertService.error("Info","Pilih Satuan terlebih dahulu!!");else this.alertService.error("Info","Pilih Produk terlebih dahulu!!");else this.alertService.error("Info","Pilih Jenis Kemasan terlebih dahulu!!");else this.alertService.error("Info","Jumlah harus di isi!");else this.alertService.error("Info","Data Sudah Diclosing!")}}ngAfterViewInit(){}ngOnInit(){if(null==this.rekamMedis.header.norec){var t=this.cacheHelper.get("cacheEMR_qwertyuiop");null!=t&&(t=JSON.parse(t),this.headData=t)}else this.headData=this.rekamMedis.header;null==this.headData.norec&&window.history.back(),this.item.idPegawaiLogin=this.authService.getDataLoginUser().pegawai.id,this.listPenulisResep=[{id:this.authService.getDataLoginUser().pegawai.id,namalengkap:this.authService.getDataLoginUser().pegawai.namaLengkap}],this.item.penulisResep=this.listPenulisResep[0],this.loadDropdown(),this.loadColumn(),this.diffDays=1;var a=new Date(this.item.tglresep),e=new Date(this.item.tglresepAkhir);this.diffDays=e.getDate()-a.getDate(),this.diffDays=this.diffDays+1}loadColumn(){this.columnGrid=[{field:"rke",header:"R/Ke",width:"100px"},{field:"jeniskemasan",header:"Kemasan",width:"120px"},{field:"jmldosis",header:"Jml/Dosis",width:"120px"},{field:"aturanpakai",header:"Aturan Pakai",width:"120px"},{field:"satuanresep",header:"Satuan Resep",width:"120px"},{field:"namaproduk",header:"Produk",width:"120px"},{field:"satuanstandar",header:"Satuan",width:"100px"},{field:"jumlah",header:"Jumlah",width:"150px"},{field:"hargasatuan",header:"Harga",width:"150px",isCurrency:!0},{field:"total",header:"Total",width:"150px",isCurrency:!0},{field:"keterangan",header:"Keterangan",width:"150px"}],this.columnRiwayat=[{field:"tglorder",header:"Tgl Order",width:"100px"},{field:"noorder",header:"No Order",width:"120px"},{field:"namalengkap",header:"Pegawai",width:"120px"},{field:"namaruangan",header:"Apotik",width:"200px"},{field:"statusorder",header:"Status",width:"100px"}],this.columnResep=[{field:"noresep",header:"No Resep",width:"100px"},{field:"tglpelayanan",header:"Tgl Resep",width:"120px"},{field:"tglorder",header:"Tgl Order",width:"120px"},{field:"noregistrasi",header:"No Registrasi",width:"100px"},{field:"dokter",header:"Penulis Resep",width:"200px"},{field:"namaruangan",header:"Ruangan",width:"150px"},{field:"namaruangandepo",header:"Apotik",width:"150px"}]}getSelected(){let t=0;if(this.item.aturanCheck.length>0)for(var a=Object.keys(this.item.aturanCheck),e=0;e<a.length;e++){const t=a[e];1==this.item.aturanCheck[parseInt(t)]?("1"==t&&(this.item.chkp=1),"2"==t&&(this.item.chks=1),"3"==t&&(this.item.chksr=1),"4"==t&&(this.item.chkm=1)):("1"==t&&(this.item.chkp=0),"2"==t&&(this.item.chks=0),"3"==t&&(this.item.chksr=0),"4"==t&&(this.item.chkm=0))}1==this.item.chkp&&(t+=1),1==this.item.chks&&(t+=1),1==this.item.chksr&&(t+=1),1==this.item.chkm&&(t+=1),this.item.aturanpakaitxt=t+"x1",0==t&&(this.item.aturanpakaitxt="")}formatRupiah(t,a){return a+" "+parseFloat(t).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}loadDropdown(){this.apiService.get("emr/get-combo-resep-emr").subscribe(t=>{this.listRuangan=t.ruanganfarmasi,this.listJenisKemasan=t.jeniskemasan,this.listAsalProduk=t.asalproduk,this.listsatuanresep=t.satuanresep,this.listJenisRacikan=t.jenisracikan,this.item.jenisKemasan=t.jeniskemasan[1],this.item.ruangan=t.ruanganfarmasi[1]})}clickRadio(t){"Racikan"==t.jeniskemasan?(this.showRacikanDose=!0,delete this.item.jumlahxmakan,delete this.item.dosis,delete this.item.jenisRacikan,delete this.item.sediaan,delete this.item.kekuatan):this.showRacikanDose=!1}filterProduk(t){this.apiService.get("emr/get-produk-resep?namaproduk="+t.query).subscribe(t=>{this.listProduk=t})}getSatuan(){null!=this.item.produk.id&&this.GETKONVERSI()}GETKONVERSI(){this.listSatuan=this.item.produk.konversisatuan,0==this.listSatuan.length&&(this.listSatuan=[{ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar}]),this.item.satuan={ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar},this.item.nilaiKonversi=1,null!=this.item.ruangan&&(this.statusTambah=!1,this.apiService.get("emr/get-produkdetail?produkfk="+this.item.produk.id+"&ruanganfk="+this.item.ruangan.id).subscribe(t=>{this.dataProdukDetail=t.detail,this.item.stok=t.jmlstok/this.item.nilaiKonversi,this.onChangeKonversi(),0==t.kekuatan&&(t.kekuatan=1),this.item.kekuatan=t.kekuatan,this.item.sediaan=t.sediaan,this.dataProdukDetail.length>0&&null!=this.dataSelected&&(this.item.nilaiKonversi=this.dataSelected.nilaikonversi,this.item.stok=this.dataSelected.jmlstok,this.item.jumlah=this.dataSelected.jumlah,this.item.hargaSatuan=this.dataSelected.hargasatuan,this.item.total=this.dataSelected.total,null!=this.item.kekuatan&&0!=this.item.kekuatan&&(this.item.jumlahxmakan=parseFloat(this.item.jumlah)/parseFloat(this.item.dosis)*parseFloat(this.item.kekuatan))),this.statusTambah=!0,this.gettotal()}))}onChangeQty(t){this.item.jumlah=t.value,this.gettotal()}onChangeJmlXMakan(t){null!=this.item.kekuatan&&0!=this.item.kekuatan||(this.item.kekuatan=1),this.item.jumlah=parseFloat(this.item.jumlahxmakan)*parseFloat(this.item.dosis)/parseFloat(this.item.kekuatan)}onChangeKonversi(){this.item.stok=parseFloat(this.item.stok)*parseFloat(this.item.nilaiKonversi),this.item.jumlah=1,this.item.hargaSatuan=0,this.item.total=0}getNilaiKonversi(){this.item.nilaiKonversi=this.item.satuan.nilaikonversi}hapusD(t){for(var a=this.data2.length-1;a>=0;a--)if(this.data2[a].no==t.no){this.data2.splice(a,1);var e=0;for(a=this.data2.length-1;a>=0;a--)e+=parseFloat(this.data2[a].total),this.data2[a].no=a+1;this.dataSource=this.data2,this.item.totalSubTotal=e}"Racikan"!=this.item.jenisKemasan.jeniskemasan&&(this.item.rke=parseFloat(this.item.rke)-1),this.kosongkan()}editD(t){if(0!=this.statusTambah){var a=[];this.dataSelected=t,this.item.no=t.no,this.item.rke=t.rke,null!=t.jenisobatfk&&this.apiService.get("emr/get-jenis-obat?jrid="+t.jenisobatfk).subscribe(t=>{0!=t.data.length&&(this.item.jenisRacikan={id:t.data[0].id,jenisracikan:t.data[0].jenisracikan})}),null!=this.item.jenisKemasan&&this.item.jenisKemasan.id==t.jeniskemasanfk||(this.item.jenisKemasan={id:t.jeniskemasanfk,jeniskemasan:t.jeniskemasan}),this.item.satuanresep={id:t.satuanresepfk,satuanresep:t.satuanresep},this.item.jumlahxmakan=t.jumlahxmakan,this.item.dosis=t.dosis,this.item.aturanPakai={id:t.aturanpakaifk,name:t.aturanpakai},this.item.aturanpakaitxt=t.aturanpakai,this.item.KeteranganPakai=t.keterangan,this.item.aturanCheck=[],null!=t.ispagi&&"0"!=t.ispagi&&(this.item.aturanCheck[1]=!0),null!=t.issiang&&"0"!=t.issiang&&(this.item.aturanCheck[2]=!0),null!=t.issore&&"0"!=t.issore&&(this.item.aturanCheck[3]=!0),null!=t.ismalam&&"0"!=t.ismalam&&(this.item.aturanCheck[4]=!0),this.getSelected(),this.item.asal={id:t.asalprodukfk,asalproduk:t.asalproduk},this.apiService.get("emr/get-produk-resep?idproduk="+t.produkfk).subscribe(e=>{this.listProduk=e;for(var i=this.listProduk.length-1;i>=0;i--)if(this.listProduk[i].id==t.produkfk){a=this.listProduk[i];break}this.item.produk=a,this.GETKONVERSI()})}}callFunt(){}kosongkan(){this.dataSelected=void 0,delete this.item.produk,delete this.item.satuan,delete this.item.nilaiKonversi,delete this.item.sediaan,delete this.item.kekuatan,this.item.stok=0,this.item.jumlah=1,this.item.no=void 0,this.item.total=0,this.item.hargaSatuan=0,delete this.item.satuanresep,delete this.item.KeteranganPakai}clear(){"Racikan"!=this.item.jenisKemasan.jeniskemasan&&delete this.item.jenisRacikan}save(){if(0!=this.data2.length){var t=this.item.tglresep,a=this.item.tglresepAkhir,e=a.getTime()-t.getTime();if(this.diffDays=a.getDate()-t.getDate(),this.diffDays=e/864e5+1,this.diffDays<1)this.alertService.error("Info","Tanggal Akhir tidak boleh lebih kecil!!");else{for(var i="",n=[],r=this.diffDays-1;r>=0;r--){var o=s(this.item.tglresep).toDate(),l=r;i=s(o.setDate(o.getDate()+l)).format("YYYY-MM-DD HH:mm:ss"),n.push({strukorder:{norec:this.norecOrder,tglresep:i,penulisresepfk:this.item.penulisResep.id,ruanganfk:this.item.ruangan.id,noregistrasifk:this.headData.norec,qtyproduk:this.dataSource.length,noruangan:null!=this.item.noRuang?this.item.noRuang:null,isreseppulang:0},orderfarmasi:this.data2})}this.isSimpan=!0,this.apiService.post("emr/simpan-order-pelayananobatfarmasi",{data:n}).subscribe(t=>{this.norecOrder="",this.apiService.postLog("Order Resep","Norec strukresep_t",t.noresep.norec,"Order Resep No Order - "+t.noresep.noorder+" dengan No Registrasi "+this.headData.noregistrasi).subscribe(t=>{}),this.isSimpan=!1,this.batalGrid(),this.disabledRuangan=!1,null!=this.item.noRuang&&this.cacheHelper.set("noRuangInputResep",this.item.noRuang);let a=this.headData.noregistrasi;null!=this.headData.noreservasi&&""!=this.headData.noreservasi&&"Kios-K"!=this.headData.noreservasi&&(a=this.headData.noreservasi),this.saveAntrol(a)},t=>{this.isSimpan=!1})}}else this.alertService.error("Info","Pilih Produk terlebih dahulu!!")}gettotal(){for(var t=!1,a=0;a<this.dataProdukDetail.length;a++)if(t=!1,this.item.jumlah*parseFloat(this.item.nilaiKonversi)>0){this.hrg1=Math.round(parseFloat(this.dataProdukDetail[a].hargajual)*parseFloat(this.item.nilaiKonversi)),this.item.hargaSatuan=parseFloat(this.hrg1),this.item.total=this.item.jumlah*this.hrg1,this.noTerima=this.dataProdukDetail[a].norec,t=!0;break}0==t&&(this.item.hargaSatuan=0,this.item.total=0,this.noTerima=""),0==this.item.jumlah&&(this.item.hargaSatuan=0)}batal(){this.kosongkan(),this.clear()}batalGrid(){this.kosongkan(),this.clear(),this.data2=[],this.dataSource=void 0}handleChangeTab(t){this.indexTab=t.index,0==t.index||(1==t.index?this.loadOrder():this.loadResep())}loadResep(){this.apiService.get("emr/get-transaksi-pelayanan?noReg="+this.headData.noregistrasi).subscribe(t=>{let a=[];for(var e={data:t},i=0;i<e.data.length;i++)e.data[i].no=i+1,e.data[i].total=parseFloat(e.data[i].jumlah)*(parseFloat(e.data[i].hargasatuan)-parseFloat(e.data[i].hargadiscount)),e.data[i].total=parseFloat(e.data[i].total)+parseFloat(e.data[i].jasa),e.data[i].cekreseppulang="1"==e.data[i].reseppulang?"\u2714":"-";var n=e.data;let s=!1;for(let l in n){n[l].count=1,s=!1;for(let t in a)a[t].noresep==n[l].noresep&&(s=!0,a[t].count=parseFloat(a[t].count)+parseFloat(n[l].count));if(0==s){for(var r=[],o=0;o<n.length;o++)n[l].noresep==n[o].noresep&&r.push(n[o]);a.push({noregistrasi:n[l].noregistrasi,tglpelayanan:n[l].tglpelayanan,noresep:n[l].noresep,aturanpakai:n[l].aturanpakai,namaruangandepo:n[l].namaruangandepo,namaruangan:n[l].namaruangan,dokter:n[l].dokter,count:n[l].count,cekreseppulang:n[l].cekreseppulang,details:r})}}this.dataSourceResep=a})}editOrder(t){"Menunggu"==t.statusorder?this.apiService.get("farmasi/get-detail-order?noorder="+t.noorder).subscribe(a=>{this.norecOrder=t.norec_order,this.item.resep=t.noorder,this.item.ruangan={id:a.strukorder.id,namaruangan:a.strukorder.namaruangan},this.item.penulisResep={id:a.strukorder.pgid,namalengkap:a.strukorder.namalengkap},this.item.tglresep=new Date(a.strukorder.tglorder),this.item.tglresepAkhir=new Date(a.strukorder.tglorder),this.data2=a.orderpelayanan;for(var e=this.data2.length-1;e>=0;e--)this.data2[e].noregistrasifk=this.headData.norec,this.data2[e].tglregistrasi=this.headData.tglregistrasi,this.data2[e].kelasfk=this.headData.objectkelasfk;this.dataSource=this.data2;var i=0;for(e=this.data2.length-1;e>=0;e--)i+=parseFloat(this.data2[e].total);this.item.totalSubTotal=i,this.indexTab=0,this.handleChangeTab({index:this.indexTab})}):this.alertService.error("Info","Tidak bisa di edit sudah di verifikasi")}loadOrder(){this.apiService.get("emr/get-daftar-detail-alkes?noreg="+this.headData.noregistrasi).subscribe(t=>{for(var a=t.length-1;a>=0;a--)t[a].no=a+1;this.dataSourceRiwayat=t})}hapusOrder(t){"Menunggu"==t.statusorder?this.apiService.post("emr/hapus-order-pelayananobatfarmasi",{norec:t.norec_order}).subscribe(t=>{this.loadOrder()}):this.alertService.error("Info","Tidak bisa di Hapus sudah di verifikasi")}loadSkeleton(){return[{id:1,details:[{class:"p-col-2",details:[{class:"p-mb-0"}]}]},{id:2,details:[{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]}]},{id:3,details:[{class:"p-col-2",details:[{class:"p-mb-0"}]}]},{id:4,details:[{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]}]}]}saveAntrol(t){var a={url:"antrean/updatewaktu",jenis:"antrean",method:"POST",data:{kodebooking:t,taskid:5,waktu:(new Date).getTime()}};this.apiService.postNonMessage("bridging/bpjs/tools",a).subscribe(t=>{})}}return t.\u0275fac=function(a){return new(a||t)(r.Jb(o.a),r.Jb(l.a),r.Jb(l.b),r.Jb(c.a),r.Jb(d.a),r.Jb(b.a),r.Jb(h.a),r.Jb(n.a),r.Jb(n.f))},t.\u0275cmp=r.Db({type:t,selectors:[["app-order-resep"]],decls:149,vars:110,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[3,"activeIndex","onChange","activeIndexChange"],["header","Order Resep","leftIcon","fa fa-stethoscope"],[1,"p-grid"],[1,"p-col-12"],["header","Detail Order",3,"toggleable"],[1,"p-col-12","p-md-3"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Pelayanan","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","ngModelChange"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Pelayanan","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Penulis","optionLabel","namalengkap",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["placeholder","Ruangan ","optionLabel","namaruangan","dataKey","id",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["header","Resep",3,"toggleable"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","R/Ke ",3,"ngModel","ngModelChange"],["class","p-col-12 p-md-6 p-field-checkbox",4,"ngFor","ngForOf"],["class","p-col-12 p-md-2",4,"ngIf"],[1,"p-col-12","p-md-2"],["type","text","pInputText","","placeholder","Kekuatan",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-6"],["field","namaproduk","placeholder","Pilih Produk",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod","onSelect"],["placeholder","Jumlah","inputId","stacked",3,"ngModel","showButtons","ngModelChange","onInput"],[1,"p-col-12","p-md-4"],["placeholder","Satuan ","optionLabel","satuanstandar","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["type","text","pInputText","","placeholder","Aturan Pakai",3,"ngModel","ngModelChange"],["class","p-col-12 p-md-3 p-field-checkbox",4,"ngFor","ngForOf"],["placeholder","Satuan Resep  ","optionLabel","satuanresep","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Keterangan",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-2","p-md-offset-8"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah","label","Tambah",1,"p-button","p-button-success","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-refresh","pTooltip","Batal","label","Batal",1,"p-button","p-button-warning","p-mr-2",3,"click"],["styleClass","p-datatable-customers","scrollable","true","dataKey","no",3,"value","columns","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan Data","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-refresh","pTooltip","Batal","label","Reset",1,"p-button","p-button-danger","p-mr-2",3,"click"],["header","Riwayat Order","leftIcon","fa fa-list"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec_order","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","rowexpansion"],["header","Riwayat Resep","leftIcon","pi pi-th-large"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec_resep","selectionMode","single",3,"columns","value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields"],["dt2",""],["header","Paket",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-fluid","p-grid"],["header","Detail Paket",3,"toggleable"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec","selectionMode","single",3,"columns","value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields"],["pTemplate","footer"],[1,"p-col-12","p-md-6","p-field-checkbox"],["name","group2",3,"inputId","value","ngModel","ngModelChange","onClick"],[3,"for"],["type","text","pInputText","","placeholder","Dosis",3,"ngModel","ngModelChange","input"],["placeholder","Jenis Racikan","optionLabel","jenisracikan","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-3","p-field-checkbox"],["binary","true",3,"ngModel","inputId","ngModelChange","onChange"],[1,"p-col-12",2,"margin-top","-12px"],[2,"width","80px"],[3,"style",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit Data","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Data","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[4,"ngIf"],["rowspan","6"],[1,"table-header","p-grid"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filter",3,"input"],[2,"width","100px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-2",3,"pRowToggler","icon"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Order","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit Order","label","",1,"p-button-rounded","p-mr-2",3,"click"],["colspan","8"],[1,"p-p-3"],["dataKey","norec_order",3,"value"],["dataKey","norec_resep",3,"value"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah Paket","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["colspan","3"],["dataKey","id",3,"value"],["icon","pi pi-close","label","Tutup","styleClass","p-button-text",3,"click"]],template:function(t,a){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"h4"),r.Jc(3,"Resep Elektronik"),r.Pb(),r.Qb(4,"div",2),r.Qb(5,"p-tabView",3),r.Yb("onChange",function(t){return a.handleChangeTab(t)})("activeIndexChange",function(t){return a.indexTab=t}),r.Qb(6,"p-tabPanel",4),r.Qb(7,"div",5),r.Qb(8,"div",2),r.Qb(9,"div",5),r.Qb(10,"div",6),r.Qb(11,"p-panel",7),r.Qb(12,"div",5),r.Qb(13,"div",2),r.Qb(14,"div",5),r.Qb(15,"div",8),r.Qb(16,"label",9),r.Jc(17,"Tgl Resep "),r.Pb(),r.Qb(18,"p-calendar",10),r.Yb("ngModelChange",function(t){return a.item.tglresep=t}),r.Pb(),r.Pb(),r.Qb(19,"div",8),r.Qb(20,"label",9),r.Jc(21,"\xa0 "),r.Pb(),r.Qb(22,"p-calendar",11),r.Yb("ngModelChange",function(t){return a.item.tglresepAkhir=t}),r.Pb(),r.Pb(),r.Qb(23,"div",8),r.Qb(24,"label",9),r.Jc(25,"Penulis Resep "),r.Pb(),r.Qb(26,"p-dropdown",12),r.Yb("ngModelChange",function(t){return a.item.penulisResep=t}),r.Pb(),r.Pb(),r.Qb(27,"div",8),r.Qb(28,"label",9),r.Jc(29,"Ruangan "),r.Pb(),r.Qb(30,"p-dropdown",13),r.Yb("ngModelChange",function(t){return a.item.ruangan=t}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(31,"div",2),r.Qb(32,"p-panel",14),r.Qb(33,"div",5),r.Qb(34,"div",15),r.Qb(35,"label",9),r.Jc(36,"R/Ke "),r.Pb(),r.Qb(37,"input",16),r.Yb("ngModelChange",function(t){return a.item.rke=t}),r.Pb(),r.Pb(),r.Qb(38,"div",8),r.Qb(39,"label",9),r.Jc(40,"Jenis Kemasan "),r.Pb(),r.Qb(41,"div",5),r.Hc(42,J,4,5,"div",17),r.Pb(),r.Pb(),r.Hc(43,M,4,2,"div",18),r.Hc(44,K,4,1,"div",18),r.Hc(45,D,4,4,"div",18),r.Qb(46,"div",19),r.Qb(47,"label",9),r.Jc(48),r.Pb(),r.Qb(49,"input",20),r.Yb("ngModelChange",function(t){return a.item.kekuatan=t}),r.Pb(),r.Pb(),r.Pb(),r.Qb(50,"div",5),r.Qb(51,"div",21),r.Qb(52,"label",9),r.Jc(53,"Produk "),r.Pb(),r.Qb(54,"p-autoComplete",22),r.Yb("ngModelChange",function(t){return a.item.produk=t})("completeMethod",function(t){return a.filterProduk(t)})("onSelect",function(){return a.getSatuan()}),r.Pb(),r.Pb(),r.Qb(55,"div",19),r.Qb(56,"label",9),r.Jc(57,"Qty Obat "),r.Pb(),r.Qb(58,"p-inputNumber",23),r.Yb("ngModelChange",function(t){return a.item.jumlah=t})("onInput",function(t){return a.onChangeQty(t)}),r.Pb(),r.Pb(),r.Qb(59,"div",24),r.Qb(60,"label",9),r.Jc(61,"Satuan "),r.Pb(),r.Qb(62,"p-dropdown",25),r.Yb("ngModelChange",function(t){return a.item.satuan=t})("onChange",function(){return a.getNilaiKonversi()}),r.Pb(),r.Pb(),r.Qb(63,"div",19),r.Qb(64,"label",9),r.Jc(65,"Aturan Pakai "),r.Pb(),r.Qb(66,"input",26),r.Yb("ngModelChange",function(t){return a.item.aturanpakaitxt=t}),r.Pb(),r.Pb(),r.Qb(67,"div",19),r.Qb(68,"label",9),r.Jc(69,"\xa0 "),r.Pb(),r.Qb(70,"div",5),r.Hc(71,T,7,4,"div",27),r.Pb(),r.Pb(),r.Qb(72,"div",24),r.Qb(73,"label",9),r.Jc(74,"Satuan Resep "),r.Pb(),r.Qb(75,"p-dropdown",28),r.Yb("ngModelChange",function(t){return a.item.satuanresep=t}),r.Pb(),r.Pb(),r.Qb(76,"div",24),r.Qb(77,"label",9),r.Jc(78,"Keterangan "),r.Pb(),r.Qb(79,"input",29),r.Yb("ngModelChange",function(t){return a.item.KeteranganPakai=t}),r.Pb(),r.Pb(),r.Pb(),r.Qb(80,"div",5),r.Qb(81,"div",30),r.Qb(82,"button",31),r.Yb("click",function(){return a.tambah()}),r.Pb(),r.Pb(),r.Qb(83,"div",19),r.Qb(84,"button",32),r.Yb("click",function(){return a.batal()}),r.Pb(),r.Pb(),r.Pb(),r.Qb(85,"div",5),r.Qb(86,"div",8),r.Qb(87,"label"),r.Jc(88,"Konversi "),r.Qb(89,"b"),r.Jc(90),r.Pb(),r.Pb(),r.Pb(),r.Qb(91,"div",8),r.Qb(92,"label"),r.Jc(93,"Stok "),r.Qb(94,"b"),r.Jc(95),r.Pb(),r.Pb(),r.Pb(),r.Qb(96,"div",8),r.Qb(97,"label"),r.Jc(98,"Harga "),r.Qb(99,"b"),r.Jc(100),r.cc(101,"currency"),r.Pb(),r.Pb(),r.Pb(),r.Qb(102,"div",8),r.Qb(103,"label"),r.Jc(104,"Total "),r.Qb(105,"b"),r.Jc(106),r.cc(107,"currency"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(108,"p-divider"),r.Qb(109,"div",5),r.Qb(110,"div",6),r.Qb(111,"p-table",33),r.Hc(112,H,3,1,"ng-template",34),r.Hc(113,$,5,1,"ng-template",35),r.Hc(114,Y,5,1,"ng-template",36),r.Pb(),r.Pb(),r.Pb(),r.Qb(115,"div",5),r.Qb(116,"div",30),r.Qb(117,"button",37),r.Yb("click",function(){return a.save()}),r.Pb(),r.Pb(),r.Qb(118,"div",19),r.Qb(119,"button",38),r.Yb("click",function(){return a.batalGrid()}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(120,"p-tabPanel",39),r.Qb(121,"div",5),r.Qb(122,"p-table",40,41),r.Yb("selectionChange",function(t){return a.selectedData=t}),r.Hc(124,N,5,0,"ng-template",42),r.Hc(125,A,3,1,"ng-template",34),r.Hc(126,U,6,3,"ng-template",35),r.Hc(127,X,6,1,"ng-template",43),r.Pb(),r.Pb(),r.Pb(),r.Qb(128,"p-tabPanel",44),r.Qb(129,"div",5),r.Qb(130,"p-table",45,46),r.Hc(132,q,5,0,"ng-template",42),r.Hc(133,Z,3,1,"ng-template",34),r.Hc(134,it,4,3,"ng-template",35),r.Hc(135,rt,6,1,"ng-template",43),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(136,"p-dialog",47),r.Yb("visibleChange",function(t){return a.pop_paket=t}),r.Qb(137,"div",48),r.Qb(138,"div",2),r.Qb(139,"p-panel",49),r.Qb(140,"div",5),r.Qb(141,"div",2),r.Qb(142,"p-table",50,46),r.Hc(144,ot,5,0,"ng-template",42),r.Hc(145,ct,3,1,"ng-template",34),r.Hc(146,ut,5,3,"ng-template",35),r.Hc(147,gt,6,1,"ng-template",43),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Hc(148,kt,1,0,"ng-template",51),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.xb(5),r.ic("activeIndex",a.indexTab),r.xb(6),r.ic("toggleable",!0),r.xb(7),r.ic("ngModel",a.item.tglresep)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1)("maxDate",a.maxDateValue),r.xb(4),r.ic("ngModel",a.item.tglresepAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),r.xb(4),r.ic("options",a.listPenulisResep)("ngModel",a.item.penulisResep)("filter",!0)("showClear",!0)("disabled",!0),r.xb(4),r.ic("options",a.listRuangan)("ngModel",a.item.ruangan)("filter",!0)("showClear",!0)("disabled",a.disabledRuangan),r.xb(2),r.ic("toggleable",!0),r.xb(5),r.ic("ngModel",a.item.rke),r.xb(5),r.ic("ngForOf",a.listJenisKemasan),r.xb(1),r.ic("ngIf",a.showRacikanDose),r.xb(1),r.ic("ngIf",a.showRacikanDose),r.xb(1),r.ic("ngIf",a.showRacikanDose),r.xb(3),r.Lc("Kekuatan ",a.item.sediaan,""),r.xb(1),r.ic("ngModel",a.item.kekuatan),r.xb(5),r.ic("ngModel",a.item.produk)("suggestions",a.listProduk)("dropdown",!0),r.xb(4),r.ic("ngModel",a.item.jumlah)("showButtons",!0),r.xb(4),r.ic("options",a.listSatuan)("ngModel",a.item.satuan)("filter",!0)("showClear",!0),r.xb(4),r.ic("ngModel",a.item.aturanpakaitxt),r.xb(5),r.ic("ngForOf",a.listDataSigna),r.xb(4),r.ic("options",a.listsatuanresep)("ngModel",a.item.satuanresep)("filter",!0)("showClear",!0),r.xb(4),r.ic("ngModel",a.item.KeteranganPakai),r.xb(3),r.ic("disabled",!a.statusTambah),r.xb(8),r.Kc(a.item.nilaiKonversi),r.xb(5),r.Kc(a.item.stok),r.xb(5),r.Kc(r.ec(101,96,a.item.hargaSatuan,"Rp ")),r.xb(6),r.Kc(r.ec(107,99,a.item.total,"Rp ")),r.xb(5),r.ic("value",a.dataSource)("columns",a.columnGrid)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",r.mc(102,ft))("paginator",!0)("pageLinks",5),r.xb(6),r.ic("disabled",a.isSimpan),r.xb(5),r.ic("columns",a.columnRiwayat)("value",a.dataSourceRiwayat)("selection",a.selectedData)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",r.mc(103,ft))("paginator",!0)("pageLinks",5)("globalFilterFields",r.mc(104,Pt)),r.xb(8),r.ic("columns",a.columnResep)("value",a.dataSourceResep)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",r.mc(105,ft))("paginator",!0)("pageLinks",5)("globalFilterFields",r.mc(106,Qt)),r.xb(6),r.Ec(r.mc(107,vt)),r.ic("visible",a.pop_paket)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),r.xb(3),r.ic("toggleable",!0),r.xb(3),r.ic("columns",a.columnPaket)("value",a.dataSourcePaket)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",r.mc(108,ft))("paginator",!0)("pageLinks",5)("globalFilterFields",r.mc(109,xt)))},directives:[u.b,u.a,p.a,m.a,g.g,g.h,k.a,g.a,f.a,i.k,i.l,P.a,Q.a,v.b,x.a,w.a,S.h,c.k,y.a,C.a,j.a,S.g,S.f,R.a,S.d,v.a],pipes:[i.c],styles:[".p-field-checkbox[_ngcontent-%COMP%], .p-field-radiobutton[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center}"]}),t})()}];let St=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(a){return new(a||t)},imports:[[n.j.forChild(wt)],n.j]}),t})();var yt=e("PCNd");let Ct=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(a){return new(a||t)},imports:[[i.b,St,yt.a]]}),t})()}}]);