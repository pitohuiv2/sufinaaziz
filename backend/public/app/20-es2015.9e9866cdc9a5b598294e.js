(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{abSf:function(e,a,n){"use strict";n.d(a,"a",function(){return p});var i=n("fXoL"),t=n("7CaW"),s=n("SSqW"),l=n("ofXK"),o=n("3Pt+"),r=n("7kUa"),b=n("jeV5");function u(e,a){if(1&e){const e=i.Sb();i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"div",0),i.Qb(3,"div",1),i.Qb(4,"label",4),i.Jc(5,"No Registrasi "),i.Pb(),i.Qb(6,"input",5),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.noregistrasi=a}),i.Pb(),i.Pb(),i.Qb(7,"div",1),i.Qb(8,"label",4),i.Jc(9,"No Rekam Medis "),i.Pb(),i.Qb(10,"input",6),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.nocm=a}),i.Pb(),i.Pb(),i.Qb(11,"div",1),i.Qb(12,"label",4),i.Jc(13,"Nama Pasien "),i.Pb(),i.Qb(14,"input",7),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.namapasien=a}),i.Pb(),i.Pb(),i.Qb(15,"div",1),i.Qb(16,"label",4),i.Jc(17,"Tgl Registrasi "),i.Pb(),i.Qb(18,"input",8),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.tglregistrasi=a}),i.Pb(),i.Pb(),i.Qb(19,"div",1),i.Qb(20,"label",4),i.Jc(21,"Tipe Pasien "),i.Pb(),i.Qb(22,"input",8),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.kelompokpasien=a}),i.Pb(),i.Pb(),i.Qb(23,"div",1),i.Qb(24,"label",4),i.Jc(25,"Jenis Kelamin "),i.Pb(),i.Qb(26,"input",7),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.jeniskelamin=a}),i.Pb(),i.Pb(),i.Qb(27,"div",1),i.Qb(28,"label",4),i.Jc(29,"Tgl Lahir "),i.Pb(),i.Qb(30,"input",9),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.tgllahir=a}),i.Pb(),i.Pb(),i.Qb(31,"div",1),i.Qb(32,"label",4),i.Jc(33,"Umur "),i.Pb(),i.Qb(34,"input",8),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.umur=a}),i.Pb(),i.Pb(),i.Qb(35,"div",1),i.Qb(36,"label",4),i.Jc(37,"Alamat "),i.Pb(),i.Qb(38,"input",10),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.alamatlengkap=a}),i.Pb(),i.Pb(),i.Qb(39,"div",1),i.Qb(40,"label",4),i.Jc(41,"Kelas "),i.Pb(),i.Qb(42,"input",8),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.namakelas=a}),i.Pb(),i.Pb(),i.Qb(43,"div",1),i.Qb(44,"label",4),i.Jc(45,"Ruangan "),i.Pb(),i.Qb(46,"input",8),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.namaruangan=a}),i.Pb(),i.Pb(),i.Qb(47,"div",1),i.Qb(48,"label",4),i.Jc(49,"Pendidikan "),i.Pb(),i.Qb(50,"input",11),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.pendidikan=a}),i.Pb(),i.Pb(),i.Qb(51,"div",1),i.Qb(52,"label",4),i.Jc(53,"Jenis Pelayanan "),i.Pb(),i.Qb(54,"input",8),i.Yb("ngModelChange",function(a){return i.yc(e),i.bc().item.pasien.jenispelayanan=a}),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()}if(2&e){const e=i.bc();i.xb(6),i.ic("ngModel",e.item.pasien.noregistrasi),i.xb(4),i.ic("ngModel",e.item.pasien.nocm),i.xb(4),i.ic("ngModel",e.item.pasien.namapasien),i.xb(4),i.ic("ngModel",e.item.pasien.tglregistrasi),i.xb(4),i.ic("ngModel",e.item.pasien.kelompokpasien),i.xb(4),i.ic("ngModel",e.item.pasien.jeniskelamin),i.xb(4),i.ic("ngModel",e.item.pasien.tgllahir),i.xb(4),i.ic("ngModel",e.item.pasien.umur),i.xb(4),i.ic("ngModel",e.item.pasien.alamatlengkap),i.xb(4),i.ic("ngModel",e.item.pasien.namakelas),i.xb(4),i.ic("ngModel",e.item.pasien.namaruangan),i.xb(4),i.ic("ngModel",e.item.pasien.pendidikan),i.xb(4),i.ic("ngModel",e.item.pasien.jenispelayanan)}}function g(e,a){1&e&&(i.Qb(0,"div",1),i.Lb(1,"p-skeleton",13),i.Pb())}function c(e,a){if(1&e&&(i.Qb(0,"div",0),i.Hc(1,g,2,0,"div",12),i.Pb()),2&e){const e=i.bc();i.xb(1),i.ic("ngForOf",e.numberss)}}const d=function(){return{width:"100%",height:"70vh"}};let p=(()=>{class e{constructor(){this.item={pasien:{}},this.numberss=Array(15).map((e,a)=>a)}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=i.Db({type:e,selectors:[["app-head-pasien"]],decls:6,vars:6,consts:[[1,"p-grid"],[1,"p-col-12","p-md-12"],["header","Info Pasien",3,"toggleable"],["class","p-grid",4,"ngIf"],["for","input",1,"label"],["type","text","pInputText","","placeholder","Cari No Registrasi","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Rekam Medis","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Pasien","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Tgl Lahir","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Alamat","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Pendidikan","disabled","",3,"ngModel","ngModelChange"],["class","p-col-12 p-md-12",4,"ngFor","ngForOf"],["height","2.4rem"]],template:function(e,a){1&e&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"p-panel",2),i.Qb(3,"p-scrollPanel"),i.Hc(4,u,55,13,"div",3),i.Hc(5,c,2,1,"div",3),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&e&&(i.xb(2),i.ic("toggleable",!0),i.xb(1),i.Ec(i.mc(5,d)),i.xb(1),i.ic("ngIf",null!=a.item.pasien.nocm),i.xb(1),i.ic("ngIf",null==a.item.pasien.nocm))},directives:[t.a,s.a,l.l,o.a,r.a,o.g,o.h,l.k,b.a],styles:[""]}),e})()},t0PB:function(e,a,n){"use strict";n.r(a),n.d(a,"PindahPulangModule",function(){return D});var i=n("ofXK"),t=n("tyNb"),s=n("7zfz"),l=n("wd/R"),o=n("abSf"),r=n("fXoL"),b=n("EJUL"),u=n("U+s4"),g=n("G0w9"),c=n("ujBT"),d=n("Nf9I"),p=n("7CaW"),h=n("arFO"),m=n("3Pt+"),P=n("jIHw"),f=n("xlun"),k=n("Ji6n"),v=n("eO1q"),M=n("7kUa");function Q(e,a){if(1&e){const e=r.Sb();r.Qb(0,"div",8),r.Qb(1,"label",9),r.Jc(2,"Kondisi Keluar "),r.Pb(),r.Qb(3,"p-dropdown",19),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.kondisiKeluar=a}),r.Pb(),r.Pb()}if(2&e){const e=r.bc();r.xb(3),r.ic("options",e.listKondisiPasien)("ngModel",e.item.kondisiKeluar)("filter",!0)("showClear",!0)}}function y(e,a){if(1&e){const e=r.Sb();r.Qb(0,"div",8),r.Qb(1,"label",9),r.Jc(2,"Status Pulang "),r.Pb(),r.Qb(3,"p-dropdown",20),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.statusPulang=a}),r.Pb(),r.Pb()}if(2&e){const e=r.bc();r.xb(3),r.ic("options",e.listStatusPulang)("ngModel",e.item.statusPulang)("filter",!0)("showClear",!0)}}function w(e,a){if(1&e){const e=r.Sb();r.Qb(0,"div",21),r.Qb(1,"p-checkbox",22),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.rawatGabung=a})("onChange",function(){r.yc(e);const a=r.bc();return a.cekRawatGabung(a.item.rawatGabung)}),r.Pb(),r.Qb(2,"label",23),r.Jc(3," Rawat Gabung"),r.Pb(),r.Pb()}if(2&e){const e=r.bc();r.xb(1),r.ic("ngModel",e.item.rawatGabung)}}function K(e,a){if(1&e){const e=r.Sb();r.Qb(0,"div",8),r.Qb(1,"label",24),r.Jc(2," Tgl Rencana Pindah "),r.Pb(),r.Qb(3,"p-calendar",25),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.tglRencanaKeluar=a}),r.Pb(),r.Pb()}if(2&e){const e=r.bc();r.xb(3),r.ic("ngModel",e.item.tglRencanaKeluar)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)}}function C(e,a){if(1&e){const e=r.Sb();r.Qb(0,"div",8),r.Qb(1,"label",9),r.Jc(2,"Ruangan "),r.Pb(),r.Qb(3,"p-dropdown",26),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.ruangan=a})("onChange",function(a){return r.yc(e),r.bc().changeRuangan(a)}),r.Pb(),r.Pb()}if(2&e){const e=r.bc();r.xb(3),r.ic("options",e.listRuangan)("ngModel",e.item.ruangan)("filter",!0)("showClear",!0)}}function x(e,a){if(1&e){const e=r.Sb();r.Qb(0,"div",8),r.Qb(1,"label",9),r.Jc(2," Tgl Meninggal "),r.Pb(),r.Qb(3,"p-calendar",27),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.tglMeninggal=a}),r.Pb(),r.Pb()}if(2&e){const e=r.bc();r.xb(3),r.ic("ngModel",e.item.tglMeninggal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)}}function S(e,a){if(1&e){const e=r.Sb();r.Qb(0,"div",8),r.Qb(1,"label",9),r.Jc(2,"Penyebab Kematian "),r.Pb(),r.Qb(3,"p-dropdown",28),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.penyebabKematian=a})("onChange",function(a){return r.yc(e),r.bc().IsiPenyebab(a)}),r.Pb(),r.Pb()}if(2&e){const e=r.bc();r.xb(3),r.ic("options",e.listPenyebabKematian)("ngModel",e.item.penyebabKematian)("filter",!0)("showClear",!0)}}function Y(e,a){if(1&e){const e=r.Sb();r.Qb(0,"div",8),r.Qb(1,"label",9),r.Jc(2," Isi Penyebab "),r.Pb(),r.Qb(3,"input",29),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.PenyebabKematianText=a}),r.Pb(),r.Pb()}if(2&e){const e=r.bc();r.xb(3),r.ic("ngModel",e.item.PenyebabKematianText)}}function I(e,a){if(1&e){const e=r.Sb();r.Qb(0,"div",3),r.Qb(1,"div",8),r.Qb(2,"label",9),r.Jc(3,"Kelas "),r.Pb(),r.Qb(4,"p-dropdown",30),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.kelas=a})("onChange",function(a){return r.yc(e),r.bc().changeKelas(a)}),r.Pb(),r.Pb(),r.Qb(5,"div",8),r.Qb(6,"label",9),r.Jc(7,"Kamar "),r.Pb(),r.Qb(8,"p-dropdown",31),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.kamar=a})("onChange",function(a){return r.yc(e),r.bc().changeKamar(a)}),r.Pb(),r.Pb(),r.Qb(9,"div",8),r.Qb(10,"label",9),r.Jc(11,"Nomor Tempat Tidur "),r.Pb(),r.Qb(12,"p-dropdown",32),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.nomorTempatTidur=a}),r.Pb(),r.Pb(),r.Qb(13,"div",8),r.Qb(14,"label",9),r.Jc(15,"Keterangan "),r.Pb(),r.Qb(16,"input",33),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.keteranganLainnya=a}),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=r.bc();r.xb(4),r.ic("options",e.listKelas)("ngModel",e.item.kelas)("filter",!0)("showClear",!0),r.xb(4),r.ic("options",e.listKamar)("ngModel",e.item.kamar)("filter",!0)("showClear",!0),r.xb(4),r.ic("options",e.listNoBed)("ngModel",e.item.nomorTempatTidur)("filter",!0)("showClear",!0),r.xb(4),r.ic("ngModel",e.item.keteranganLainnya)}}function T(e,a){if(1&e){const e=r.Sb();r.Qb(0,"div",6),r.Qb(1,"p-panel",34),r.Qb(2,"div",3),r.Qb(3,"div",8),r.Qb(4,"label",9),r.Jc(5,"Tgl Keluar "),r.Pb(),r.Qb(6,"p-calendar",35),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.tglKeluar=a}),r.Pb(),r.Pb(),r.Qb(7,"div",8),r.Qb(8,"label",9),r.Jc(9,"Nama Pembawa Pulang "),r.Pb(),r.Qb(10,"input",36),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.namaPembawaPulang=a}),r.Pb(),r.Pb(),r.Qb(11,"div",8),r.Qb(12,"label",9),r.Jc(13,"Hubungan Keluarga "),r.Pb(),r.Qb(14,"p-dropdown",37),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.hubunganKeluarga=a}),r.Pb(),r.Pb(),r.Qb(15,"div",8),r.Qb(16,"label",9),r.Jc(17,"Surat Keterangan Polisi "),r.Pb(),r.Qb(18,"input",38),r.Yb("ngModelChange",function(a){return r.yc(e),r.bc().item.suratKetPol=a}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=r.bc();r.xb(1),r.ic("toggleable",!0),r.xb(5),r.ic("ngModel",e.item.tglKeluar)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),r.xb(4),r.ic("ngModel",e.item.namaPembawaPulang),r.xb(4),r.ic("options",e.listHubunganKel)("ngModel",e.item.hubunganKeluarga)("filter",!0)("showClear",!0),r.xb(4),r.ic("ngModel",e.item.suratKetPol)}}const J=[{path:"",component:(()=>{class e{constructor(e,a,n,i,t,s,l,o,r){this.apiService=e,this.authService=a,this.confirmationService=n,this.messageService=i,this.cacheHelper=t,this.dateHelper=s,this.alertService=l,this.route=o,this.router=r,this.item={pasien:{},jumlah:1,tglPelayanan:new Date,tglMeninggal:new Date,tglKeluar:new Date,tglRencanaKeluar:new Date},this.maxDateValue=new Date,this.listStatusKeluar=[],this.listKondisiPasien=[],this.listStatusPulang=[],this.listRuangan=[],this.listHubunganKel=[],this.listPenyebabKematian=[],this.listKamar=[],this.listNoBed=[],this.listKelas=[],this.now=new Date}ngAfterViewInit(){this.route.params.subscribe(e=>{this.currentNorecPD=e.norec_rp,this.currentNorecAPD=e.norec_dpr,this.loadCombo(),this.loadHead()})}ngOnInit(){}loadHead(){this.apiService.get("rawatinap/get-pasien-bynorec?norec_pd="+this.currentNorecPD+"&norec_apd="+this.currentNorecAPD).subscribe(e=>{e.tgllahir=l(new Date(e.tgllahir)).format("YYYY-MM-DD"),e.umur=this.dateHelper.getUmur(new Date(e.tgllahir),new Date),this.h.item.pasien=e,this.item.pasien=e})}loadCombo(){this.apiService.get("rawatinap/get-combo-pindahpasien").subscribe(e=>{for(var a=0;a<e.statuskeluar.length;a++)e.statuskeluar[a].id=parseInt(e.statuskeluar[a].id);this.listStatusKeluar=e.statuskeluar,this.listKondisiPasien=e.kondisipasien,this.listStatusPulang=e.statuspulang,this.listRuangan=e.ruanganinap,this.listHubunganKel=e.hubungankeluarga,this.listPenyebabKematian=e.penyebabkematian,this.idPindah=parseInt(e.idPindah),parseInt(e.idStatusKeluarMeninggal),this.idKelompokPasienBPJS=parseInt(e.idKelompokPasienBPJS),parseInt(e.idStatusKeluarPulang)})}IsiPenyebab(e){void 0!==e&&(this.PenyebabKematianManual="LAINNYA"==e.value.penyebabkematian)}changeStatus(e){e.value.id==this.idPindah?(this.showPindah=!0,this.showMeninggal=!1):e.value.id==this.idMeninggal?(this.showMeninggal=!0,this.showPindah=!1):(this.showMeninggal=!1,this.showPindah=!1)}changeRuangan(e){this.apiService.get("registrasi/get-kelasbyruangan?idRuangan="+e.value.id).subscribe(e=>{this.listKelas=e.kelas})}changeKelas(e){void 0!==e&&(this.item.kelas||this.item.ruangan)&&this.apiService.get("registrasi/get-kamarbyruangankelas?idKelas="+this.item.kelas.id+"&idRuangan="+this.item.ruangan.id+"&israwatgabung="+this.item.rawatGabung).subscribe(e=>{this.listKamar=e.kamar})}changeKamar(e){void 0!==e.value.id&&null!=e.value.id&&this.apiService.get("registrasi/get-nobedbykamar?idKamar="+e.value.id).subscribe(e=>{if(this.listNoBed=[],this.item.rawatGabung)this.listNoBed=e.bed;else for(let a=0;a<e.bed.length;a++){const n=e.bed[a];"KOSONG"==n.statusbed&&this.listNoBed.push(n)}})}save(){if(null!=this.item.statusKeluar)if(this.item.statusKeluar.id===this.idPindah){if(null==this.item.ruangan)return void this.alertService.error("Info","Ruangan  belum di pilih");if(null==this.item.kelas)return void this.alertService.error("Info","Kelas belum di pilih");this.SavePindah()}else this.confirmationService.confirm({message:"Pastikan PELAYANAN sudah di Input semua ! Lanjut Simpan?",accept:()=>{this.apiService.post("rawatinap/save-akomodasi-tea",{noregistrasi:this.item.pasien.noregistrasi}).subscribe(e=>{}),this.SavePulang()},reject:()=>{}});else this.alertService.error("Info","Status keluar belum di pilih")}SavePindah(){var e=null;null!=this.item.statusKeluar&&(e=this.item.statusKeluar.id);var a=null;null!=this.item.ruangan&&(a=this.item.ruangan.id);var n=null;null!=this.item.kelas&&(n=this.item.kelas.id);var i=null;null!=this.item.kamar&&(i=this.item.kamar.id);var t=null;null!=this.item.nomorTempatTidur&&(t=this.item.nomorTempatTidur.id);var s="";null!=this.item.keteranganLainnya&&(s=this.item.keteranganLainnya);var o=null;null!=this.item.hubunganKeluarga&&(o=this.item.hubunganKeluarga.id);var r=null;null!=this.item.kondisipasien&&(r=this.item.kondisipasien.id);var b=null;null!=this.item.penyebabKematian&&(b=this.item.penyebabKematian.id);var u=null;null!=this.item.statusPulang&&(u=this.item.statusPulang.id);var g={strukorder:{norecorder:"",norecrpp:"",tglorder:l(this.now).format("YYYY-MM-DD HH:mm:ss")},pasiendaftar:{tglregistrasi:l(this.item.pasien.tglregistrasi).format("YYYY-MM-DD HH:mm:ss"),tglregistrasidate:l(this.item.pasien.tglregistrasi).format("YYYY-MM-DD"),noregistrasi:this.item.pasien.noregistrasi,objectruanganasalfk:this.item.pasien.objectruanganlastfk,objectruanganlastfk:a,objectkelasfk:n,objecthubungankeluargaambilpasienfk:o,objectkondisipasienfk:r,objectpenyebabkematianfk:b,objectstatuskeluarfk:e,objectstatuspulangfk:u,norec_pd:this.currentNorecPD,objectkelompokpasienlastfk:this.item.pasien.objectkelompokpasienlastfk,nocmfk:this.item.pasien.nocmfk,objectstatuskeluarrencanafk:e,statuspasien:this.item.pasien.statuspasien},antrianpasiendiperiksa:{tglregistrasi:l(this.item.pasien.tglregistrasi).format("YYYY-MM-DD HH:mm:ss"),objectruanganasalfk:this.item.pasien.objectruanganlastfk,objectruanganlastfk:a,objectkelasfk:n,objectkamarfk:i,nobed:t,tglmasuk:l(this.item.tglRencanaKeluar).format("YYYY-MM-DD HH:mm:ss"),objectasalrujukanfk:this.item.pasien.objectasalrujukanfk,norec_apd:this.item.pasien.norec_apd,keteranganpindah:s,israwatgabung:!0===this.item.rawatGabung?1:0}};this.isSimpan=!0,this.apiService.post("rawatinap/save-pindah-pasien",g).subscribe(e=>{this.resultAPD=e.dataAPD,this.isSimpan=!1,this.apiService.postLog("Pindah Ruangan","norec Daftar Pasien Ruangan",e.dataAPD.norec,"Pindah Ruangan dari "+this.item.pasien.namaruangan+" ke Ruangan "+this.item.ruangan.namaruangan+" pada No Registrasi "+this.item.pasien.noregistrasi).subscribe(e=>{}),window.history.back()},e=>{this.isSimpan=!1})}SavePulang(){var e=null;null!=this.item.statusKeluar&&(e=this.item.statusKeluar.id);var a=null;null!=this.item.ruangan&&(a=this.item.ruangan.id);var n=null;null!=this.item.hubunganKeluarga&&(n=this.item.hubunganKeluarga.id);var i=null,t=null;null!=this.item.kondisiKeluar&&(i=this.item.kondisiKeluar.id,t=this.item.kondisiKeluar.kondisipasien);var s="";null!=this.item.PenyebabKematianText&&(s=this.item.PenyebabKematianText);var o=null;null!=this.item.penyebabKematian&&(o=this.item.penyebabKematian.id);var r=null;null!=this.item.statusPulang&&(r=this.item.statusPulang.id);var b=null;null!=this.item.namaPembawaPulang&&(b=this.item.namaPembawaPulang);var u={strukorder:{norecorder:"",norecrpp:"",tglorder:l(this.now).format("YYYY-MM-DD HH:mm:ss")},pasiendaftar:{namalengkapambilpasien:b,noregistrasi:this.item.pasien.noregistrasi,objectruanganlastfk:a,objecthubungankeluargaambilpasienfk:n,objectkondisipasienfk:i,objectpenyebabkematianfk:o,objectstatuskeluarfk:e,objectstatuspulangfk:r,tglmeninggal:l(this.item.tglMeninggal).format("YYYY-MM-DD HH:mm:ss"),tglpulang:l(this.item.tglKeluar).format("YYYY-MM-DD HH:mm:ss"),norec_pd:this.currentNorecPD,objectstatuskeluarrencanafk:e,nocmfk:this.item.pasien.nocmfk,keteranganpulang:"Pulang dengan kondisi : "+t,keterangankematian:s},antrianpasiendiperiksa:{objectruanganlastfk:this.item.pasien.objectruanganlastfk,norec_apd:this.item.pasien.norec_apd}};this.isSimpan=!0,this.apiService.post("rawatinap/save-pulang-pasien",u).subscribe(e=>{"true"==this.item.pasien.israwatinap&&this.item.pasien.objectkelompokpasienlastfk==this.idKelompokPasienBPJS&&this.item.statusKeluar.id==this.idStatusKeluarPulang&&this.setTglPulangBridging(),this.isSimpan=!1,this.apiService.postLog("Pasien Pulang","norec Registrasi Pasien",this.currentNorecPD,"Pasien Pulang dari "+this.item.pasien.namaruangan+" pada No Registrasi "+this.item.pasien.noregistrasi).subscribe(e=>{}),window.history.back()},e=>{this.isSimpan=!1})}setTglPulangBridging(){let e="";null!=this.item.statusPulang&&(e=this.item.statusPulang.kodeexternal?this.item.statusPulang.kodeexternal:this.item.statusPulang.id);let a="";"4"==e&&(a=this.item.pasien.noregistrasi);var n={data:{request:{t_sep:{noSep:this.item.noSep,statusPulang:e,noSuratMeninggal:a,tglMeninggal:"4"==e?l(this.item.tglMeninggal).format("YYYY-MM-DD"):"",tglPulang:l(this.item.tglKeluar).format("YYYY-MM-DD"),noLPManual:this.item.suratKetPol?this.item.suratKetPol:"",user:"Xoxo"}}}};this.apiService.putNonMessage("bridging/bpjs/update-tglpulang",n).subscribe(e=>{this.alertService.info("Set Tgl Pulang BPJS",e.metaData.message)})}cekRawatGabung(e){!0===e&&null!=this.item.pasien.id_ibu&&this.apiService.get("rawatinap/get-kamar-ruangan-ibu?id_ibu="+this.item.pasien.id_ibu+"&nocm="+this.item.pasien.nocm).subscribe(e=>{e.length>0&&(this.listKamar=[],this.listNoBed=[],this.listKamar.push({id:e[0].objectkamarfk,namakamar:e[0].namakamar}),this.listNoBed.push({id:e[0].nobed,reportdisplay:e[0].tempattidur}),this.item.ruangan={id:e[0].objectruanganlastfk,namaruangan:e[0].namaruangan},this.item.kelas={id:e[0].kelasfk,namakelas:e[0].namakelas},this.item.kamar={id:e[0].objectkamarfk,namakamar:e[0].namakamar},this.item.nomorTempatTidur={id:e[0].nobed,reportdisplay:e[0].tempattidur})})}cancel(){window.history.back()}}return e.\u0275fac=function(a){return new(a||e)(r.Jb(b.a),r.Jb(b.b),r.Jb(s.a),r.Jb(s.h),r.Jb(u.a),r.Jb(g.a),r.Jb(c.a),r.Jb(t.a),r.Jb(t.f))},e.\u0275cmp=r.Db({type:e,selectors:[["app-pindah-pulang"]],viewQuery:function(e,a){if(1&e&&r.Nc(o.a,!0),2&e){let e;r.vc(e=r.Zb())&&(a.h=e.first)}},features:[r.wb([s.a])],decls:33,vars:16,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-4"],[1,"p-col-12","p-md-8"],[1,"p-col-12","p-md-6"],["header","Kondisi Pasien",3,"toggleable"],[1,"p-col-12","p-md-12"],["for","input",1,"label"],["placeholder","Status Keluar ","optionLabel","statuskeluar",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["class","p-col-12 p-md-12",4,"ngIf"],["class","p-col-12 p-md-12","style","margin-top: 15px;",4,"ngIf"],["class","p-grid",4,"ngIf"],["class","p-col-12 p-md-6",4,"ngIf"],[1,"p-col-12","p-md-2","p-md-offset-8"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],[1,"p-col-12","p-md-2"],["pButton","","type","button","icon","pi pi-arrow-left","pTooltip","Kembali","label","Batal",1,"p-button","p-button-danger","p-mr-2",3,"click"],["placeholder","Kondisi Keluar ","optionLabel","kondisipasien",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Status Pulang ","optionLabel","statuspulang",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-12",2,"margin-top","15px"],["binary","true","inputId","item.rawatGabung",3,"ngModel","ngModelChange","onChange"],["for","item.rawatGabung"],["for","input",1,"label-required"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Rencana Pindah","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Ruangan ","optionLabel","namaruangan",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Meninggal","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Penyebab Kematian ","optionLabel","penyebabkematian",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["type","text","pInputText","","placeholder","Isi Penyebab ",3,"ngModel","ngModelChange"],["placeholder","Kelas","optionLabel","namakelas",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["placeholder","Kamar","optionLabel","namakamar",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["placeholder","Nomor Tempat Tidur","optionLabel","reportdisplay",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Keterangan ",3,"ngModel","ngModelChange"],["header","Pasien Pulang",3,"toggleable"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Keluar","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["type","text","pInputText","","placeholder","Nama Pembawa Pulang ",3,"ngModel","ngModelChange"],["placeholder","Hubungan Keluarga","optionLabel","hubungankeluarga",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Surat Keterangan Polisi",3,"ngModel","ngModelChange"]],template:function(e,a){1&e&&(r.Lb(0,"p-confirmDialog",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"h4"),r.Jc(4,"Pindah Pulang "),r.Pb(),r.Qb(5,"div",3),r.Qb(6,"div",4),r.Lb(7,"app-head-pasien"),r.Pb(),r.Qb(8,"div",5),r.Qb(9,"div",3),r.Qb(10,"div",6),r.Qb(11,"p-panel",7),r.Qb(12,"div",3),r.Qb(13,"div",8),r.Qb(14,"label",9),r.Jc(15,"Status Keluar "),r.Pb(),r.Qb(16,"p-dropdown",10),r.Yb("ngModelChange",function(e){return a.item.statusKeluar=e})("onChange",function(e){return a.changeStatus(e)}),r.Pb(),r.Pb(),r.Hc(17,Q,4,4,"div",11),r.Hc(18,y,4,4,"div",11),r.Hc(19,w,4,1,"div",12),r.Hc(20,K,4,5,"div",11),r.Hc(21,C,4,4,"div",11),r.Hc(22,x,4,5,"div",11),r.Hc(23,S,4,4,"div",11),r.Hc(24,Y,4,1,"div",11),r.Pb(),r.Hc(25,I,17,13,"div",13),r.Pb(),r.Pb(),r.Hc(26,T,19,12,"div",14),r.Qb(27,"div",8),r.Qb(28,"div",3),r.Qb(29,"div",15),r.Qb(30,"button",16),r.Yb("click",function(){return a.save()}),r.Pb(),r.Pb(),r.Qb(31,"div",17),r.Qb(32,"button",18),r.Yb("click",function(){return a.cancel()}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.xb(11),r.ic("toggleable",!0),r.xb(5),r.ic("options",a.listStatusKeluar)("ngModel",a.item.statusKeluar)("filter",!0)("showClear",!0),r.xb(1),r.ic("ngIf",!a.showPindah),r.xb(1),r.ic("ngIf",!a.showPindah),r.xb(1),r.ic("ngIf",a.showPindah),r.xb(1),r.ic("ngIf",a.showPindah),r.xb(1),r.ic("ngIf",a.showPindah),r.xb(1),r.ic("ngIf",a.showMeninggal),r.xb(1),r.ic("ngIf",a.showMeninggal),r.xb(1),r.ic("ngIf",a.PenyebabKematianManual),r.xb(1),r.ic("ngIf",a.showPindah),r.xb(1),r.ic("ngIf",!a.showPindah),r.xb(4),r.ic("disabled",a.isSimpan))},directives:[d.a,o.a,p.a,h.a,m.g,m.h,i.l,P.b,f.a,k.a,v.a,m.a,M.a],styles:[""]}),e})()}];let j=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(a){return new(a||e)},imports:[[t.j.forChild(J)],t.j]}),e})();var N=n("PCNd");let D=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(a){return new(a||e)},providers:[],imports:[[i.b,j,N.a]]}),e})()}}]);