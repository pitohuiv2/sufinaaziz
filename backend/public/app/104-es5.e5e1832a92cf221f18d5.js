!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{SiL9:function(i,a,n){"use strict";n.r(a),n.d(a,"DaftarTriasePasienModule",function(){return N});var r=n("ofXK"),l=n("tyNb"),s=n("7zfz"),o=n("wd/R"),c=n("fXoL"),d=n("EJUL"),h=n("U+s4"),b=n("G0w9"),p=n("ujBT"),m=n("eO1q"),u=n("3Pt+"),g=n("7kUa"),f=n("jIHw"),w=n("xlun"),P=n("rEr+");function v(e,t){if(1&e&&(c.Qb(0,"th",19),c.Jc(1),c.Lb(2,"p-sortIcon",20),c.Pb()),2&e){var i=t.$implicit;c.Fc("width: ",i.width,""),c.jc("pSortableColumn",i.field),c.xb(1),c.Lc(" ",i.header," "),c.xb(1),c.jc("field",i.field)}}function k(e,t){if(1&e&&(c.Qb(0,"tr"),c.Qb(1,"th",17),c.Jc(2,"Aksi"),c.Pb(),c.Hc(3,v,3,6,"th",18),c.Pb()),2&e){var i=t.$implicit;c.xb(3),c.ic("ngForOf",i)}}function M(e,t){if(1&e&&(c.Qb(0,"td"),c.Jc(1),c.Pb()),2&e){var i=t.$implicit,a=c.bc().$implicit;c.Fc("width: ",i.width,""),c.xb(1),c.Lc(" ",a[i.field]," ")}}function y(e,t){if(1&e){var i=c.Sb();c.Qb(0,"tr",21),c.Qb(1,"td",17),c.Qb(2,"button",22),c.Yb("click",function(){c.yc(i);var e=t.$implicit;return c.bc().RegistrasiPasien2(e)}),c.Pb(),c.Pb(),c.Hc(3,M,2,4,"td",23),c.Pb()}if(2&e){var a=t.columns,n=t.rowIndex;c.ic("pSelectableRow",t.$implicit)("pSelectableRowIndex",n),c.xb(3),c.ic("ngForOf",a)}}var Q,Y,x,T=function(){return[5,10,25,50]},D=[{path:"",component:(Q=function(){function i(t,a,n,r,l,s,o,c,d){e(this,i),this.apiService=t,this.authService=a,this.confirmationService=n,this.messageService=r,this.cacheHelper=l,this.dateHelper=s,this.alertService=o,this.route=c,this.router=d,this.item={}}var a,n,r;return a=i,(n=[{key:"ngOnInit",value:function(){this.dataLogin=this.authService.getDataLoginUser(),this.kelUser=this.dataLogin.kelompokUser.kelompokUser,this.dateNow=new Date,this.item.tglAwal=o(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=o(this.dateNow).format("YYYY-MM-DD 23:59"),this.column=[{field:"no",header:"No",width:"65px"},{field:"nocm",header:"No RM",width:"120px"},{field:"namapasien",header:"Nama Pasien",width:"250px"},{field:"jeniskelamin",header:"Jenis Kelamin",width:"140px"},{field:"tgllahir",header:"Tgl Lahir",width:"140px"},{field:"alamatlengkap",header:"Alamat",width:"200px"},{field:"notelepon",header:"Telepon",width:"120px"},{field:"noemr",header:"No EMR",width:"140px"},{field:"tglemr",header:"Tgl EMR",width:"140px"},{field:"noregistrasi",header:"Noregistrasi",width:"120px"}],this.loadData()}},{key:"loadData",value:function(){var e=this,t=o(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),i=o(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),a="";null!=this.item.noRM&&(a="&norm="+this.item.noRM);var n="";null!=this.item.NamaPasien&&(n="&namaPasien="+this.item.NamaPasien);var r="";null!=this.item.idPasienTriase&&(r="&idPasienTriase="+this.item.idPasienTriase);var l="";null!=this.item.tglLahir&&(l="&tglLahir="+new Date(this.item.tglLahir)),this.apiService.get("emr/get-data-riwayat-emr?tglAwal="+t+"&tglAkhir="+i+l+a+n+r+"&jenisEMR=igd").subscribe(function(t){for(var i=t.data,a=0;a<i.length;a++){var n=i[a];n.no=a+1;var r=new Date,l=o(new Date(n.tgllahir)).format("YYYY-MM-DD"),s=e.dateHelper.CountAge(new Date(l),new Date(r));n.umur=s.year+" thn "+s.month+" bln "+s.day+" hari"}e.dataTable=i})}},{key:"cari",value:function(){this.loadData()}},{key:"onRowSelect",value:function(e){null!=e.data&&(this.selected=e.data)}},{key:"RegistrasiPasien2",value:function(e){if(null==e.noregistrasi){if("pasienlama"==e.status)this.cacheHelper.set("CacheRegistrasiPasien",void 0),this.router.navigate(["registrasi-ruangan",e.idpasien]);else if(this.selected=e,null!=this.selected){var t={nocm:this.selected.nocm,namaPasien:this.selected.namapasien,jkid:this.selected.jeniskelaminidfk,jk:this.selected.jeniskelamin,alamatlengkap:this.selected.alamatlengkap,tempatlahir:this.selected.tempatlahir,tgllahir:o(this.selected.tgllahir).format("YYYY-MM-DD HH:mm"),notelepon:this.selected.notelepon,noemr:this.selected.noemr};this.cacheHelper.set("CacheRegisTriage",t),this.router.navigate(["pasien-baru","-","-","-"])}}else this.alertService.warn("Info,","Pasien Sudah Terdaftar, Tidak Bisa Didaftarkan, Peringatan !")}},{key:"RegistrasiPasien",value:function(){if(null!=this.selected)if(null==this.selected.noregistrasi){if("pasienlama"==this.selected.status)this.cacheHelper.set("CacheRegistrasiPasien",void 0),this.router.navigate(["registrasi-ruangan",this.selected.idpasien]);else if(null!=this.selected){var e={nocm:this.selected.nocm,namaPasien:this.selected.namapasien,jkid:this.selected.jeniskelaminidfk,jk:this.selected.jeniskelamin,alamatlengkap:this.selected.alamatlengkap,tempatlahir:this.selected.tempatlahir,tgllahir:o(this.selected.tgllahir).format("YYYY-MM-DD HH:mm"),notelepon:this.selected.notelepon,noemr:this.selected.noemr};this.cacheHelper.set("CacheRegisTriage",e),this.router.navigate(["pasien-baru","-","-","-"])}}else this.alertService.warn("Info,","Pasien Sudah Terdaftar, Tidak Bisa Didaftarkan, Peringatan !");else this.alertService.warn("Info,","Data Belum Dipilih!")}}])&&t(a.prototype,n),r&&t(a,r),i}(),Q.\u0275fac=function(e){return new(e||Q)(c.Jb(d.a),c.Jb(d.b),c.Jb(s.a),c.Jb(s.h),c.Jb(h.a),c.Jb(b.a),c.Jb(p.a),c.Jb(l.a),c.Jb(l.f))},Q.\u0275cmp=c.Db({type:Q,selectors:[["app-daftar-triase-pasien"]],features:[c.wb([s.a])],decls:40,vars:28,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-11"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["type","text","pInputText","","placeholder","No Rekam Medis",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1",2,"margin-top","22px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],["pButton","","type","button","icon","fa fa-arrow-right","pTooltip","Registrasi","label","",1,"p-button-rounded","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"h4"),c.Jc(3,"Triase IGD"),c.Pb(),c.Qb(4,"div",2),c.Qb(5,"div",3),c.Qb(6,"div",4),c.Qb(7,"div",3),c.Qb(8,"div",5),c.Qb(9,"label",6),c.Jc(10,"Periode Awal"),c.Pb(),c.Qb(11,"p-calendar",7),c.Yb("ngModelChange",function(e){return t.item.tglAwal=e}),c.Pb(),c.Pb(),c.Qb(12,"div",5),c.Qb(13,"label",6),c.Jc(14,"Periode Akhir"),c.Pb(),c.Qb(15,"p-calendar",7),c.Yb("ngModelChange",function(e){return t.item.tglAkhir=e}),c.Pb(),c.Pb(),c.Qb(16,"div",5),c.Qb(17,"label",6),c.Jc(18,"No Rekam Medis "),c.Pb(),c.Qb(19,"input",8),c.Yb("ngModelChange",function(e){return t.item.noRM=e})("keyup.enter",function(){return t.cari()}),c.Pb(),c.Pb(),c.Qb(20,"div",5),c.Qb(21,"label",6),c.Jc(22,"Id Pasien Triase "),c.Pb(),c.Qb(23,"input",8),c.Yb("ngModelChange",function(e){return t.item.idPasienTriase=e})("keyup.enter",function(){return t.cari()}),c.Pb(),c.Pb(),c.Qb(24,"div",5),c.Qb(25,"label",6),c.Jc(26,"Nama Pasien"),c.Pb(),c.Qb(27,"input",9),c.Yb("ngModelChange",function(e){return t.item.NamaPasien=e})("keyup.enter",function(){return t.cari()}),c.Pb(),c.Pb(),c.Qb(28,"div",5),c.Qb(29,"label",6),c.Jc(30,"Tgl Lahir"),c.Pb(),c.Qb(31,"p-calendar",7),c.Yb("ngModelChange",function(e){return t.item.tglLahir=e}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(32,"div",10),c.Qb(33,"div",3),c.Qb(34,"button",11),c.Yb("click",function(){return t.cari()}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(35,"div",12),c.Qb(36,"p-table",13,14),c.Yb("selectionChange",function(e){return t.selected=e}),c.Hc(38,k,4,1,"ng-template",15),c.Hc(39,y,4,3,"ng-template",16),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.xb(11),c.ic("ngModel",t.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),c.xb(4),c.ic("ngModel",t.item.tglAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),c.xb(4),c.ic("ngModel",t.item.noRM),c.xb(4),c.ic("ngModel",t.item.idPasienTriase),c.xb(4),c.ic("ngModel",t.item.NamaPasien),c.xb(4),c.ic("ngModel",t.item.tglLahir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),c.xb(5),c.ic("columns",t.column)("value",t.dataTable)("selection",t.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",c.mc(27,T))("paginator",!0)("pageLinks",5))},directives:[m.a,u.g,u.h,u.a,g.a,f.b,w.a,P.h,s.k,r.k,P.g,P.f,P.e],styles:[""]}),Q)}],R=((Y=function t(){e(this,t)}).\u0275mod=c.Hb({type:Y}),Y.\u0275inj=c.Gb({factory:function(e){return new(e||Y)},imports:[[l.j.forChild(D)],l.j]}),Y),C=n("PCNd"),N=((x=function t(){e(this,t)}).\u0275mod=c.Hb({type:x}),x.\u0275inj=c.Gb({factory:function(e){return new(e||x)},imports:[[r.b,R,C.a]]}),x)}}])}();