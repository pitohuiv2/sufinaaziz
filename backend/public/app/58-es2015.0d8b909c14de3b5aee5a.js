(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{N9eH:function(e,t,i){"use strict";i.r(t),i.d(t,"JadwalDokterModule",function(){return L});var a=i("ofXK"),n=i("tyNb"),l=i("7zfz"),o=i("wd/R"),r=i("fXoL"),s=i("EJUL"),d=i("G0w9"),b=i("U+s4"),c=i("ujBT"),p=i("RTT/"),u=i("7kUa"),m=i("jIHw"),h=i("xlun"),g=i("rEr+"),f=i("/RsI"),k=i("7CaW"),w=i("arFO"),P=i("3Pt+"),v=i("lVkt"),Q=i("eO1q"),j=i("zFJ7"),x=i("Q4Mo");function C(e,t){if(1&e){const e=r.Sb();r.Qb(0,"div",30),r.Qb(1,"button",31),r.Yb("click",function(){return r.yc(e),r.bc().tambah()}),r.Pb(),r.Pb()}}function J(e,t){if(1&e&&(r.Qb(0,"th",34),r.Jc(1),r.Lb(2,"p-sortIcon",35),r.Pb()),2&e){const e=t.$implicit;r.Fc("width: ",e.width,""),r.jc("pSortableColumn",e.field),r.xb(1),r.Lc(" ",e.header," "),r.xb(1),r.jc("field",e.field)}}function y(e,t){if(1&e&&(r.Qb(0,"tr"),r.Lb(1,"th",32),r.Hc(2,J,3,6,"th",33),r.Pb()),2&e){const e=t.$implicit;r.xb(2),r.ic("ngForOf",e)}}function H(e,t){if(1&e&&(r.Qb(0,"td"),r.Jc(1),r.Pb()),2&e){const e=t.$implicit,i=r.bc().$implicit;r.Fc("width: ",e.width,""),r.xb(1),r.Lc(" ",i[e.field]," ")}}function M(e,t){if(1&e){const e=r.Sb();r.Qb(0,"tr"),r.Qb(1,"td",32),r.Qb(2,"button",36),r.Yb("click",function(){r.yc(e);const i=t.$implicit;return r.bc().editJadwal(i)}),r.Pb(),r.Qb(3,"button",37),r.Yb("click",function(){r.yc(e);const i=t.$implicit;return r.bc().hapusjadwal(i)}),r.Pb(),r.Pb(),r.Hc(4,H,2,4,"td",38),r.Pb()}if(2&e){const e=t.columns;r.xb(4),r.ic("ngForOf",e)}}function S(e,t){if(1&e){const e=r.Sb();r.Qb(0,"button",39),r.Yb("click",function(){return r.yc(e),r.bc().simpanJadwal()}),r.Pb(),r.Qb(1,"button",40),r.Yb("click",function(){return r.yc(e),r.bc().pop_User=!1}),r.Pb()}if(2&e){const e=r.bc();r.ic("disabled",e.isSimpan)}}const D=function(){return[5,10,25,50]},R=function(){return["namaruangan","namalengkap","hari"]},T=function(){return{width:"900px",minWidth:"900px"}},Y=[{path:"",component:(()=>{class e{constructor(e,t,i,a,n,l,o,r){this.apiService=e,this.authService=t,this.confirmationService=i,this.messageService=a,this.router=n,this.DateHelper=l,this.cacheHelper=o,this.alertService=r,this.item={mapModul:[],mapRuangan:[],mapModul2:[]},this.pop_User=!1,this.isSimpan=!1,this.indexTab=0,this.searchText="",this.searchText2="",this.listRuangan=[],this.listDokter=[],this.listhari=[]}ngOnInit(){this.loadColumn(),this.loadCombo(),this.loadData()}loadCombo(){this.apiService.get("sysadmin/general/get-combo-jadwal-dokter").subscribe(e=>{this.listRuangan=e.poli,this.listDokter=e.dokter,this.listhari=e.hari})}loadColumn(){this.column=[{field:"no",header:"No",width:"60px"},{field:"namalengkap",header:"Nama Dokter",width:"200px"},{field:"hari",header:"Hari",width:"250px"},{field:"jammulai",header:"Jam Mulai",width:"150px"},{field:"jamakhir",header:"Jam Selesai",width:"150px"}]}loadData(){this.apiService.get("sysadmin/general/get-data-informasi-jadwal-dokter?&dokterId=&ruanganId=").subscribe(e=>{var t=e.data;for(let i=0;i<t.length;i++)t[i].no=i+1;this.dataSource=t})}tambah(){this.item.idjadwal="",this.pop_User=!0,this.clearInputan()}clearInputan(){delete this.item.idjadwal,delete this.item.dataRuangan,delete this.item.selectedHari,delete this.item.jammulai,delete this.item.jamselesai,delete this.item.dataDokter,delete this.item.keterangan}simpanJadwal(){if(null!=this.item.dataRuangan)if(null!=this.item.dataDokter){var e="";if(0!=this.item.selectedHari.length)for(var t=0;t<this.item.selectedHari.length;t++)e+=t==this.item.selectedHari.length-1?this.item.selectedHari[t].hari:this.item.selectedHari[t].hari+", ";var i={idjadwal:this.item.idjadwal,objectpegawaifk:null!=this.item.dataDokter?this.item.dataDokter.id:null,objectruanganfk:null!=this.item.dataRuangan?this.item.dataRuangan.id:null,hari:null!=e?e:null,jammulai:null!=this.item.jammulai?o(this.item.jammulai).format("HH:mm"):null,jamakhir:null!=this.item.jamselesai?o(this.item.jamselesai).format("HH:mm"):null,keterangan:null!=this.item.keterangan?this.item.keterangan:""};this.isSimpan=!0,this.apiService.post("sysadmin/general/save-informasi-jadwal-dokter",i).subscribe(e=>{this.isSimpan=!1,this.clearInputan(),this.pop_User=!1,this.loadData()},function(e){this.isSimpan=!0})}else this.alertService.error("Peringatan!","Dokter Tidak Boleh Kosong!");else this.alertService.error("Peringatan!","Ruangan Tidak Boleh Kosong!")}editJadwal(e){var t=e;if(this.item.idjadwal=t.idjadwalpegawai,this.item.dataDokter={id:t.pegawaiidfk,namalengkap:t.namalengkap},this.item.dataRuangan={id:t.ruanganidfk,namaruangan:t.namaruangan},this.item.jammulai=t.jammulai,this.item.jamselesai=t.jamakhir,this.item.keterangan=t.keterangan,t.hari){this.item.selectedHari=[];let e=t.hari.split(",");if(e.length>0)for(var i=0;i<e.length;i++){const t=e[i];for(var a=0;a<this.listhari.length;a++){const e=this.listhari[a];if(t.indexOf(e.hari)>-1){this.item.selectedHari.push(e);break}}}}this.pop_User=!0}hapusjadwal(e){this.apiService.post("sysadmin/general/hapus-informasi-jadwal-dokter",{idJadwal:e.idjadwalpegawai,objectpegawaifk:e.pegawaiidfk}).subscribe(e=>{this.loadData()})}cari(){this.loadData()}}return e.\u0275fac=function(t){return new(t||e)(r.Jb(s.a),r.Jb(s.b),r.Jb(l.a),r.Jb(l.h),r.Jb(n.f),r.Jb(d.a),r.Jb(b.a),r.Jb(c.a))},e.\u0275cmp=r.Db({type:e,selectors:[["app-jadwal-dokter"]],features:[r.wb([l.a])],decls:50,vars:36,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-4"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Pencarian ",3,"input"],[1,"p-col-12","p-md-1"],[1,"p-col-12","p-md-12",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","jadwal Dokter Baru",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-fluid","p-grid"],[1,"p-col-12","p-md-12"],["header","Input Jadwal Dokter Baru",3,"toggleable"],["for","input",1,"label"],["placeholder","Ruangan/Poli","optionLabel","namaruangan",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","hari",3,"options","ngModel","ngModelChange"],[1,"p-col-12","p-md-6"],["for","timeonly"],["inputId","timeonly",3,"ngModel","timeOnly","ngModelChange"],["placeholder","Dokter","optionLabel","namalengkap",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"label"],["pInputTextarea","","placeholder","Keterangan","rows","3","cols","20",3,"ngModel","ngModelChange"],["pTemplate","footer"],[1,"p-d-flex"],["type","button","pButton","","pRipple","","icon","pi pi-plus","pTooltip","Tambah ","tooltipPosition","bottom",1,"p-button-success","p-mr-2",3,"click"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit ","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus ","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],["pButton","","icon","pi pi-save","label","Simpan",1,"p-button","p-button-success","p-mr-2",3,"disabled","click"],["pButton","","icon","fa fa-refresh","label","Batal",1,"p-button","p-mr-2",3,"click"]],template:function(e,t){if(1&e){const e=r.Sb();r.Lb(0,"p-confirmPopup"),r.Qb(1,"div",0),r.Qb(2,"div",1),r.Qb(3,"h4"),r.Jc(4,"Informasi Jadwal Dokter"),r.Pb(),r.Qb(5,"div",2),r.Qb(6,"div",3),r.Qb(7,"span",4),r.Lb(8,"i",5),r.Qb(9,"input",6),r.Yb("input",function(t){return r.yc(e),r.wc(16).filterGlobal(t.target.value,"contains")}),r.Pb(),r.Pb(),r.Pb(),r.Qb(10,"div",7),r.Qb(11,"div",2),r.Qb(12,"div",8),r.Qb(13,"button",9),r.Yb("click",function(){return t.cari()}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(14,"div",10),r.Qb(15,"p-table",11,12),r.Yb("selectionChange",function(e){return t.selectedGrid=e}),r.Hc(17,C,2,0,"ng-template",13),r.Hc(18,y,3,1,"ng-template",14),r.Hc(19,M,5,1,"ng-template",15),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(20,"p-dialog",16),r.Yb("visibleChange",function(e){return t.pop_User=e}),r.Qb(21,"div",17),r.Qb(22,"div",18),r.Qb(23,"p-panel",19),r.Qb(24,"div",2),r.Qb(25,"div",18),r.Qb(26,"label",20),r.Jc(27,"Ruangan/Poli"),r.Pb(),r.Qb(28,"p-dropdown",21),r.Yb("ngModelChange",function(e){return t.item.dataRuangan=e}),r.Pb(),r.Pb(),r.Qb(29,"div",18),r.Qb(30,"label",20),r.Jc(31,"Hari"),r.Pb(),r.Qb(32,"p-multiSelect",22),r.Yb("ngModelChange",function(e){return t.item.selectedHari=e}),r.Pb(),r.Pb(),r.Qb(33,"div",23),r.Qb(34,"label",24),r.Jc(35,"Jam Mulai"),r.Pb(),r.Qb(36,"p-calendar",25),r.Yb("ngModelChange",function(e){return t.item.jammulai=e}),r.Pb(),r.Pb(),r.Qb(37,"div",23),r.Qb(38,"label",24),r.Jc(39,"Jam Selesai"),r.Pb(),r.Qb(40,"p-calendar",25),r.Yb("ngModelChange",function(e){return t.item.jamselesai=e}),r.Pb(),r.Pb(),r.Qb(41,"div",18),r.Qb(42,"label",20),r.Jc(43,"Dokter"),r.Pb(),r.Qb(44,"p-dropdown",26),r.Yb("ngModelChange",function(e){return t.item.dataDokter=e}),r.Pb(),r.Pb(),r.Qb(45,"div",18),r.Qb(46,"label",27),r.Jc(47,"Keterangan"),r.Pb(),r.Qb(48,"textarea",28),r.Yb("ngModelChange",function(e){return t.item.keterangan=e}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Hc(49,S,2,1,"ng-template",29),r.Pb()}2&e&&(r.xb(15),r.ic("columns",t.column)("value",t.dataSource)("selection",t.selectedGrid)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",r.mc(33,D))("paginator",!0)("pageLinks",5)("globalFilterFields",r.mc(34,R)),r.xb(5),r.Ec(r.mc(35,T)),r.ic("visible",t.pop_User)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),r.xb(3),r.ic("toggleable",!0),r.xb(5),r.ic("options",t.listRuangan)("ngModel",t.item.dataRuangan)("filter",!0)("showClear",!0),r.xb(4),r.ic("options",t.listhari)("ngModel",t.item.selectedHari),r.xb(4),r.ic("ngModel",t.item.jammulai)("timeOnly",!0),r.xb(4),r.ic("ngModel",t.item.jamselesai)("timeOnly",!0),r.xb(4),r.ic("options",t.listDokter)("ngModel",t.item.dataDokter)("filter",!0)("showClear",!0),r.xb(4),r.ic("ngModel",t.item.keterangan))},directives:[p.a,u.a,m.b,h.a,g.h,l.k,f.a,k.a,w.a,P.g,P.h,v.a,Q.a,P.a,j.a,x.a,a.k,g.g,g.f],styles:[""]}),e})()}];let F=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(t){return new(t||e)},imports:[[n.j.forChild(Y)],n.j]}),e})();var I=i("PCNd");let L=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(t){return new(t||e)},imports:[[a.b,F,I.a]]}),e})()}}]);