!function(){function a(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function e(a,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"2rKu":function(t,i,n){"use strict";n.r(i),n.d(i,"ReturResepNonlayananModule",function(){return O});var s=n("ofXK"),r=n("tyNb"),o=n("7zfz"),l=n("wd/R"),u=n("fXoL"),d=n("EJUL"),h=n("U+s4"),m=n("G0w9"),p=n("ujBT"),b=n("7CaW"),c=n("eO1q"),g=n("3Pt+"),k=n("arFO"),f=n("7kUa"),v=n("Ji6n"),P=n("V5BG"),Q=n("Ks7X"),M=n("jIHw"),y=n("xlun"),R=n("rEr+"),j=n("zFJ7");function S(a,e){if(1&a&&(u.Qb(0,"th"),u.Jc(1),u.Pb()),2&a){var t=e.$implicit;u.Fc("width: ",t.width,""),u.xb(1),u.Lc(" ",t.header," ")}}function w(a,e){if(1&a&&(u.Qb(0,"tr"),u.Lb(1,"th",49),u.Hc(2,S,2,4,"th",50),u.Pb()),2&a){var t=e.$implicit;u.xb(2),u.ic("ngForOf",t)}}function x(a,e){if(1&a&&(u.Qb(0,"span"),u.Jc(1),u.Pb()),2&a){var t=u.bc().$implicit,i=u.bc().$implicit,n=u.bc();u.xb(1),u.Lc(" ",n.formatRupiah(i[t.field],""),"")}}function C(a,e){if(1&a&&(u.Qb(0,"span"),u.Jc(1),u.Pb()),2&a){var t=u.bc().$implicit,i=u.bc().$implicit;u.xb(1),u.Lc(" ",i[t.field],"")}}function D(a,e){if(1&a&&(u.Qb(0,"td"),u.Hc(1,x,2,1,"span",52),u.Hc(2,C,2,1,"span",52),u.Pb()),2&a){var t=e.$implicit;u.Fc("width: ",t.width,""),u.xb(1),u.ic("ngIf",null!=t.isCurrency),u.xb(1),u.ic("ngIf",null==t.isCurrency)}}function T(a,e){if(1&a){var t=u.Sb();u.Qb(0,"tr"),u.Qb(1,"td",49),u.Qb(2,"button",51),u.Yb("click",function(){u.yc(t);var a=e.$implicit;return u.bc().editD(a)}),u.Pb(),u.Pb(),u.Hc(3,D,3,5,"td",50),u.Pb()}if(2&a){var i=e.columns;u.xb(3),u.ic("ngForOf",i)}}function K(a,e){if(1&a&&(u.Qb(0,"tr"),u.Qb(1,"td",53),u.Jc(2,"Grand Total : "),u.Pb(),u.Qb(3,"td"),u.Jc(4),u.Pb(),u.Pb()),2&a){var t=u.bc();u.xb(4),u.Lc(" \xa0",t.item.totalSubTotal,"")}}var J,Y,I,F=function(){return[5,10,25,50]},N=[{path:"",component:(J=function(){function t(e,i,n,s,r,o,l,u,d){a(this,t),this.apiService=e,this.authService=i,this.confirmationService=n,this.messageService=s,this.cacheHelper=r,this.dateHelper=o,this.alertService=l,this.route=u,this.router=d,this.params={},this.item={pasien:{}},this.columnGrid=[],this.dataSource=[],this.data2=[],this.dataProdukDetail=[],this.listSatuan=[],this.statusTambah=!0,this.hrg1=0,this.noOrder="",this.strStatus=0,this.isPemakaianObatAlkes=!1,this.hargaDiskon=0,this.tambah=function(){if(0!=this.statusTambah)if(null!=this.item.ruangan)if(null!=this.item.penulisResep)if(null!=this.item.tglresep)if(0!=this.item.jumlah)if(0!=this.item.jumlahRetur)if(null!=this.item.jenisKemasan)if(null!=this.item.produk)if(null!=this.item.satuan){var a="";this.item.KeteranganPakai&&(a=this.item.KeteranganPakai);var e=1;"Racikan"==this.item.jenisKemasan.jeniskemasan&&(e=this.item.dosis);var t=null;null!=this.item.jenisRacikan&&(t=this.item.jenisRacikan.id);var i={};if(this.disabledRuangan=!0,null!=this.item.no){for(var n=this.data2.length-1;n>=0;n--)this.data2[n].no==this.item.no&&(i.no=this.item.no,i.generik=null,i.hargajual=this.item.hargaSatuan,i.jenisobatfk=t,i.stock=this.item.stok,i.harganetto=this.item.hargaSatuan,i.nostrukterimafk=this.noTerima,i.rke=this.item.rke,i.jeniskemasanfk=this.item.jenisKemasan.id,i.jeniskemasan=this.item.jenisKemasan.jeniskemasan,i.aturanpakaifk=0,i.aturanpakai=this.item.aturanpakaitxt,i.ispagi=this.item.chkp,i.issiang=this.item.chks,i.issore=this.item.chksr,i.ismalam=this.item.chkm,i.asalprodukfk=0,i.asalproduk="",i.produkfk=this.item.produk.id,i.namaproduk=this.item.produk.namaproduk,i.nilaikonversi=this.item.nilaiKonversi,i.satuanstandarfk=this.item.satuan.ssid,i.satuanstandar=this.item.satuan.satuanstandar,i.satuanviewfk=this.item.satuan.ssid,i.satuanview=this.item.satuan.satuanstandar,i.jmlstok=this.item.stok,i.jumlah=this.item.jumlah,i.hargasatuan=this.item.hargaSatuan,i.hargadiscount=null!=this.hargaDiskon?this.hargaDiskon:0,i.persendiscount=null!=this.item.hargaDiskon?this.item.hargaDiskon:0,i.total=this.item.hargaTotal,i.dosis=e,i.jumlahxmakan=this.item.jumlahxmakan,i.jmldosis=String(this.item.jumlah/e)+"/"+String(e),i.keterangan=a,i.satuanresepfk=null!=this.item.satuanresep?this.item.satuanresep.id:null,i.satuanresep=null!=this.item.satuanresep?this.item.satuanresep.satuanresep:null,i.tglkadaluarsa=null!=this.tglkadaluarsa?this.tglkadaluarsa:null,i.isoutofstok=!1,i.iskronis=0,i.belumlengkap=!1,i.jmlretur=parseFloat(this.item.jumlahRetur),this.data2[n]=i,this.dataSource=this.data2);this.kosongkan()}else this.alertService.error("Info","Data Yang Dapat Diretur Hanya Bisa Produk Didalam Resep!")}else this.alertService.error("Info","Data Yang Dapat Diretur Hanya Bisa Produk Didalam Resep!");else this.alertService.error("Info","Data Yang Dapat Diretur Hanya Bisa Produk Didalam Resep!");else this.alertService.error("Info","Pilih Jenis Kemasan terlebih dahulu!!");else this.alertService.error("Info","Jumlah retur harus di isi!");else this.alertService.error("Info","Jumlah harus di isi!");else this.alertService.error("Info","Data Tanggal Resep Masih Kosong!");else this.alertService.error("Info","Data Penulis Resep Masih Kosong!");else this.alertService.error("Info","Data Ruangan Masih Kosong!")}}var i,n,s;return i=t,(n=[{key:"ngOnInit",value:function(){this.disabledRuangan=!1,this.isSimpan=!1,this.dateNow=new Date,this.dataLogin=this.authService.getDataLoginUser(),this.kelUser=this.dataLogin.kelompokUser.kelompokUser,this.loadColumn(),this.loadCombo(),this.firstLoad()}},{key:"formatRupiah",value:function(a,e){return e+" "+parseFloat(a).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}},{key:"loadColumn",value:function(){this.columnGrid=[{field:"no",header:"No",width:"80px"},{field:"rke",header:"R/Ke",width:"100px"},{field:"jeniskemasan",header:"Kemasan",width:"120px"},{field:"jmldosis",header:"Jml/Dosis",width:"120px"},{field:"aturanpakai",header:"Aturan Pakai",width:"120px"},{field:"satuanresep",header:"Satuan Resep",width:"120px"},{field:"namaproduk",header:"Produk",width:"120px"},{field:"satuanstandar",header:"Satuan",width:"100px"},{field:"jumlah",header:"Jumlah",width:"150px"},{field:"hargasatuan",header:"Harga",width:"150px",isCurrency:!0},{field:"total",header:"Total",width:"150px",isCurrency:!0},{field:"keterangan",header:"Keterangan",width:"150px"},{field:"jmlretur",header:"Jumlah Retur",width:"150px"}]}},{key:"loadCombo",value:function(){var a=this;this.apiService.get("farmasi/get-combo-farmasi").subscribe(function(e){var t=e;a.listRuangan=null!=a.dataLogin.mapLoginUserToRuangan?a.dataLogin.mapLoginUserToRuangan:t.ruangfarmasi,a.listPenulisResep=t.dokter}),this.apiService.get("farmasi/get-combo-resep").subscribe(function(e){a.listJenisKemasan=e.jeniskemasan,a.listAsalProduk=e.asalproduk,a.listsatuanresep=e.satuanresep,a.listJenisRacikan=e.jenisracikan,a.item.jenisKemasan=e.jeniskemasan[1]})}},{key:"firstLoad",value:function(){var a=this;this.route.params.subscribe(function(e){a.params.norec_resep=e.norec_resep,a.norec_resep=e.norec_resep}),this.loadData()}},{key:"loadData",value:function(){var a=this;"-"!=this.norec_resep&&this.apiService.get("farmasi/get-detail-obat-bebas?norecResep="+this.norec_resep).subscribe(function(e){var t=e.detailresep,i=e.pelayananPasien,n=0;a.item.pasien=t,a.item.pasien.tgllahir=l(new Date(t.tgllahir)).format("YYYY-MM-DD HH:mm"),a.item.pasien.jeniskelamin={id:t.jkid,jeniskelamin:t.jeniskelamin},a.item.nomorResep=t.nostruk,a.item.ruangan={id:t.id,namaruangan:t.namaruangan},a.disabledRuangan=!0,a.item.penulisResep={id:t.pgid,namalengkap:t.namalengkap},a.item.tglresep=l(t.tglresep).format("YYYY-MM-DD HH:mm");for(var s=0;s<i.length;s++){var r=i[s];r.no=s+1,r.jmlretur=0,n+=parseFloat(r.total)}a.data2=i,a.item.totalSubTotal=a.formatRupiah(n,"Rp."),a.dataSource=a.data2})}},{key:"clickRadio",value:function(a){"Racikan"==a.jeniskemasan?(this.showRacikanDose=!0,delete this.item.jumlahxmakan,delete this.item.dosis,delete this.item.jenisRacikan,delete this.item.sediaan,delete this.item.kekuatan):this.showRacikanDose=!1}},{key:"cariPasien",value:function(){var a=this;if(""==this.item.pasien.norm||"-"==this.item.pasien.norm)return this.item.pasien.namapasien=void 0,this.item.pasien.jeniskelamin=void 0,this.item.pasien.tgllahir=void 0,this.item.pasien.notelepon=void 0,void(this.item.pasien.alamatlengkap=void 0);this.apiService.get("general/get-detail-pasien?nocm="+this.item.pasien.norm).subscribe(function(e){null!=e&&(a.item.pasien=e,a.item.pasien.tgllahir=new Date(l(e.tgllahir).format("YYYY-MM-DD HH:mm")),a.item.pasien.jeniskelamin={id:e.jkid,jeniskelamin:e.jeniskelamin})})}},{key:"ObatKronis",value:function(a){this.item.SelectedObatKronis=1==a.checked}},{key:"filterProduk",value:function(a){var e=this;this.apiService.get("farmasi/get-produk-resep?namaproduk="+a.query).subscribe(function(a){e.listProduk=a})}},{key:"getSatuan",value:function(){null!=this.item.produk.id&&this.GETKONVERSI()}},{key:"GETKONVERSI",value:function(){var a=this;this.listSatuan=this.item.produk.konversisatuan,0==this.listSatuan.length&&(this.listSatuan=[{ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar}]),this.item.satuan={ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar},this.item.nilaiKonversi=1,null!=this.item.ruangan&&(this.statusTambah=!1,this.apiService.get("general/get-produkdetail-general?produkfk="+this.item.produk.id+"&ruanganfk="+this.item.ruangan.id).subscribe(function(e){a.dataProdukDetail=e.detail,a.item.stok=e.jmlstok/a.item.nilaiKonversi,a.onChangeKonversi(),0==e.kekuatan&&(e.kekuatan=1),a.item.kekuatan=e.kekuatan,a.item.sediaan=e.sediaan,a.tglkadaluarsa=l(a.dataProdukDetail[0].tglkadaluarsa).format("YYYY-MM-DD HH:mm"),a.dataProdukDetail.length>0&&(null!=a.dataSelected?(a.item.nilaiKonversi=a.dataSelected.nilaikonversi,a.item.stok=a.dataSelected.jmlstok,a.item.jumlah=a.dataSelected.jumlah,a.item.hargaSatuan=a.dataSelected.hargasatuan,0!=a.dataSelected.hargadiscount?(a.hargaDiskon=parseFloat(a.item.hargaSatuan)-parseFloat(a.dataSelected.hargadiscount),a.item.hargaDiskon=parseFloat(a.item.hargaSatuan)/parseFloat(a.dataSelected.hargadiscount)):(a.hargaDiskon=0,a.item.hargaDiskon=0),a.item.hargaTotal=a.dataSelected.total,null!=a.item.kekuatan&&0!=a.item.kekuatan&&(a.item.jumlahxmakan=parseFloat(a.item.jumlah)/parseFloat(a.item.dosis)*parseFloat(a.item.kekuatan))):(a.hargaDiskon=0,a.item.hargaDiskon=0)),a.statusTambah=!0,a.gettotal()}))}},{key:"onChangeQty",value:function(a){this.item.jumlah=a.value,this.gettotal()}},{key:"onChangeJmlXMakan",value:function(a){null!=this.item.kekuatan&&0!=this.item.kekuatan||(this.item.kekuatan=1),this.item.jumlah=parseFloat(this.item.jumlahxmakan)*parseFloat(this.item.dosis)/parseFloat(this.item.kekuatan)}},{key:"onChangeKonversi",value:function(){this.item.stok>0&&(this.item.stok=parseFloat(this.item.stok)*parseFloat(this.item.nilaiKonversi),this.item.jumlah=1,this.item.hargaSatuan=0,this.item.hargaDiskon=0,this.item.hargaTotal=0)}},{key:"onChangeDiskon",value:function(a){this.item.hargaDiskon=parseFloat(a.value),this.hargaDiskon=0;var e=this.item.hargaSatuan-this.item.hargaSatuan*this.item.hargaDiskon/100;this.hargaDiskon=e,this.item.hargaTotal=this.item.jumlah*e}},{key:"getNilaiKonversi",value:function(){this.item.nilaiKonversi=this.item.satuan.nilaikonversi}},{key:"gettotal",value:function(){for(var a=!1,e=0;e<this.dataProdukDetail.length;e++)if(a=!1,this.item.jumlah*parseFloat(this.item.nilaiKonversi)>0){this.hrg1=Math.round(parseFloat(this.dataProdukDetail[e].hargajual)*parseFloat(this.item.nilaiKonversi)),this.item.hargaSatuan=parseFloat(this.hrg1),this.item.hargaTotal=this.item.jumlah*this.hrg1,this.noTerima=this.dataProdukDetail[e].norec,a=!0;break}0==a&&(this.item.hargaSatuan=0,this.item.total=0,this.noTerima=""),0==this.item.jumlah&&(this.item.hargaSatuan=0)}},{key:"kosongkan",value:function(){this.dataSelected=void 0,delete this.item.produk,delete this.item.satuan,delete this.item.nilaiKonversi,delete this.item.sediaan,delete this.item.kekuatan,this.item.stok=0,this.item.jumlah=1,this.item.no=void 0,this.item.hargaSatuan=0,delete this.item.satuanresep,delete this.item.KeteranganPakai,this.item.hargaDiskon=0,this.item.hargaTotal=0,this.hargaDiskon=0,this.tglkadaluarsa=void 0,this.item.jumlahRetur=0}},{key:"clear",value:function(){"Racikan"!=this.item.jenisKemasan.jeniskemasan&&delete this.item.jenisRacikan}},{key:"batal",value:function(){this.kosongkan()}},{key:"editD",value:function(a){var e=this;if(0!=this.statusTambah){var t=[];this.dataSelected=a,this.item.no=a.no,this.item.rke=a.rke,null!=a.jenisobatfk&&this.apiService.get("farmasi/get-jenis-obat?jrid="+a.jenisobatfk).subscribe(function(a){0!=a.data.length&&(e.item.jenisRacikan={id:a.data[0].id,jenisracikan:a.data[0].jenisracikan})}),null!=this.item.jenisKemasan&&this.item.jenisKemasan.id==a.jeniskemasanfk||(this.item.jenisKemasan={id:a.jeniskemasanfk,jeniskemasan:a.jeniskemasan}),this.item.satuanresep={id:a.satuanresepfk,satuanresep:a.satuanresep},this.item.jumlahxmakan=a.jumlahxmakan,this.item.dosis=a.dosis,this.item.aturanPakai={id:a.aturanpakaifk,name:a.aturanpakai},this.item.aturanpakaitxt=a.aturanpakai,this.item.KeteranganPakai=a.keterangan,this.item.aturanCheck=[],null!=a.ispagi&&"0"!=a.ispagi&&(this.item.aturanCheck[1]=!0),null!=a.issiang&&"0"!=a.issiang&&(this.item.aturanCheck[2]=!0),null!=a.issore&&"0"!=a.issore&&(this.item.aturanCheck[3]=!0),null!=a.ismalam&&"0"!=a.ismalam&&(this.item.aturanCheck[4]=!0),this.item.asal={id:a.asalprodukfk,asalproduk:a.asalproduk},this.apiService.get("emr/get-produk-resep?idproduk="+a.produkfk).subscribe(function(i){e.listProduk=i;for(var n=e.listProduk.length-1;n>=0;n--)if(e.listProduk[n].id==a.produkfk){t=e.listProduk[n];break}e.item.produk=t,e.GETKONVERSI()})}}},{key:"Kembali",value:function(){window.history.back()}},{key:"batalGrid",value:function(){this.kosongkan(),this.data2=[],this.dataSource=void 0}},{key:"save",value:function(){var a=this;if(null!=this.item.tglresep)if(null!=this.item.ruangan)if(null!=this.item.penulisResep)if(null!=this.item.alasan)if(0!=this.data2.length){for(var e=this.data2.length-1;e>=0;e--)if(parseFloat(this.data2[e].jmlstok)<parseFloat(this.data2[e].jumlah))return void this.alertService.error("Info","Terdapat obat dengan jumlah melebihi STOK!"+this.data2[e].namaproduk);var t=0;for(e=this.data2.length-1;e>=0;e--)t+=parseFloat(this.data2[e].total);this.isSimpan=!0;var i={noresep:this.norec_resep,tglresep:l(this.item.tglresep).format("YYYY-MM-DD HH:mm"),nocm:this.item.pasien.norm,namapasien:this.item.pasien.namapasien,penulisresepfk:this.item.penulisResep.id,ruanganfk:this.item.ruangan.id,keteranganlainnya:"Resep Non Layanan",totalharusdibayar:t,tglLahir:this.item.pasien.tgllahir,noTelepon:this.item.pasien.notelepon,alamat:this.item.pasien.alamatlengkap,jkid:this.item.pasien.jeniskelamin.id,karyawan:null,retur:"RETUR",alasan:this.item.alasan,pegawairetur:this.dataLogin.pegawai.id};this.apiService.post("farmasi/save-retur-obat-non-layanan",{strukresep:i,details:this.data2}).subscribe(function(e){a.isSimpan=!1,a.apiService.postLog("Simpan Retur Pelayanan Resep Non Layanan","Norec strukpelayanan",a.norec_resep,"Simpan Retur Pelayanan Resep Non Layanan Dengan Noresep - "+a.item.nomorResep+", Atas Nama - "+a.item.pasien.namapasien).subscribe(function(a){}),a.kosongkan(),a.data2=[],a.dataSource=void 0,window.history.back()})}else this.alertService.error("Info","Pilih Produk terlebih dahulu!");else this.alertService.error("Info","Alasan Retur Masih Kosong!");else this.alertService.error("Info","Penulis Resep Masih Kosong!");else this.alertService.error("Info","Ruangan Masih Kosong!");else this.alertService.error("Info","Tgl Resep Masih Kosong!")}}])&&e(i.prototype,n),s&&e(i,s),t}(),J.\u0275fac=function(a){return new(a||J)(u.Jb(d.a),u.Jb(d.b),u.Jb(o.a),u.Jb(o.h),u.Jb(h.a),u.Jb(m.a),u.Jb(p.a),u.Jb(r.a),u.Jb(r.f))},J.\u0275cmp=u.Db({type:J,selectors:[["app-retur-resep-nonlayanan"]],features:[u.wb([o.a])],decls:122,vars:69,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-5"],["header","Data Resep",3,"toggleable"],[1,"p-col-12","p-md-6"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Resep","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","disabled","ngModelChange"],["placeholder","Ruangan ","optionLabel","namaruangan","dataKey","id",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],[1,"p-col-12","p-md-4"],["type","text","pInputText","","placeholder","Nomor Resep","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-8"],["placeholder","Penulis","optionLabel","namalengkap",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],[1,"p-col-12","p-md-7"],["header","Data Pasien",3,"toggleable"],[1,"p-col-12","p-md-3"],["type","text","pInputText","","placeholder","Nomor RM",3,"ngModel","disabled","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","disabled","ngModelChange"],["placeholder","Jenis Kelamin","optionLabel","jeniskelamin","dataKey","id",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Lahir","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","disabled","ngModelChange"],["type","text","pInputText","","placeholder","Telepon",3,"ngModel","disabled","ngModelChange"],[1,"p-col-12","p-md-9"],["type","text","pInputText","","placeholder","Alamat",3,"ngModel","disabled","ngModelChange"],["header","Resep",3,"toggleable"],[1,"p-col-12","p-md-1"],["label","Obat Kronis","binary","true","inputId","item.SelectedObatKronis",3,"ngModel","ngModelChange","onChange"],["type","text","pInputText","","placeholder","R/Ke ",3,"ngModel","ngModelChange"],["field","namaproduk","placeholder","Pilih Produk",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod","onSelect"],["placeholder","Qty","inputId","stacked","disabled","",3,"ngModel","showButtons","ngModelChange","onInput"],["placeholder","Qty Retur","inputId","stacked",3,"ngModel","showButtons","ngModelChange"],[1,"p-col-12","p-md-2"],["placeholder","Satuan ","optionLabel","satuanstandar","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["type","text","pInputText","","placeholder","Harga","disabled","",3,"ngModel","ngModelChange"],["placeholder","Disc %","inputId","stacked","disabled","",3,"ngModel","showButtons","ngModelChange","onInput"],["type","text","pInputText","","placeholder","Total","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-2","p-md-offset-8"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah","label","Tambah",1,"p-button","p-button-success","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-refresh","pTooltip","Batal","label","Batal",1,"p-button","p-button-warning","p-mr-2",3,"click"],["styleClass","p-datatable-customers","scrollable","true","dataKey","no",3,"value","columns","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["for","input"],["pInputTextarea","","placeholder","Alasan Retur",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-3","p-md-offset-3"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan Data","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-refresh","pTooltip","Batal","label","Reset",1,"p-button","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","fa fa-arrow-left","pTooltip","Kembali","label","Kembali",1,"p-button","p-button-danger","p-mr-2",3,"click"],[2,"width","80px"],[3,"style",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit Data","label","",1,"p-button-rounded","p-mr-2",3,"click"],[4,"ngIf"],["rowspan","6"]],template:function(a,e){1&a&&(u.Qb(0,"div",0),u.Qb(1,"div",1),u.Qb(2,"h4"),u.Jc(3,"Retur Resep Non Layanan"),u.Pb(),u.Qb(4,"div",2),u.Qb(5,"div",3),u.Qb(6,"div",4),u.Qb(7,"p-panel",5),u.Qb(8,"div",2),u.Qb(9,"div",3),u.Qb(10,"div",6),u.Qb(11,"label",7),u.Jc(12,"Tgl Resep"),u.Pb(),u.Qb(13,"p-calendar",8),u.Yb("ngModelChange",function(a){return e.item.tglresep=a}),u.Pb(),u.Pb(),u.Qb(14,"div",6),u.Qb(15,"label",7),u.Jc(16,"Ruangan "),u.Pb(),u.Qb(17,"p-dropdown",9),u.Yb("ngModelChange",function(a){return e.item.ruangan=a}),u.Pb(),u.Pb(),u.Qb(18,"div",10),u.Qb(19,"label",7),u.Jc(20,"Nomor Resep"),u.Pb(),u.Qb(21,"input",11),u.Yb("ngModelChange",function(a){return e.item.nomorResep=a}),u.Pb(),u.Pb(),u.Qb(22,"div",12),u.Qb(23,"label",7),u.Jc(24,"Penulis Resep "),u.Pb(),u.Qb(25,"p-dropdown",13),u.Yb("ngModelChange",function(a){return e.item.penulisResep=a}),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(26,"div",14),u.Qb(27,"p-panel",15),u.Qb(28,"div",2),u.Qb(29,"div",3),u.Qb(30,"div",16),u.Qb(31,"label",7),u.Jc(32,"Nomor RM"),u.Pb(),u.Qb(33,"input",17),u.Yb("ngModelChange",function(a){return e.item.pasien.norm=a})("keyup.enter",function(){return e.cariPasien()}),u.Pb(),u.Pb(),u.Qb(34,"div",16),u.Qb(35,"label",7),u.Jc(36,"Nama"),u.Pb(),u.Qb(37,"input",18),u.Yb("ngModelChange",function(a){return e.item.pasien.namapasien=a}),u.Pb(),u.Pb(),u.Qb(38,"div",16),u.Qb(39,"label",7),u.Jc(40,"Jenis Kelamin"),u.Pb(),u.Qb(41,"p-dropdown",19),u.Yb("ngModelChange",function(a){return e.item.pasien.jeniskelamin=a}),u.Pb(),u.Pb(),u.Qb(42,"div",16),u.Qb(43,"label",7),u.Jc(44,"Tgl Lahir"),u.Pb(),u.Qb(45,"p-calendar",20),u.Yb("ngModelChange",function(a){return e.item.pasien.tgllahir=a}),u.Pb(),u.Pb(),u.Qb(46,"div",16),u.Qb(47,"label",7),u.Jc(48,"Nomor Telepon"),u.Pb(),u.Qb(49,"input",21),u.Yb("ngModelChange",function(a){return e.item.pasien.notelepon=a}),u.Pb(),u.Pb(),u.Qb(50,"div",22),u.Qb(51,"label",7),u.Jc(52,"Alamat"),u.Pb(),u.Qb(53,"input",23),u.Yb("ngModelChange",function(a){return e.item.pasien.alamatlengkap=a}),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(54,"div",2),u.Qb(55,"div",3),u.Qb(56,"div",2),u.Qb(57,"p-panel",24),u.Qb(58,"div",3),u.Qb(59,"div",25),u.Qb(60,"p-checkbox",26),u.Yb("ngModelChange",function(a){return e.item.SelectedObatKronis=a})("onChange",function(a){return e.ObatKronis(a)}),u.Pb(),u.Pb(),u.Pb(),u.Qb(61,"div",3),u.Qb(62,"div",25),u.Qb(63,"label",7),u.Jc(64,"R/Ke "),u.Pb(),u.Qb(65,"input",27),u.Yb("ngModelChange",function(a){return e.item.rke=a}),u.Pb(),u.Pb(),u.Pb(),u.Qb(66,"div",3),u.Qb(67,"div",10),u.Qb(68,"label",7),u.Jc(69,"Produk "),u.Pb(),u.Qb(70,"p-autoComplete",28),u.Yb("ngModelChange",function(a){return e.item.produk=a})("completeMethod",function(a){return e.filterProduk(a)})("onSelect",function(){return e.getSatuan()}),u.Pb(),u.Pb(),u.Qb(71,"div",25),u.Qb(72,"label",7),u.Jc(73,"Qty Obat "),u.Pb(),u.Qb(74,"p-inputNumber",29),u.Yb("ngModelChange",function(a){return e.item.jumlah=a})("onInput",function(a){return e.onChangeQty(a)}),u.Pb(),u.Pb(),u.Qb(75,"div",25),u.Qb(76,"label",7),u.Jc(77,"Qty Retur "),u.Pb(),u.Qb(78,"p-inputNumber",30),u.Yb("ngModelChange",function(a){return e.item.jumlahRetur=a}),u.Pb(),u.Pb(),u.Qb(79,"div",31),u.Qb(80,"label",7),u.Jc(81,"Satuan "),u.Pb(),u.Qb(82,"p-dropdown",32),u.Yb("ngModelChange",function(a){return e.item.satuan=a})("onChange",function(){return e.getNilaiKonversi()}),u.Pb(),u.Pb(),u.Qb(83,"div",31),u.Qb(84,"label",7),u.Jc(85,"Harga "),u.Pb(),u.Qb(86,"input",33),u.Yb("ngModelChange",function(a){return e.item.hargaSatuan=a}),u.Pb(),u.Pb(),u.Qb(87,"div",25),u.Qb(88,"label",7),u.Jc(89,"Diskon (%)"),u.Pb(),u.Qb(90,"p-inputNumber",34),u.Yb("ngModelChange",function(a){return e.item.hargaDiskon=a})("onInput",function(a){return e.onChangeDiskon(a)}),u.Pb(),u.Pb(),u.Qb(91,"div",31),u.Qb(92,"label",7),u.Jc(93,"Total "),u.Pb(),u.Qb(94,"input",35),u.Yb("ngModelChange",function(a){return e.item.hargaTotal=a}),u.Pb(),u.Pb(),u.Pb(),u.Qb(95,"div",3),u.Qb(96,"div",36),u.Qb(97,"button",37),u.Yb("click",function(){return e.tambah()}),u.Pb(),u.Pb(),u.Qb(98,"div",31),u.Qb(99,"button",38),u.Yb("click",function(){return e.batal()}),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(100,"div",2),u.Qb(101,"p-panel",5),u.Qb(102,"p-table",39),u.Hc(103,w,3,1,"ng-template",40),u.Hc(104,T,4,1,"ng-template",41),u.Hc(105,K,5,1,"ng-template",42),u.Pb(),u.Pb(),u.Pb(),u.Qb(106,"div",2),u.Qb(107,"div",3),u.Qb(108,"div",6),u.Qb(109,"div",3),u.Qb(110,"div",2),u.Qb(111,"label",43),u.Jc(112,"Alasan Retur"),u.Pb(),u.Qb(113,"textarea",44),u.Yb("ngModelChange",function(a){return e.item.alasan=a}),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(114,"div",6),u.Qb(115,"div",3),u.Qb(116,"div",45),u.Qb(117,"button",46),u.Yb("click",function(){return e.save()}),u.Pb(),u.Pb(),u.Qb(118,"div",16),u.Qb(119,"button",47),u.Yb("click",function(){return e.batalGrid()}),u.Pb(),u.Pb(),u.Qb(120,"div",16),u.Qb(121,"button",48),u.Yb("click",function(){return e.Kembali()}),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb()),2&a&&(u.xb(7),u.ic("toggleable",!1),u.xb(6),u.ic("ngModel",e.item.tglresep)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("maxDate",e.maxDateValue)("disabled",e.disabledRuangan),u.xb(4),u.ic("options",e.listRuangan)("ngModel",e.item.ruangan)("filter",!0)("showClear",!0)("disabled",e.disabledRuangan),u.xb(4),u.ic("ngModel",e.item.nomorResep),u.xb(4),u.ic("options",e.listPenulisResep)("ngModel",e.item.penulisResep)("filter",!0)("showClear",!0)("disabled",e.disabledRuangan),u.xb(2),u.ic("toggleable",!1),u.xb(6),u.ic("ngModel",e.item.pasien.norm)("disabled",e.disabledRuangan),u.xb(4),u.ic("ngModel",e.item.pasien.namapasien)("disabled",e.disabledRuangan),u.xb(4),u.ic("options",e.listJenisKelamin)("ngModel",e.item.pasien.jeniskelamin)("filter",!0)("showClear",!0)("disabled",e.disabledRuangan),u.xb(4),u.ic("ngModel",e.item.pasien.tgllahir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("disabled",e.disabledRuangan),u.xb(4),u.ic("ngModel",e.item.pasien.notelepon)("disabled",e.disabledRuangan),u.xb(4),u.ic("ngModel",e.item.pasien.alamatlengkap)("disabled",e.disabledRuangan),u.xb(4),u.ic("toggleable",!1),u.xb(3),u.ic("ngModel",e.item.SelectedObatKronis),u.xb(5),u.ic("ngModel",e.item.rke),u.xb(5),u.ic("ngModel",e.item.produk)("suggestions",e.listProduk)("dropdown",!0),u.xb(4),u.ic("ngModel",e.item.jumlah)("showButtons",!0),u.xb(4),u.ic("ngModel",e.item.jumlahRetur)("showButtons",!0),u.xb(4),u.ic("options",e.listSatuan)("ngModel",e.item.satuan)("filter",!0)("showClear",!0),u.xb(4),u.ic("ngModel",e.item.hargaSatuan),u.xb(4),u.ic("ngModel",e.item.hargaDiskon)("showButtons",!0),u.xb(4),u.ic("ngModel",e.item.hargaTotal),u.xb(3),u.ic("disabled",!e.statusTambah),u.xb(4),u.ic("toggleable",!1),u.xb(1),u.ic("value",e.dataSource)("columns",e.columnGrid)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",u.mc(68,F))("paginator",!0)("pageLinks",5),u.xb(11),u.ic("ngModel",e.item.alasan),u.xb(4),u.ic("disabled",e.isSimpan))},directives:[b.a,c.a,g.g,g.h,k.a,g.a,f.a,v.a,P.a,Q.a,M.b,y.a,R.h,o.k,j.a,s.k,s.l],styles:[""]}),J)}],L=((Y=function e(){a(this,e)}).\u0275mod=u.Hb({type:Y}),Y.\u0275inj=u.Gb({factory:function(a){return new(a||Y)},imports:[[r.j.forChild(N)],r.j]}),Y),H=n("PCNd"),O=((I=function e(){a(this,e)}).\u0275mod=u.Hb({type:I}),I.\u0275inj=u.Gb({factory:function(a){return new(a||I)},imports:[[s.b,L,H.a]]}),I)}}])}();