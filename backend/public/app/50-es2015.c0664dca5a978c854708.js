(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{oxbd:function(e,t,a){"use strict";a.r(t),a.d(t,"InputReturResepModule",function(){return I});var i=a("ofXK"),n=a("tyNb"),s=a("7zfz"),r=a("wd/R"),l=a("fXoL"),o=a("EJUL"),h=a("U+s4"),d=a("G0w9"),u=a("ujBT"),b=a("7CaW"),p=a("3Pt+"),m=a("7kUa"),g=a("eO1q"),c=a("arFO"),k=a("V5BG"),f=a("Ks7X"),P=a("jIHw"),v=a("xlun"),Q=a("rEr+"),R=a("zFJ7");function M(e,t){if(1&e&&(l.Qb(0,"th"),l.Jc(1),l.Pb()),2&e){const e=t.$implicit;l.Fc("width: ",e.width,""),l.xb(1),l.Lc(" ",e.header," ")}}function x(e,t){if(1&e&&(l.Qb(0,"tr"),l.Lb(1,"th",51),l.Hc(2,M,2,4,"th",52),l.Pb()),2&e){const e=t.$implicit;l.xb(2),l.ic("ngForOf",e)}}function S(e,t){if(1&e&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&e){const e=l.bc().$implicit,t=l.bc().$implicit,a=l.bc();l.xb(1),l.Lc(" ",a.formatRupiah(t[e.field],""),"")}}function j(e,t){if(1&e&&(l.Qb(0,"span"),l.Jc(1),l.Pb()),2&e){const e=l.bc().$implicit,t=l.bc().$implicit;l.xb(1),l.Lc(" ",t[e.field],"")}}function C(e,t){if(1&e&&(l.Qb(0,"td"),l.Hc(1,S,2,1,"span",54),l.Hc(2,j,2,1,"span",54),l.Pb()),2&e){const e=t.$implicit;l.Fc("width: ",e.width,""),l.xb(1),l.ic("ngIf",null!=e.isCurrency),l.xb(1),l.ic("ngIf",null==e.isCurrency)}}function w(e,t){if(1&e){const e=l.Sb();l.Qb(0,"tr"),l.Qb(1,"td",51),l.Qb(2,"button",53),l.Yb("click",function(){l.yc(e);const a=t.$implicit;return l.bc().editD(a)}),l.Pb(),l.Pb(),l.Hc(3,C,3,5,"td",52),l.Pb()}if(2&e){const e=t.columns;l.xb(3),l.ic("ngForOf",e)}}function y(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"td",55),l.Jc(2,"Grand Total : "),l.Pb(),l.Qb(3,"td"),l.Jc(4),l.Pb(),l.Pb()),2&e){const e=l.bc();l.xb(4),l.Lc(" \xa0",e.item.totalSubTotal,"")}}const T=function(){return[5,10,25,50]},J=[{path:"",component:(()=>{class e{constructor(e,t,a,i,n,s,r,l,o){this.apiService=e,this.authService=t,this.confirmationService=a,this.messageService=i,this.cacheHelper=n,this.dateHelper=s,this.alertService=r,this.route=l,this.router=o,this.params={},this.item={pasien:{}},this.columnGrid=[],this.dataSource=[],this.data2=[],this.dataProdukDetail=[],this.listSatuan=[],this.statusTambah=!0,this.hrg1=0,this.noOrder="",this.strStatus=0,this.isPemakaianObatAlkes=!1,this.tambah=function(){if(0!=this.statusTambah)if(null!=this.item.ruangan)if(null!=this.item.penulisResep)if(null!=this.item.tglresep)if(0!=this.item.jumlah)if(0!=this.item.QtyRetur)if(null!=this.item.jenisKemasan)if(null!=this.item.produk)if(null!=this.item.satuan){var e="";this.item.KeteranganPakai&&(e=this.item.KeteranganPakai);var t=1;"Racikan"==this.item.jenisKemasan.jeniskemasan&&(t=this.item.dosis);var a=null;null!=this.item.jenisRacikan&&(a=this.item.jenisRacikan.id);var i={};if(this.disabledRuangan=!0,null!=this.item.no){for(var n=this.data2.length-1;n>=0;n--)this.data2[n].no==this.item.no&&(i.no=this.item.no,i.noregistrasifk=this.norec_apd,i.generik=null,i.hargajual=this.item.hargaSatuan,i.jenisobatfk=a,i.stock=this.item.stok,i.harganetto=this.item.hargaSatuan,i.nostrukterimafk=this.noTerima,i.ruanganfk=this.item.ruangan.id,i.rke=this.item.rke,i.jeniskemasanfk=this.item.jenisKemasan.id,i.jeniskemasan=this.item.jenisKemasan.jeniskemasan,i.aturanpakaifk=0,i.aturanpakai=this.item.aturanpakaitxt,i.ispagi=this.item.chkp,i.issiang=this.item.chks,i.issore=this.item.chksr,i.ismalam=this.item.chkm,i.asalprodukfk=0,i.asalproduk="",i.produkfk=this.item.produk.id,i.namaproduk=this.item.produk.namaproduk,i.nilaikonversi=this.item.nilaiKonversi,i.satuanstandarfk=this.item.satuan.ssid,i.satuanstandar=this.item.satuan.satuanstandar,i.satuanviewfk=this.item.satuan.ssid,i.satuanview=this.item.satuan.satuanstandar,i.jmlstok=this.item.stok,i.jumlah=this.item.jumlah,i.hargasatuan=this.item.hargaSatuan,i.hargadiscount=null!=this.hargaDiskon?this.hargaDiskon:0,i.persendiscount=null!=this.item.hargaDiskon?this.item.hargaDiskon:0,i.total=this.item.hargaTotal,i.dosis=t,i.jumlahxmakan=this.item.jumlahxmakan,i.jmldosis=String(this.item.jumlah/t)+"/"+String(t),i.keterangan=e,i.satuanresepfk=null!=this.item.satuanresep?this.item.satuanresep.id:null,i.satuanresep=null!=this.item.satuanresep?this.item.satuanresep.satuanresep:null,i.tglkadaluarsa=null!=this.tglkadaluarsa?this.tglkadaluarsa:null,i.isoutofstok=!1,i.iskronis=0,i.belumlengkap=!1,i.jmlretur=parseFloat(this.item.QtyRetur),this.data2[n]=i,this.dataSource=this.data2);this.kosongkan()}else this.alertService.error("Info","Data Yang Dapat Diretur Hanya Bisa Produk Didalam Resep!")}else this.alertService.error("Info","Data Yang Dapat Diretur Hanya Bisa Produk Didalam Resep!");else this.alertService.error("Info","Data Yang Dapat Diretur Hanya Bisa Produk Didalam Resep!");else this.alertService.error("Info","Pilih Jenis Kemasan terlebih dahulu!!");else this.alertService.error("Info","Jumlah retur harus di isi!");else this.alertService.error("Info","Jumlah harus di isi!");else this.alertService.error("Info","Data Tanggal Resep Masih Kosong!");else this.alertService.error("Info","Data Penulis Resep Masih Kosong!");else this.alertService.error("Info","Data Ruangan Masih Kosong!")}}ngOnInit(){this.isSimpan=!1,this.dateNow=new Date,this.dataLogin=this.authService.getDataLoginUser(),this.kelUser=this.dataLogin.kelompokUser.kelompokUser,this.loadColumn(),this.loadCombo(),this.firstLoad()}formatRupiah(e,t){return t+" "+parseFloat(e).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}loadColumn(){this.columnGrid=[{field:"no",header:"No",width:"80px"},{field:"rke",header:"R/Ke",width:"100px"},{field:"jeniskemasan",header:"Kemasan",width:"120px"},{field:"jmldosis",header:"Jml/Dosis",width:"120px"},{field:"aturanpakai",header:"Aturan Pakai",width:"120px"},{field:"satuanresep",header:"Satuan Resep",width:"120px"},{field:"namaproduk",header:"Produk",width:"120px"},{field:"satuanstandar",header:"Satuan",width:"100px"},{field:"jumlah",header:"Jumlah",width:"150px"},{field:"hargasatuan",header:"Harga",width:"150px",isCurrency:!0},{field:"total",header:"Total",width:"150px",isCurrency:!0},{field:"keterangan",header:"Keterangan",width:"150px"},{field:"jmlretur",header:"Jumlah Retur",width:"150px"}]}loadCombo(){this.apiService.get("farmasi/get-combo-farmasi").subscribe(e=>{var t=e;this.listRuangan=null!=this.dataLogin.mapLoginUserToRuangan?this.dataLogin.mapLoginUserToRuangan:t.ruangfarmasi,this.listPenulisResep=t.dokter}),this.apiService.get("farmasi/get-combo-resep").subscribe(e=>{this.listJenisKemasan=e.jeniskemasan,this.listAsalProduk=e.asalproduk,this.listsatuanresep=e.satuanresep,this.listJenisRacikan=e.jenisracikan,this.item.jenisKemasan=e.jeniskemasan[1]})}firstLoad(){this.route.params.subscribe(e=>{this.params.norec_resep=e.norec_resep,this.norec_resep=e.norec_resep});var e=this.cacheHelper.get("ReturResepPasienCache");null!=e&&(this.item.RuangRawat=e[11],this.item.pasien.norm=e[0],this.item.pasien.noregistrasi=e[3],this.item.pasien.namapasien=e[1],this.item.pasien.jeniskelamin=e[2],this.item.pasien.umur=e[4],this.item.pasien.kelompokpasien=e[10],this.item.pasien.alamat=e[12],this.JenisData=e[13],this.loadData())}loadData(){null==this.JenisData&&""==this.JenisData||"ReturResep"==this.JenisData&&this.apiService.get("farmasi/get-detail-resep?norecResep="+this.norec_resep).subscribe(e=>{var t=e.detailresep,a=e.pelayananPasien,i=0;this.item.penulisResep=[],this.disabledRuangan=!0,this.norec_apd=t.norec_apd,this.item.nomorResep=t.noresep,this.item.ruangan={id:t.id,namaruangan:t.namaruangan},this.item.penulisResep={id:t.pgid,namalengkap:t.namalengkap},this.item.tglresep=r(t.tglresep).format("YYYY-MM-DD HH:mm"),this.item.SelectedResepPulang="1"==t.isreseppulang,this.data2=a;for(let n=0;n<this.data2.length;n++){if("1"==this.data2[n].obatkronis){this.item.SelectedObatKronis=!0;break}this.item.SelectedObatKronis=!1;break}for(let n=0;n<this.data2.length;n++){const e=this.data2[n];e.no=n+1,0!=e.nilaikonversi&&null!=e.nilaikonversi||(e.nilaikonversi=1),null==e.hargadiscount?(e.hargadiscount=0,e.persendiscount=0):(e.hargadiscount=parseFloat(e.hargadiscount),e.persendiscount=parseFloat(e.hargajual)/parseFloat(e.hargadiscount)),null==e.jmlretur&&(e.jmlretur=0),e.total=parseFloat(e.jumlah)*parseFloat(e.hargasatuan),i+=parseFloat(e.total)}this.item.totalSubTotal=this.formatRupiah(i,"Rp."),this.dataSource=this.data2})}filterProduk(e){this.apiService.get("farmasi/get-produk-resep?namaproduk="+e.query).subscribe(e=>{this.listProduk=e})}getSatuan(){null!=this.item.produk.id&&this.GETKONVERSI()}GETKONVERSI(){this.listSatuan=this.item.produk.konversisatuan,0==this.listSatuan.length&&(this.listSatuan=[{ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar}]),this.item.satuan={ssid:this.item.produk.ssid,satuanstandar:this.item.produk.satuanstandar},this.item.nilaiKonversi=1,null!=this.item.ruangan&&(this.statusTambah=!1,this.apiService.get("general/get-produkdetail-general?produkfk="+this.item.produk.id+"&ruanganfk="+this.item.ruangan.id).subscribe(e=>{this.dataProdukDetail=e.detail,this.item.stok=e.jmlstok/this.item.nilaiKonversi,this.onChangeKonversi(),0==e.kekuatan&&(e.kekuatan=1),this.item.kekuatan=e.kekuatan,this.item.sediaan=e.sediaan,this.dataProdukDetail.length>0&&(null!=this.dataSelected?(this.item.nilaiKonversi=this.dataSelected.nilaikonversi,this.item.stok=this.dataSelected.jmlstok,this.item.jumlah=this.dataSelected.jumlah,this.item.hargaSatuan=this.dataSelected.hargasatuan,this.item.hargaDiskon=0!=this.dataSelected.persendiscount?parseFloat(this.item.hargaSatuan)*parseFloat(this.dataSelected.persendiscount)/100:0,this.item.hargaTotal=this.dataSelected.total,null!=this.item.kekuatan&&0!=this.item.kekuatan&&(this.item.jumlahxmakan=parseFloat(this.item.jumlah)/parseFloat(this.item.dosis)*parseFloat(this.item.kekuatan)),this.item.QtyRetur=0):this.item.hargaDiskon=0),this.statusTambah=!0,this.gettotal()}))}onChangeQty(e){this.item.jumlah=e.value,this.gettotal()}onChangeJmlXMakan(e){null!=this.item.kekuatan&&0!=this.item.kekuatan||(this.item.kekuatan=1),this.item.jumlah=parseFloat(this.item.jumlahxmakan)*parseFloat(this.item.dosis)/parseFloat(this.item.kekuatan)}onChangeKonversi(){this.item.stok>0&&(this.item.stok=parseFloat(this.item.stok)*parseFloat(this.item.nilaiKonversi),this.item.jumlah=1,this.item.hargaSatuan=0,this.item.hargaDiskon=0,this.item.hargaTotal=0)}getNilaiKonversi(){this.item.nilaiKonversi=this.item.satuan.nilaikonversi}gettotal(){for(var e=!1,t=0;t<this.dataProdukDetail.length;t++)if(e=!1,this.item.jumlah*parseFloat(this.item.nilaiKonversi)>0){this.hrg1=Math.round(parseFloat(this.dataProdukDetail[t].hargajual)*parseFloat(this.item.nilaiKonversi)),this.item.hargaSatuan=parseFloat(this.hrg1),this.item.hargaTotal=this.item.jumlah*this.hrg1,this.noTerima=this.dataProdukDetail[t].norec,e=!0;break}0==e&&(this.item.hargaSatuan=0,this.item.total=0,this.noTerima=""),0==this.item.jumlah&&(this.item.hargaSatuan=0)}kosongkan(){this.dataSelected=void 0,delete this.item.produk,delete this.item.satuan,delete this.item.nilaiKonversi,delete this.item.sediaan,delete this.item.kekuatan,this.item.stok=0,this.item.jumlah=1,this.item.no=void 0,this.item.hargaSatuan=0,this.item.hargaDiskon=0,this.item.hargaTotal=0,this.item.QtyRetur=0}batal(){this.kosongkan()}editD(e){if(0!=this.statusTambah){var t=[];this.dataSelected=e,this.item.no=e.no,this.item.rke=e.rke,null!=e.jenisobatfk&&this.apiService.get("farmasi/get-jenis-obat?jrid="+e.jenisobatfk).subscribe(e=>{0!=e.data.length&&(this.item.jenisRacikan={id:e.data[0].id,jenisracikan:e.data[0].jenisracikan})}),null!=this.item.jenisKemasan&&this.item.jenisKemasan.id==e.jeniskemasanfk||(this.item.jenisKemasan={id:e.jeniskemasanfk,jeniskemasan:e.jeniskemasan}),this.item.satuanresep={id:e.satuanresepfk,satuanresep:e.satuanresep},this.item.jumlahxmakan=e.jumlahxmakan,this.item.dosis=e.dosis,this.item.aturanPakai={id:e.aturanpakaifk,name:e.aturanpakai},this.item.aturanpakaitxt=e.aturanpakai,this.item.KeteranganPakai=e.keterangan,this.item.aturanCheck=[],null!=e.ispagi&&"0"!=e.ispagi&&(this.item.aturanCheck[1]=!0),null!=e.issiang&&"0"!=e.issiang&&(this.item.aturanCheck[2]=!0),null!=e.issore&&"0"!=e.issore&&(this.item.aturanCheck[3]=!0),null!=e.ismalam&&"0"!=e.ismalam&&(this.item.aturanCheck[4]=!0),this.item.asal={id:e.asalprodukfk,asalproduk:e.asalproduk},this.apiService.get("emr/get-produk-resep?idproduk="+e.produkfk).subscribe(a=>{this.listProduk=a;for(var i=this.listProduk.length-1;i>=0;i--)if(this.listProduk[i].id==e.produkfk){t=this.listProduk[i];break}this.item.produk=t,this.GETKONVERSI()})}}Kembali(){window.history.back()}batalGrid(){this.kosongkan(),this.data2=[],this.dataSource=void 0}save(){this.isSimpan=!0;var e=0;1==this.item.SelectedResepPulang&&(e=1);var t=0;if(1==this.item.SelectedObatKronis&&(t=1),null!=this.item.tglresep)if(null!=this.item.ruangan)if(null!=this.item.penulisResep)if(null!=this.item.alasan)if(0!=this.data2.length){for(var a=this.data2.length-1;a>=0;a--)if(parseFloat(this.data2[a].jmlstok)<parseFloat(this.data2[a].jumlah))return void this.alertService.error("Info","Terdapat obat dengan jumlah melebihi STOK!"+this.data2[a].namaproduk);var i={tglresep:r(this.item.tglresep).format("YYYY-MM-DD HH:mm:ss"),pasienfk:this.norec_apd,nocm:this.item.pasien.norm,namapasien:this.item.pasien.namapasien,penulisresepfk:null!=this.item.penulisResep?this.item.penulisResep.id:null,ruanganfk:this.item.ruangan.id,noorder:this.noOrder,status:this.strStatus,norecResep:this.norec_resep,noresep:null!=this.item.nomorResep?this.item.nomorResep:"",retur:this.JenisData,isobatalkes:this.isPemakaianObatAlkes,isreseppulang:null!=e?e:null,isobatkronis:null!=t?t:null,jenisdata:this.JenisData,alasan:this.item.alasan};this.apiService.post("farmasi/save-pelayananobat",{strukresep:i,pelayananpasien:this.data2}).subscribe(e=>{this.isSimpan=!1,this.apiService.postLog("Simpan Retur Pelayanan Resep Pasien","Norec strukresep_t",this.norec_resep,"Simpan Retur Pelayanan Resep Pasien Dengan Noresep - "+this.item.nomorResep+" dan No Registrasi - "+this.item.pasien.noregistrasi).subscribe(e=>{}),this.kosongkan(),this.data2=[],this.dataSource=void 0,window.history.back()})}else this.alertService.error("Info","Pilih Produk terlebih dahulu!");else this.alertService.error("Info","Alasan Retur Masih Kosong!");else this.alertService.error("Info","Penulis Resep Masih Kosong!");else this.alertService.error("Info","Ruangan Masih Kosong!");else this.alertService.error("Info","Tgl Resep Masih Kosong!")}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(o.a),l.Jb(o.b),l.Jb(s.a),l.Jb(s.h),l.Jb(h.a),l.Jb(d.a),l.Jb(u.a),l.Jb(n.a),l.Jb(n.f))},e.\u0275cmp=l.Db({type:e,selectors:[["app-input-retur-resep"]],features:[l.wb([s.a])],decls:154,vars:57,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-4"],["header","Data Resep",3,"toggleable"],["for","input",1,"label"],["type","text","pInputText","","placeholder","Ruang Rawat","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-6"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Resep","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","disabled","ngModelChange"],["placeholder","Ruangan ","optionLabel","namaruangan","dataKey","id",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["type","text","pInputText","","placeholder","Nomor Resep","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-8"],["placeholder","Penulis","optionLabel","namalengkap",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["header","Data Pasien",3,"toggleable"],[1,"p-col-12","p-md-2"],["type","text","pInputText","","placeholder","Nomor RM","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-3"],["type","text","pInputText","","placeholder","Noregistrasi","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Pasien","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Jenis Kelamin","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Umur","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Tipe Pasien","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Alamat","disabled","",3,"ngModel","ngModelChange"],["header","Pengkajian",3,"toggleable"],[1,"p-col-12","p-md-10"],["type","text","pInputText","","placeholder","Berat Badan","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-2",2,"margin-top","20px"],["type","text","pInputText","","placeholder","Alergi","disabled","",3,"ngModel","ngModelChange"],["header","Data Retur",3,"toggleable"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","Nomor ","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","R/Ke ","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-5"],["field","namaproduk","placeholder","Pilih Produk",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod","onSelect"],["placeholder","Qty","inputId","stacked",3,"ngModel","showButtons","ngModelChange","onInput"],["placeholder","Satuan ","optionLabel","satuanstandar","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["placeholder","Qty Retur","inputId","stacked",3,"ngModel","showButtons","ngModelChange"],[1,"p-col-12","p-md-2","p-md-offset-8"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah","label","Tambah",1,"p-button","p-button-success","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-refresh","pTooltip","Batal","label","Batal",1,"p-button","p-button-warning","p-mr-2",3,"click"],["styleClass","p-datatable-customers","scrollable","true","dataKey","no",3,"value","columns","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["for","input"],["pInputTextarea","","placeholder","Alasan Retur",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-3","p-md-offset-3"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan Data","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-refresh","pTooltip","Batal","label","Reset",1,"p-button","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","fa fa-arrow-left","pTooltip","Kembali","label","Kembali",1,"p-button","p-button-danger","p-mr-2",3,"click"],[2,"width","80px"],[3,"style",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit Data","label","",1,"p-button-rounded","p-mr-2",3,"click"],[4,"ngIf"],["rowspan","6"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"h4"),l.Jc(3,"Input Retur Resep"),l.Pb(),l.Qb(4,"div",2),l.Qb(5,"div",3),l.Qb(6,"div",4),l.Qb(7,"p-panel",5),l.Qb(8,"div",2),l.Qb(9,"div",3),l.Qb(10,"div",2),l.Qb(11,"label",6),l.Jc(12,"Ruang Rawat"),l.Pb(),l.Qb(13,"input",7),l.Yb("ngModelChange",function(e){return t.item.RuangRawat=e}),l.Pb(),l.Pb(),l.Qb(14,"div",8),l.Qb(15,"label",6),l.Jc(16,"Tgl Resep"),l.Pb(),l.Qb(17,"p-calendar",9),l.Yb("ngModelChange",function(e){return t.item.tglresep=e}),l.Pb(),l.Pb(),l.Qb(18,"div",8),l.Qb(19,"label",6),l.Jc(20,"Ruangan "),l.Pb(),l.Qb(21,"p-dropdown",10),l.Yb("ngModelChange",function(e){return t.item.ruangan=e}),l.Pb(),l.Pb(),l.Qb(22,"div",4),l.Qb(23,"label",6),l.Jc(24,"Nomor Resep"),l.Pb(),l.Qb(25,"input",11),l.Yb("ngModelChange",function(e){return t.item.nomorResep=e}),l.Pb(),l.Pb(),l.Qb(26,"div",12),l.Qb(27,"label",6),l.Jc(28,"Penulis Resep "),l.Pb(),l.Qb(29,"p-dropdown",13),l.Yb("ngModelChange",function(e){return t.item.penulisResep=e}),l.Pb(),l.Pb(),l.Lb(30,"br"),l.Lb(31,"br"),l.Lb(32,"br"),l.Lb(33,"br"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(34,"div",8),l.Qb(35,"p-panel",14),l.Qb(36,"div",2),l.Qb(37,"div",3),l.Qb(38,"div",15),l.Qb(39,"label",6),l.Jc(40,"Nomor RM"),l.Pb(),l.Qb(41,"input",16),l.Yb("ngModelChange",function(e){return t.item.pasien.norm=e}),l.Pb(),l.Pb(),l.Qb(42,"div",17),l.Qb(43,"label",6),l.Jc(44,"Noregistrasi"),l.Pb(),l.Qb(45,"input",18),l.Yb("ngModelChange",function(e){return t.item.pasien.noregistrasi=e}),l.Pb(),l.Pb(),l.Qb(46,"div",4),l.Qb(47,"label",6),l.Jc(48,"Nama Pasien"),l.Pb(),l.Qb(49,"input",19),l.Yb("ngModelChange",function(e){return t.item.pasien.namapasien=e}),l.Pb(),l.Pb(),l.Qb(50,"div",17),l.Qb(51,"label",6),l.Jc(52,"Jenis Kelamin"),l.Pb(),l.Qb(53,"input",20),l.Yb("ngModelChange",function(e){return t.item.pasien.jeniskelamin=e}),l.Pb(),l.Pb(),l.Qb(54,"div",17),l.Qb(55,"label",6),l.Jc(56,"Umur"),l.Pb(),l.Qb(57,"input",21),l.Yb("ngModelChange",function(e){return t.item.pasien.umur=e}),l.Pb(),l.Pb(),l.Qb(58,"div",17),l.Qb(59,"label",6),l.Jc(60,"Tipe Pasien"),l.Pb(),l.Qb(61,"input",22),l.Yb("ngModelChange",function(e){return t.item.pasien.kelompokpasien=e}),l.Pb(),l.Pb(),l.Qb(62,"div",8),l.Qb(63,"label",6),l.Jc(64,"Alamat"),l.Pb(),l.Qb(65,"input",23),l.Yb("ngModelChange",function(e){return t.item.pasien.alamat=e}),l.Pb(),l.Pb(),l.Lb(66,"br"),l.Lb(67,"br"),l.Lb(68,"br"),l.Lb(69,"br"),l.Lb(70,"br"),l.Lb(71,"br"),l.Lb(72,"br"),l.Lb(73,"br"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(74,"div",15),l.Qb(75,"p-panel",24),l.Qb(76,"div",2),l.Qb(77,"div",3),l.Qb(78,"div",25),l.Qb(79,"label",6),l.Jc(80,"Berat Badan"),l.Pb(),l.Qb(81,"input",26),l.Yb("ngModelChange",function(e){return t.item.pasien.beratbadan=e}),l.Pb(),l.Pb(),l.Qb(82,"div",27),l.Qb(83,"label",6),l.Jc(84,"KG"),l.Pb(),l.Pb(),l.Qb(85,"div",2),l.Qb(86,"label",6),l.Jc(87,"Alergi"),l.Pb(),l.Qb(88,"input",28),l.Yb("ngModelChange",function(e){return t.item.pasien.alergi=e}),l.Pb(),l.Pb(),l.Lb(89,"br"),l.Lb(90,"br"),l.Lb(91,"br"),l.Lb(92,"br"),l.Lb(93,"br"),l.Lb(94,"br"),l.Lb(95,"br"),l.Lb(96,"br"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(97,"div",2),l.Qb(98,"div",3),l.Qb(99,"p-panel",29),l.Qb(100,"div",2),l.Qb(101,"div",3),l.Qb(102,"div",30),l.Qb(103,"label",6),l.Jc(104,"No "),l.Pb(),l.Qb(105,"input",31),l.Yb("ngModelChange",function(e){return t.item.no=e}),l.Pb(),l.Pb(),l.Qb(106,"div",30),l.Qb(107,"label",6),l.Jc(108,"R/Ke "),l.Pb(),l.Qb(109,"input",32),l.Yb("ngModelChange",function(e){return t.item.rke=e}),l.Pb(),l.Pb(),l.Qb(110,"div",33),l.Qb(111,"label",6),l.Jc(112,"Produk "),l.Pb(),l.Qb(113,"p-autoComplete",34),l.Yb("ngModelChange",function(e){return t.item.produk=e})("completeMethod",function(e){return t.filterProduk(e)})("onSelect",function(){return t.getSatuan()}),l.Pb(),l.Pb(),l.Qb(114,"div",30),l.Qb(115,"label",6),l.Jc(116,"Qty Obat "),l.Pb(),l.Qb(117,"p-inputNumber",35),l.Yb("ngModelChange",function(e){return t.item.jumlah=e})("onInput",function(e){return t.onChangeQty(e)}),l.Pb(),l.Pb(),l.Qb(118,"div",15),l.Qb(119,"label",6),l.Jc(120,"Satuan "),l.Pb(),l.Qb(121,"p-dropdown",36),l.Yb("ngModelChange",function(e){return t.item.satuan=e})("onChange",function(){return t.getNilaiKonversi()}),l.Pb(),l.Pb(),l.Qb(122,"div",15),l.Qb(123,"label",6),l.Jc(124,"Qty Retur "),l.Pb(),l.Qb(125,"p-inputNumber",37),l.Yb("ngModelChange",function(e){return t.item.QtyRetur=e}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(126,"div",2),l.Qb(127,"div",3),l.Qb(128,"div",38),l.Qb(129,"button",39),l.Yb("click",function(){return t.tambah()}),l.Pb(),l.Pb(),l.Qb(130,"div",15),l.Qb(131,"button",40),l.Yb("click",function(){return t.batal()}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(132,"div",2),l.Qb(133,"p-panel",5),l.Qb(134,"p-table",41),l.Hc(135,x,3,1,"ng-template",42),l.Hc(136,w,4,1,"ng-template",43),l.Hc(137,y,5,1,"ng-template",44),l.Pb(),l.Pb(),l.Pb(),l.Qb(138,"div",2),l.Qb(139,"div",3),l.Qb(140,"div",8),l.Qb(141,"div",3),l.Qb(142,"div",2),l.Qb(143,"label",45),l.Jc(144,"Alasan Retur"),l.Pb(),l.Qb(145,"textarea",46),l.Yb("ngModelChange",function(e){return t.item.alasan=e}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(146,"div",8),l.Qb(147,"div",3),l.Qb(148,"div",47),l.Qb(149,"button",48),l.Yb("click",function(){return t.save()}),l.Pb(),l.Pb(),l.Qb(150,"div",17),l.Qb(151,"button",49),l.Yb("click",function(){return t.batalGrid()}),l.Pb(),l.Pb(),l.Qb(152,"div",17),l.Qb(153,"button",50),l.Yb("click",function(){return t.Kembali()}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.xb(7),l.ic("toggleable",!1),l.xb(6),l.ic("ngModel",t.item.RuangRawat),l.xb(4),l.ic("ngModel",t.item.tglresep)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("maxDate",t.maxDateValue)("disabled",t.disabledRuangan),l.xb(4),l.ic("options",t.listRuangan)("ngModel",t.item.ruangan)("filter",!0)("showClear",!0)("disabled",t.disabledRuangan),l.xb(4),l.ic("ngModel",t.item.nomorResep),l.xb(4),l.ic("options",t.listPenulisResep)("ngModel",t.item.penulisResep)("filter",!0)("showClear",!0)("disabled",t.disabledRuangan),l.xb(6),l.ic("toggleable",!1),l.xb(6),l.ic("ngModel",t.item.pasien.norm),l.xb(4),l.ic("ngModel",t.item.pasien.noregistrasi),l.xb(4),l.ic("ngModel",t.item.pasien.namapasien),l.xb(4),l.ic("ngModel",t.item.pasien.jeniskelamin),l.xb(4),l.ic("ngModel",t.item.pasien.umur),l.xb(4),l.ic("ngModel",t.item.pasien.kelompokpasien),l.xb(4),l.ic("ngModel",t.item.pasien.alamat),l.xb(10),l.ic("toggleable",!1),l.xb(6),l.ic("ngModel",t.item.pasien.beratbadan),l.xb(7),l.ic("ngModel",t.item.pasien.alergi),l.xb(11),l.ic("toggleable",!1),l.xb(6),l.ic("ngModel",t.item.no),l.xb(4),l.ic("ngModel",t.item.rke),l.xb(4),l.ic("ngModel",t.item.produk)("suggestions",t.listProduk)("dropdown",!0),l.xb(4),l.ic("ngModel",t.item.jumlah)("showButtons",!0),l.xb(4),l.ic("options",t.listSatuan)("ngModel",t.item.satuan)("filter",!0)("showClear",!0),l.xb(4),l.ic("ngModel",t.item.QtyRetur)("showButtons",!0),l.xb(4),l.ic("disabled",!t.statusTambah),l.xb(4),l.ic("toggleable",!1),l.xb(1),l.ic("value",t.dataSource)("columns",t.columnGrid)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",l.mc(56,T))("paginator",!0)("pageLinks",5),l.xb(11),l.ic("ngModel",t.item.alasan),l.xb(4),l.ic("disabled",t.isSimpan))},directives:[b.a,p.a,m.a,p.g,p.h,g.a,c.a,k.a,f.a,P.b,v.a,Q.h,s.k,R.a,i.k,i.l],styles:[""]}),e})()}];let K=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[n.j.forChild(J)],n.j]}),e})();var D=a("PCNd");let I=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[i.b,K,D.a]]}),e})()}}]);