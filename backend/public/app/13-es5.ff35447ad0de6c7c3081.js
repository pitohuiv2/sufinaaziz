!function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Nb2V:function(e,a,i){"use strict";i.r(a),i.d(a,"OrderBedahModule",function(){return p});var n,r,o=i("ofXK"),l=i("tyNb"),c=i("tDzy"),b=i("fXoL"),s=[{path:"",component:c.a,children:[{path:"pengkajian-bedah-detail/:namaEMR/:nomorEMR",loadChildren:function(){return i.e(39).then(i.bind(null,"XEgZ")).then(function(e){return e.PengkajianBedahDetailModule})}}]}],d=((n=function e(){t(this,e)}).\u0275mod=b.Hb({type:n}),n.\u0275inj=b.Gb({factory:function(e){return new(e||n)},imports:[[l.j.forChild(s)],l.j]}),n),u=i("PCNd"),p=((r=function e(){t(this,e)}).\u0275mod=b.Hb({type:r}),r.\u0275inj=b.Gb({factory:function(e){return new(e||r)},imports:[[o.b,d,u.a]]}),r)},tDzy:function(a,i,n){"use strict";n.d(i,"a",function(){return Te});var r=n("wd/R"),o=n("fXoL"),l=n("By0h"),c=n("EJUL"),b=n("7zfz"),s=n("U+s4"),d=n("G0w9"),u=n("ujBT"),p=n("tyNb"),h=n("dPl2"),f=n("ofXK"),g=n("rEr+"),m=n("jIHw"),v=n("xlun"),k=n("/RsI"),P=n("7CaW"),y=n("eO1q"),Q=n("3Pt+"),x=n("7kUa"),w=n("arFO"),S=n("hYoW"),R=n("jeV5"),C=n("lUkA"),j=n("Ji6n"),T=n("Q4Mo"),M=n("b1Ni"),H=n("PU9F"),D=function(){return{width:"100%"}};function F(e,t){if(1&e&&(o.Qb(0,"div",26),o.Lb(1,"p-tag",48),o.Pb()),2&e){var a=t.$implicit;o.xb(1),o.Ec(o.mc(3,D)),o.jc("value",a.namaproduk)}}function I(e,t){if(1&e){var a=o.Sb();o.Qb(0,"p-panel",45),o.Qb(1,"div",7),o.Hc(2,F,2,4,"div",46),o.Pb(),o.Qb(3,"div",7),o.Qb(4,"div",14),o.Qb(5,"button",47),o.Yb("click",function(){return o.yc(a),o.bc(2).clearSelection()}),o.Pb(),o.Pb(),o.Pb(),o.Pb()}if(2&e){var i=o.bc(2);o.ic("toggleable",!0),o.xb(2),o.ic("ngForOf",i.listChecked),o.xb(3),o.ic("disabled",i.isSimpan)}}function O(e,t){1&e&&o.Lb(0,"p-skeleton",52),2&e&&o.jc("styleClass",t.$implicit.class)}function L(e,t){if(1&e&&(o.Qb(0,"div"),o.Hc(1,O,1,1,"p-skeleton",51),o.Pb()),2&e){var a=t.$implicit;o.zb(a.class),o.xb(1),o.ic("ngForOf",a.details)}}function $(e,t){if(1&e&&(o.Qb(0,"div",7),o.Hc(1,L,2,4,"div",50),o.Pb()),2&e){var a=t.$implicit;o.xb(1),o.ic("ngForOf",a.details)}}function J(e,t){if(1&e&&(o.Qb(0,"div",2),o.Hc(1,$,2,1,"div",49),o.Pb()),2&e){var a=o.bc(2);o.xb(1),o.ic("ngForOf",a.skeleton)}}function E(e,t){if(1&e){var a=o.Sb();o.Qb(0,"div",59),o.Qb(1,"p-checkbox",60),o.Yb("ngModelChange",function(e){o.yc(a);var i=t.$implicit;return o.bc(4).item.layanan[i.id]=e})("onChange",function(){return o.yc(a),o.bc(4).getSelected()}),o.Pb(),o.Qb(2,"label",61),o.Jc(3),o.Pb(),o.Pb()}if(2&e){var i=t.$implicit,n=o.bc(4);o.xb(1),o.jc("inputId",i.id),o.ic("ngModel",n.item.layanan[i.id]),o.xb(1),o.jc("for",i.id),o.xb(1),o.Lc(" ",i.namaproduk,"")}}function Y(e,t){if(1&e&&(o.Qb(0,"div",54),o.Qb(1,"div",7),o.Qb(2,"div",33),o.Qb(3,"p-divider",55),o.Qb(4,"div",56),o.Lb(5,"i",57),o.Qb(6,"b"),o.Jc(7),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(8,"div",7),o.Hc(9,E,4,4,"div",58),o.cc(10,"filter"),o.Pb(),o.Pb()),2&e){var a=t.$implicit,i=o.bc(3);o.xb(7),o.Kc(a.detailjenisproduk),o.xb(2),o.ic("ngForOf",o.ec(10,2,a.details,i.searchText))}}function B(e,t){if(1&e&&(o.Qb(0,"div",7),o.Hc(1,Y,11,5,"div",53),o.Pb()),2&e){var a=o.bc(2);o.xb(1),o.ic("ngForOf",a.listProdukCek)}}function N(e,t){if(1&e){var a=o.Sb();o.Qb(0,"div",7),o.Qb(1,"div",2),o.Qb(2,"p-panel",25),o.Qb(3,"div",7),o.Qb(4,"div",26),o.Qb(5,"label",27),o.Jc(6,"Tgl Rencana Operasi "),o.Pb(),o.Qb(7,"p-calendar",28),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.tglPelayanan=e}),o.Pb(),o.Pb(),o.Qb(8,"div",26),o.Qb(9,"label",27),o.Jc(10,"Ruangan Asal "),o.Pb(),o.Qb(11,"input",29),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.ruanganAsal=e}),o.Pb(),o.Pb(),o.Qb(12,"div",26),o.Qb(13,"label",27),o.Jc(14,"Ruangan Tujuan "),o.Pb(),o.Qb(15,"p-dropdown",30),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.ruangantujuan=e})("onChange",function(){o.yc(a);var e=o.bc();return e.getProduk(e.item.ruangantujuan)}),o.Pb(),o.Pb(),o.Qb(16,"div",31),o.Qb(17,"label",27),o.Jc(18,"Keterangan "),o.Pb(),o.Qb(19,"input",32),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().item.keterangan=e}),o.Pb(),o.Pb(),o.Pb(),o.Qb(20,"div",7),o.Qb(21,"div",33),o.Hc(22,I,6,3,"p-panel",34),o.Pb(),o.Pb(),o.Qb(23,"div",7),o.Qb(24,"div",31),o.Qb(25,"span",35),o.Lb(26,"i",36),o.Qb(27,"input",37),o.Yb("ngModelChange",function(e){return o.yc(a),o.bc().searchText=e}),o.Pb(),o.Pb(),o.Pb(),o.Qb(28,"div",38),o.Qb(29,"button",39),o.Yb("click",function(){return o.yc(a),o.bc().clearFilter()}),o.Pb(),o.Pb(),o.Qb(30,"div",40),o.Qb(31,"button",41),o.Yb("click",function(){return o.yc(a),o.bc().save()}),o.Pb(),o.Pb(),o.Qb(32,"div",38),o.Qb(33,"button",42),o.Yb("click",function(){return o.yc(a),o.bc().batal()}),o.Pb(),o.Pb(),o.Qb(34,"div",38),o.Qb(35,"button",43),o.Yb("click",function(){return o.yc(a),o.bc().riwayat()}),o.Pb(),o.Pb(),o.Pb(),o.Qb(36,"div",7),o.Hc(37,J,2,1,"div",44),o.Hc(38,B,2,1,"div",5),o.Pb(),o.Pb(),o.Pb(),o.Pb()}if(2&e){var i=o.bc();o.xb(2),o.ic("toggleable",!0),o.xb(5),o.ic("ngModel",i.item.tglPelayanan)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("maxDate",i.maxDateValue),o.xb(4),o.ic("ngModel",i.item.ruanganAsal),o.xb(4),o.ic("options",i.listRuanganTujuan)("ngModel",i.item.ruangantujuan)("filter",!0)("showClear",!0),o.xb(4),o.ic("ngModel",i.item.keterangan),o.xb(3),o.ic("ngIf",i.listChecked.length>0),o.xb(5),o.ic("ngModel",i.searchText),o.xb(4),o.ic("disabled",i.isSimpan),o.xb(6),o.ic("ngIf",0==i.listProdukCek.length),o.xb(1),o.ic("ngIf",i.listProdukCek.length>0)}}function K(e,t){if(1&e){var a=o.Sb();o.Qb(0,"div",65),o.Qb(1,"div",66),o.Qb(2,"span",35),o.Lb(3,"i",36),o.Qb(4,"input",67),o.Yb("input",function(e){return o.yc(a),o.bc(),o.wc(6).filterGlobal(e.target.value,"contains")}),o.Pb(),o.Pb(),o.Pb(),o.Pb()}}function _(e,t){if(1&e&&(o.Qb(0,"th",70),o.Jc(1),o.Lb(2,"p-sortIcon",71),o.Pb()),2&e){var a=t.$implicit;o.Fc("width: ",a.width,""),o.jc("pSortableColumn",a.field),o.xb(1),o.Lc(" ",a.header," "),o.xb(1),o.jc("field",a.field)}}function z(e,t){if(1&e&&(o.Qb(0,"tr"),o.Lb(1,"th",68),o.Hc(2,_,3,6,"th",69),o.Pb()),2&e){var a=t.$implicit;o.xb(2),o.ic("ngForOf",a)}}function A(e,t){if(1&e&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&e){var a=o.bc().$implicit,i=o.bc().$implicit,n=o.bc(2);o.xb(1),o.Lc(" ",n.formatRupiah(i[a.field],""),"")}}function V(e,t){if(1&e&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&e){var a=o.bc().$implicit,i=o.bc().$implicit;o.xb(1),o.Lc(" ",i[a.field],"")}}function G(e,t){if(1&e&&(o.Qb(0,"td"),o.Hc(1,A,2,1,"span",75),o.Hc(2,V,2,1,"span",75),o.Pb()),2&e){var a=t.$implicit;o.Fc("width: ",a.width,""),o.xb(1),o.ic("ngIf",null!=a.isCurrency),o.xb(1),o.ic("ngIf",null==a.isCurrency)}}function U(e,t){if(1&e){var a=o.Sb();o.Qb(0,"tr"),o.Qb(1,"td",68),o.Lb(2,"button",72),o.Qb(3,"button",73),o.Yb("click",function(){o.yc(a);var e=t.$implicit;return o.bc(2).hapusD(e)}),o.Pb(),o.Pb(),o.Hc(4,G,3,5,"td",74),o.Pb()}if(2&e){var i=t.$implicit,n=t.columns,r=t.expanded;o.xb(2),o.ic("pRowToggler",i)("icon",r?"pi pi-chevron-down":"pi pi-chevron-right"),o.xb(2),o.ic("ngForOf",n)}}function q(e,t){1&e&&(o.Qb(0,"tr"),o.Qb(1,"th"),o.Jc(2,"Nama Layanan"),o.Pb(),o.Qb(3,"th"),o.Jc(4,"Jumlah"),o.Pb(),o.Pb())}function X(e,t){if(1&e&&(o.Qb(0,"tr"),o.Qb(1,"td"),o.Jc(2),o.Pb(),o.Qb(3,"td"),o.Jc(4),o.Pb(),o.Pb()),2&e){var a=t.$implicit;o.xb(2),o.Kc(a.namaproduk),o.xb(2),o.Kc(a.qtyproduk)}}function W(e,t){if(1&e&&(o.Qb(0,"tr"),o.Qb(1,"td",76),o.Qb(2,"div",77),o.Qb(3,"p-table",78),o.Hc(4,q,5,0,"ng-template",11),o.Hc(5,X,5,2,"ng-template",12),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&e){var a=t.$implicit;o.xb(3),o.ic("value",a.details)}}var Z=function(){return[5,10,25,50]},ee=function(){return["namaPelayanan"]};function te(e,t){if(1&e){var a=o.Sb();o.Qb(0,"div",7),o.Qb(1,"div",2),o.Qb(2,"p-panel",62),o.Qb(3,"div",7),o.Qb(4,"div",2),o.Qb(5,"p-table",8,9),o.Yb("selectionChange",function(e){return o.yc(a),o.bc().selectedData=e}),o.Hc(7,K,5,0,"ng-template",10),o.Hc(8,z,3,1,"ng-template",11),o.Hc(9,U,5,3,"ng-template",12),o.Hc(10,W,6,1,"ng-template",13),o.Pb(),o.Pb(),o.Pb(),o.Qb(11,"div",7),o.Qb(12,"div",63),o.Qb(13,"button",64),o.Yb("click",function(){return o.yc(a),o.bc().order()}),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb()}if(2&e){var i=o.bc();o.xb(2),o.ic("toggleable",!0),o.xb(3),o.ic("columns",i.columnRiwayat)("value",i.dataSourceRiwayat)("selection",i.selectedData)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",o.mc(11,Z))("paginator",!0)("pageLinks",5)("globalFilterFields",o.mc(12,ee))}}function ae(e,t){if(1&e){var a=o.Sb();o.Qb(0,"div",65),o.Qb(1,"div",66),o.Qb(2,"span",35),o.Lb(3,"i",36),o.Qb(4,"input",67),o.Yb("input",function(e){return o.yc(a),o.bc(),o.wc(13).filterGlobal(e.target.value,"contains")}),o.Pb(),o.Pb(),o.Pb(),o.Pb()}}function ie(e,t){if(1&e&&(o.Qb(0,"th",70),o.Jc(1),o.Lb(2,"p-sortIcon",71),o.Pb()),2&e){var a=t.$implicit;o.Fc("width: ",a.width,""),o.jc("pSortableColumn",a.field),o.xb(1),o.Lc(" ",a.header," "),o.xb(1),o.jc("field",a.field)}}function ne(e,t){if(1&e&&(o.Qb(0,"tr"),o.Lb(1,"th",68),o.Hc(2,ie,3,6,"th",69),o.Pb()),2&e){var a=t.$implicit;o.xb(2),o.ic("ngForOf",a)}}function re(e,t){if(1&e&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&e){var a=o.bc().$implicit,i=o.bc().$implicit,n=o.bc();o.xb(1),o.Lc(" ",n.formatRupiah(i[a.field],""),"")}}function oe(e,t){if(1&e&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&e){var a=o.bc().$implicit,i=o.bc().$implicit;o.xb(1),o.Lc(" ",i[a.field],"")}}function le(e,t){if(1&e&&(o.Qb(0,"td"),o.Hc(1,re,2,1,"span",75),o.Hc(2,oe,2,1,"span",75),o.Pb()),2&e){var a=t.$implicit;o.Fc("width: ",a.width,""),o.xb(1),o.ic("ngIf",null!=a.isCurrency),o.xb(1),o.ic("ngIf",null==a.isCurrency)}}function ce(e,t){if(1&e){var a=o.Sb();o.Qb(0,"tr"),o.Qb(1,"td",68),o.Lb(2,"button",72),o.Qb(3,"button",79),o.Yb("click",function(){o.yc(a);var e=t.$implicit;return o.bc().hapusPengkajian(e)}),o.Pb(),o.Qb(4,"button",80),o.Yb("click",function(){o.yc(a);var e=t.$implicit;return o.bc().editD(e)}),o.Pb(),o.Pb(),o.Hc(5,le,3,5,"td",74),o.Pb()}if(2&e){var i=t.$implicit,n=t.columns,r=t.expanded;o.xb(2),o.ic("pRowToggler",i)("icon",r?"pi pi-chevron-down":"pi pi-chevron-right"),o.xb(3),o.ic("ngForOf",n)}}function be(e,t){1&e&&(o.Qb(0,"tr"),o.Qb(1,"th"),o.Jc(2,"Form Yang terisi"),o.Pb(),o.Pb())}function se(e,t){if(1&e){var a=o.Sb();o.Qb(0,"span"),o.Jc(1),o.Qb(2,"button",79),o.Yb("click",function(){o.yc(a);var e=t.$implicit;return o.bc(3).hapusForm(e)}),o.Pb(),o.Qb(3,"button",83),o.Yb("click",function(){o.yc(a);var e=t.$implicit;return o.bc(3).asupKaForm(e)}),o.Pb(),o.Pb()}if(2&e){var i=t.$implicit;o.zb("order-badge order-instock"),o.xb(1),o.Lc(" ",i.namaform," ")}}function de(e,t){if(1&e&&(o.Qb(0,"tr"),o.Hc(1,se,4,3,"span",50),o.Pb()),2&e){var a=t.$implicit;o.xb(1),o.ic("ngForOf",a.details)}}function ue(e,t){if(1&e&&(o.Qb(0,"tr"),o.Qb(1,"td",81),o.Qb(2,"div",77),o.Qb(3,"p-table",82),o.Hc(4,be,3,0,"ng-template",11),o.Hc(5,de,2,1,"ng-template",12),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&e){var a=t.$implicit;o.xb(3),o.ic("value",a.details)}}function pe(e,t){1&e&&o.Lb(0,"p-skeleton",84)}var he=function(){return{"overflow-x":"auto","overflow-y":"hidden",position:"static"}};function fe(e,t){if(1&e&&(o.Lb(0,"p-menubar",85),o.cc(1,"filter")),2&e){var a=o.bc();o.Ec(o.mc(6,he)),o.ic("model",o.ec(1,3,a.treeSourceMenu,a.searchText))}}function ge(e,t){if(1&e){var a=o.Sb();o.Qb(0,"div",65),o.Qb(1,"div",2),o.Qb(2,"span",35),o.Lb(3,"i",36),o.Qb(4,"input",67),o.Yb("input",function(e){return o.yc(a),o.bc(),o.wc(35).filterGlobal(e.target.value,"contains")}),o.Pb(),o.Pb(),o.Pb(),o.Pb()}}function me(e,t){if(1&e&&(o.Qb(0,"th",70),o.Jc(1),o.Lb(2,"p-sortIcon",71),o.Pb()),2&e){var a=t.$implicit;o.Fc("width: ",a.width,""),o.jc("pSortableColumn",a.field),o.xb(1),o.Lc(" ",a.header," "),o.xb(1),o.jc("field",a.field)}}function ve(e,t){if(1&e&&(o.Qb(0,"tr"),o.Lb(1,"th",68),o.Hc(2,me,3,6,"th",69),o.Pb()),2&e){var a=t.$implicit;o.xb(2),o.ic("ngForOf",a)}}function ke(e,t){if(1&e&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&e){var a=o.bc().$implicit,i=o.bc().$implicit,n=o.bc();o.xb(1),o.Lc(" ",n.formatRupiah(i[a.field],""),"")}}function Pe(e,t){if(1&e&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&e){var a=o.bc().$implicit,i=o.bc().$implicit;o.xb(1),o.Lc(" ",i[a.field],"")}}function ye(e,t){if(1&e&&(o.Qb(0,"td"),o.Hc(1,ke,2,1,"span",75),o.Hc(2,Pe,2,1,"span",75),o.Pb()),2&e){var a=t.$implicit;o.Fc("width: ",a.width,""),o.xb(1),o.ic("ngIf",null!=a.isCurrency),o.xb(1),o.ic("ngIf",null==a.isCurrency)}}function Qe(e,t){if(1&e){var a=o.Sb();o.Qb(0,"tr"),o.Qb(1,"td",68),o.Lb(2,"button",72),o.Qb(3,"button",86),o.Yb("click",function(){o.yc(a);var e=t.$implicit;return o.bc().addPaket(e)}),o.Pb(),o.Pb(),o.Hc(4,ye,3,5,"td",74),o.Pb()}if(2&e){var i=t.$implicit,n=t.columns,r=t.expanded;o.xb(2),o.ic("pRowToggler",i)("icon",r?"pi pi-chevron-down":"pi pi-chevron-right"),o.xb(2),o.ic("ngForOf",n)}}function xe(e,t){1&e&&(o.Qb(0,"tr"),o.Qb(1,"th"),o.Jc(2,"Nama Layanan"),o.Pb(),o.Pb())}function we(e,t){if(1&e&&(o.Qb(0,"tr"),o.Qb(1,"td"),o.Jc(2),o.Pb(),o.Pb()),2&e){var a=t.$implicit;o.xb(2),o.Kc(a.namaproduk)}}function Se(e,t){if(1&e&&(o.Qb(0,"tr"),o.Qb(1,"td",87),o.Qb(2,"div",77),o.Qb(3,"p-table",78),o.Hc(4,xe,3,0,"ng-template",11),o.Hc(5,we,3,1,"ng-template",12),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&e){var a=t.$implicit;o.xb(3),o.ic("value",a.details)}}function Re(e,t){if(1&e){var a=o.Sb();o.Qb(0,"p-button",88),o.Yb("click",function(){return o.yc(a),o.bc().closePaket()}),o.Pb()}}var Ce=function(){return{width:"600px",minWidth:"600px"}},je=function(){return["namapaket"]},Te=function(){var a=function(){function a(e,i,n,r,o,l,c,b,s){t(this,a),this.rekamMedis=e,this.apiService=i,this.authService=n,this.confirmationService=r,this.cacheHelper=o,this.dateHelper=l,this.alertService=c,this.activeRoute=b,this.router=s,this.item={tglPelayanan:new Date,layanan:[]},this.listProdukCek=[],this.produkDef=[],this.listRuanganTujuan=[],this.skeleton=[],this.searchText="",this.selected_count=0,this.selected_games=[],this.listChecked=[],this.dataSourceRiwayat=[],this.treeSourceMenu=[],this.headData={},this.nomorERM="-"}var i,n,o;return i=a,(n=[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnInit",value:function(){var e=this;if(null==this.rekamMedis.header.norec){var t=this.cacheHelper.get("cacheEMR_qwertyuiop");null!=t&&(t=JSON.parse(t),this.headData=t)}else this.headData=this.rekamMedis.header;null==this.headData.norec&&window.history.back(),this.skeleton=this.loadSkeleton(),this.item.idPegawaiLogin=this.authService.getDataLoginUser().pegawai.id,this.apiService.get("emr/get-combo-penunjang?departemenfk=kdDepartemenOK").subscribe(function(t){e.item.ruanganAsal=e.headData.namaruangan,e.item.namaRuangan=e.headData.namaruangan,e.listRuanganTujuan=t.ruangantujuan,e.item.ruangantujuan={id:t.ruangantujuan[0].id,namaruangan:t.ruangantujuan[0].namaruangan,instalasiidfk:t.ruangantujuan[0].instalasiidfk},e.getProduk(e.item.ruangantujuan)}),this.columnRiwayat=[{field:"noregistrasi",header:"No Registrasi",width:"100px"},{field:"tglorder",header:"Tgl Order",width:"120px"},{field:"tglrencana",header:"Tgl Rencana",width:"120px"},{field:"noorder",header:"No Order",width:"100px"},{field:"dokter",header:"Dokter",width:"150px"},{field:"namaruanganasal",header:"Ruangan Asal",width:"150px"},{field:"namaruangantujuan",header:"Ruangan",width:"150px"},{field:"keteranganlainnya",header:"Keterangan",width:"150px"},{field:"statusorder",header:"Status",width:"70px"}],this.columnPaket=[{field:"namapaket",header:"Nama Paket",width:"120px"},{field:"jml",header:"Jumlah",width:"80px"}],this.columnRiwayatPengkajian=[{field:"tglemr",header:"Tgl EMR",width:"100px"},{field:"noemr",header:"No EMR",width:"100px"},{field:"noregistrasi",header:"No Registrasi",width:"100px"},{field:"namaruangan",header:"Ruangan",width:"150px"}]}},{key:"getProduk",value:function(e){var t=this;this.listProdukCek=[],this.item.layanan=[],this.produkDef=[],null!=e&&this.apiService.get("sysadmin/general/get-tindakan-with-details?idRuangan="+e.id+"&idKelas="+this.headData.objectkelasfk+"&idJenisPelayanan="+this.headData.jenispelayanan+"&isLabRad=true").subscribe(function(e){t.listProdukCek=e.details,t.produkDef=e.data})}},{key:"getSelected",value:function(){if(this.item.layanan.length>0)for(var e=Object.keys(this.item.layanan),t=0;t<e.length;t++){var a=e[t];if(1==this.item.layanan[parseInt(a)])for(var i=0;i<this.produkDef.length;i++){var n=this.produkDef[i];if(n.id==a){for(var r=0;r<this.listChecked.length;r++)this.listChecked[r].namaproduk==n.namaproduk&&this.listChecked.splice(r,1);this.listChecked.push({namaproduk:n.namaproduk})}}else for(i=0;i<this.produkDef.length;i++){var o=this.produkDef[i];if(o.id==a)for(r=0;r<this.listChecked.length;r++)this.listChecked[r].namaproduk==o.namaproduk&&this.listChecked.splice(r,1)}}}},{key:"clearFilter",value:function(){this.searchText=""}},{key:"save",value:function(){var e=this;if(null!=this.item.ruangantujuan)if(null!=this.item.tglPelayanan)if(null!=this.item.layanan&&0!=this.item.layanan.length){for(var t=Object.keys(this.item.layanan),a=[],i=t.length-1;i>=0;i--)1==this.item.layanan[parseInt(t[i])]&&a.push({no:i+1,produkfk:t[i],namaproduk:t[i],qtyproduk:1,objectruanganfk:this.headData.objectruanganfk,objectruangantujuanfk:this.item.ruangantujuan.id,pemeriksaanluar:1==this.item.pemeriksaanKeluar?1:0,iscito:null!=this.item.iscito&&1==this.item.iscito&&this.item.iscito,objectkelasfk:this.headData.objectkelasfk,nourut:null});if(0!=a.length){var n={tglrencana:r(this.item.tglPelayanan).format("YYYY-MM-DD HH:mm:ss"),norec_so:"",norec_apd:this.headData.norec_apd,norec_pd:this.headData.norec_pd,qtyproduk:a.length,objectruanganfk:this.headData.objectruanganfk,objectruangantujuanfk:this.item.ruangantujuan.id,departemenfk:this.item.ruangantujuan.instalasiidfk,pegawaiorderfk:this.item.idPegawaiLogin,keterangan:null!=this.item.keterangan?this.item.keterangan:null,iscito:null!=this.item.iscito&&1==this.item.iscito&&this.item.iscito,details:a};this.isSimpan=!0,this.apiService.post("emr/save-order-pelayanan",n).subscribe(function(t){e.item.layanan=[],e.isSimpan=!1,e.apiService.postLog("Order Bedah","Norec strukorder_t",t.strukorder.norec,"Order Laboratorium No Order - "+t.strukorder.noorder+" dengan No Registrasi "+e.headData.noregistrasi).subscribe(function(e){}),e.batal()},function(t){e.isSimpan=!1})}else this.alertService.warn("Info","Pilih Pelayanan dulu")}else this.alertService.warn("Info","Pilih layanan terlebih dahulu!!");else this.alertService.warn("Info","Pilih Tgl Order  terlebih dahulu!!");else this.alertService.warn("Info","Pilih Ruangan Tujuan terlebih dahulu!!")}},{key:"batal",value:function(){for(var e=Object.keys(this.item.layanan),t=e.length-1;t>=0;t--)this.item.layanan[parseInt(e[t])]=!1;this.listChecked=[],delete this.item.keterangan}},{key:"onRowSelect",value:function(e){}},{key:"hapusD",value:function(e){var t=this;"SELESAI"!=e.status?this.apiService.post("emr/delete-order-pelayanan",{norec_order:e.norec}).subscribe(function(e){t.loadRiwayat("noregistrasi="+t.headData.noregistrasi)}):this.alertService.warn("Info","Status Sudah Selesai tidak bisa di hapus")}},{key:"order",value:function(){this.isRiwayat=!1,this.batal(),this.getProduk(this.item.ruangantujuan)}},{key:"riwayat",value:function(){this.isRiwayat=!0,this.loadRiwayat("noregistrasi="+this.headData.noregistrasi)}},{key:"loadRiwayat",value:function(e){var t=this;this.apiService.get("emr/get-riwayat-order-penunjang?"+e+"&setting=kdDepartemenOK").subscribe(function(e){for(var a=e.daftar.length-1;a>=0;a--)e.daftar[a].no=a+1,e.daftar[a].cito=1==e.daftar[a].cito?"\u2714":"\u2718";t.dataSourceRiwayat=e.daftar})}},{key:"hapus",value:function(){var e=this;null!=this.selectedData?"SELESAI"!=this.selectedData.status?this.apiService.post("emr/delete-order-pelayanan",{norec_order:this.selectedData.norec}).subscribe(function(t){e.loadRiwayat("noregistrasi="+e.headData.noregistrasi)}):this.alertService.warn("Info","Status Sudah Selesai tidak bisa di hapus"):this.alertService.info("Info","Pilih data dulu")}},{key:"cekPaket",value:function(e){var t=this;if(1==e){if(null==this.item.ruangantujuan)return void this.alertService.warn("Info","Pilih ruangan dulu");this.pop_paket=!0,this.apiService.get("general/get-paket-tindakan").subscribe(function(e){t.dataSourcePaket=e})}}},{key:"addPaket",value:function(e){for(var t=e.details,a=Object.keys(this.item.layanan),i=0;i<t.length;i++){var n=t[i];if(a.length>0)for(var r=0;r<a.length;r++)n.objectprodukfk!=a[r]&&(this.item.layanan[n.objectprodukfk]=!0);else this.item.layanan[n.objectprodukfk]=!0}this.getSelected()}},{key:"clearSelection",value:function(){for(var e=Object.keys(this.item.layanan),t=0;t<e.length;t++)this.item.layanan[e[t]]=!1;this.getSelected()}},{key:"closePaket",value:function(){this.pop_paket=!1,this.item.paket=!1}},{key:"handleChangeTab",value:function(e){this.indexTab=e.index,0==e.index||(1==e.index?(this.loadRiwayatEMR(),console.log(this.activeRoute)):this.loadTreeView())}},{key:"buatBaru",value:function(){this.indexTab=2,this.handleChangeTab({index:this.indexTab}),this.router.navigate(["pengkajian-bedah-detail",2,"-"],{relativeTo:this.activeRoute}),this.nomorERM="-"}},{key:"editD",value:function(e){this.nomorERM=e.noemr,this.indexTab=2,this.handleChangeTab({index:this.indexTab}),this.router.navigate(["pengkajian-bedah-detail",2,e.noemr],{relativeTo:this.activeRoute})}},{key:"hapusPengkajian",value:function(e){var t=this;this.nomorERM="-",this.apiService.post("emr/hapus-emr-transaksi-norec",{norec:e.norec}).subscribe(function(e){t.loadRiwayatEMR(),t.apiService.postLog("Hapus EMR","norec emrpasien_t",e.norec,"Hapus No EMR - "+e.emrpasienfk+" pada No Registrasi  "+t.headData.noregistrasi+" - Pasien : "+t.headData.namapasien).subscribe(function(e){})})}},{key:"asupKaForm",value:function(e){this.nomorERM=e.emrpasienfk,this.indexTab=2,this.handleChangeTab({index:this.indexTab}),this.router.navigate(["pengkajian-bedah-detail",e.emrfk,e.emrpasienfk],{relativeTo:this.activeRoute})}},{key:"hapusForm",value:function(e){var t=this,a={noemr:e.noemr,reportdisplay:e.reportdisplay,idemr:e.emrfk,norec:e.norec,idpegawai:this.authService.getPegawaiId()};this.apiService.post("emr/disable-emr-details",a).subscribe(function(a){t.apiService.postLog("Hapus EMR","norec emrpasien_t",e.norec,"Hapus Satu Form EMR ( "+e.namaform+" ) No EMR - "+e.noemr+" pada No Registrasi  "+t.headData.noregistrasi+" - Pasien : "+t.headData.namapasien).subscribe(function(e){})})}},{key:"loadTreeView",value:function(){var e=this;this.treeSourceMenu=[],this.isLoadingNav=!0,this.apiService.get("emr/get-menu-rekam-medis-dynamic?namaemr=bedah").subscribe(function(t){e.isLoadingNav=!1;for(var a=0;a<t.data.length;a++){var i=t.data[a];if(i.name=i.label,null==i.items)i.command=function(t){t.node=t.item,e.nodeSelect(t)};else for(var n=0;n<i.items.length;n++){var r=i.items[n];if(r.name=r.label,null==r.items)r.command=function(t){t.node=t.item,e.nodeSelect(t)};else for(var o=0;o<r.items.length;o++){var l=r.items[o];if(l.name=l.label,null==l.items)l.command=function(t){t.node=t.item,e.nodeSelect(t)};else for(var c=0;c<l.items.length;c++){var b=l.items[c];if(b.name=b.label,null==b.items)b.command=function(t){t.node=t.item,e.nodeSelect(t)};else for(var s=0;s<b.items.length;s++){var d=b.items[s];d.name=d.label,null==d.items&&(d.command=function(t){t.node=t.item,e.nodeSelect(t)})}}}}i.icon="pi pi-fw pi-bars"}e.treeSourceMenu=t.data})}},{key:"nodeSelect",value:function(e){var t=e.node.reportdisplay;this.router.navigate(null==t?["pengkajian-bedah-detail",e.node.id,this.nomorERM]:[t],{relativeTo:this.activeRoute})}},{key:"loadRiwayatEMR",value:function(){var e=this;this.apiService.get("emr/get-emr-transaksi-detail-form?noregistrasi="+this.headData.noregistrasi+"&jenisEmr=bedah").subscribe(function(t){e.dataSourcePengkajian=t.data})}},{key:"loadSkeleton",value:function(){return[{id:1,details:[{class:"p-col-2",details:[{class:"p-mb-0"}]}]},{id:2,details:[{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]}]},{id:3,details:[{class:"p-col-2",details:[{class:"p-mb-0"}]}]},{id:4,details:[{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]}]}]}}])&&e(i.prototype,n),o&&e(i,o),a}();return a.\u0275fac=function(e){return new(e||a)(o.Jb(l.a),o.Jb(c.a),o.Jb(c.b),o.Jb(b.a),o.Jb(s.a),o.Jb(d.a),o.Jb(u.a),o.Jb(p.a),o.Jb(p.f))},a.\u0275cmp=o.Db({type:a,selectors:[["app-order-bedah"]],decls:41,vars:37,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[3,"activeIndex","onChange","activeIndexChange"],["header","Order Jadwal Bedah","leftIcon","fa fa-stethoscope"],["class","p-grid",4,"ngIf"],["header","Riwayat EMR Bedah","leftIcon","fa fa-list"],[1,"p-grid"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"p-col-12","p-md-1","p-md-offset-11"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Buat Pengkajian Baru ","label","Tambah",1,"p-button","p-mr-2",3,"click"],["header","Input EMR Bedah","leftIcon","pi pi-th-large"],["height","3rem",4,"ngIf"],["appendTo","p-grid",3,"model","style",4,"ngIf"],["header","Paket",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-fluid","p-grid"],["header","Detail Paket",3,"toggleable"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec","selectionMode","single",3,"columns","value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields"],["dt2",""],["pTemplate","footer"],["header","Detail Pemeriksaan",3,"toggleable"],[1,"p-col-12","p-md-4"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Pelayanan","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","ngModelChange"],["type","text","pInputText","","placeholder","Ruangan ","disabled","",3,"ngModel","ngModelChange"],["placeholder","Ruangan Tujuan","optionLabel","namaruangan","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],[1,"p-col-12","p-md-5"],["type","text","pInputText","","placeholder","Keterangan ",3,"ngModel","ngModelChange"],[1,"p-col-12"],["header","Detail Pemeriksaan Terpilih",3,"toggleable",4,"ngIf"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filter",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-1"],["pButton","","type","button","icon","pi pi-times","pTooltip","Clear Filter",1,"p-button","p-button","p-mr-2",3,"click"],[1,"p-col-12","p-md-1","p-md-offset-3"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-arrow-right","pTooltip","Batal ","label","Batal",1,"p-button","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-list","pTooltip","Riwayat Order","label","Riwayat",1,"p-button","p-mr-2",3,"click"],["class","p-col-12 p-md-12",4,"ngIf"],["header","Detail Pemeriksaan Terpilih",3,"toggleable"],["class","p-col-12 p-md-4",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Semua Data Terpilih","label","Clear",1,"p-button","p-button-danger","p-mr-2",3,"disabled","click"],["styleClass","p-mr-2","severity","warning",3,"value"],["class","p-grid",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],[3,"styleClass",4,"ngFor","ngForOf"],[3,"styleClass"],["class","p-col-12 p-md-12","style","padding: 10px;",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-12",2,"padding","10px"],["align","left"],[1,"p-d-inline-flex","p-ai-center"],[1,"fa","fa-stethoscope","p-mr-2"],["class","p-col-12 p-md-4 p-field-checkbox",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-4","p-field-checkbox"],["binary","true",3,"ngModel","inputId","ngModelChange","onChange"],[3,"for"],["header","Detail Order",3,"toggleable"],[1,"p-col-12","p-md-1","p-md-offset-10"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Order Baru ","label","Order",1,"p-button","p-mr-2",3,"click"],[1,"table-header","p-grid"],[1,"p-col-12","p-md-3"],["pInputText","","type","text","placeholder","Filter",3,"input"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-2",3,"pRowToggler","icon"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Order","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","10"],[1,"p-p-3"],["dataKey","id",3,"value"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Data","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-check-circle","pTooltip","Edit Data","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["colspan","5"],["dataKey","norec",3,"value"],["pButton","","type","button","icon","pi pi-check-circle","pTooltip","Masuk Ke Form (Edit)","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["height","3rem"],["appendTo","p-grid",3,"model"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah Paket","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["colspan","3"],["icon","pi pi-close","label","Tutup","styleClass","p-button-text",3,"click"]],template:function(e,t){1&e&&(o.Qb(0,"div",0),o.Qb(1,"div",1),o.Qb(2,"h4"),o.Jc(3,"Bedah"),o.Pb(),o.Qb(4,"div",2),o.Qb(5,"p-tabView",3),o.Yb("onChange",function(e){return t.handleChangeTab(e)})("activeIndexChange",function(e){return t.indexTab=e}),o.Qb(6,"p-tabPanel",4),o.Hc(7,N,39,18,"div",5),o.Hc(8,te,14,13,"div",5),o.Pb(),o.Qb(9,"p-tabPanel",6),o.Qb(10,"div",7),o.Qb(11,"div",2),o.Qb(12,"p-table",8,9),o.Yb("selectionChange",function(e){return t.selectedData=e}),o.Hc(14,ae,5,0,"ng-template",10),o.Hc(15,ne,3,1,"ng-template",11),o.Hc(16,ce,6,3,"ng-template",12),o.Hc(17,ue,6,1,"ng-template",13),o.Pb(),o.Pb(),o.Pb(),o.Qb(18,"div",7),o.Qb(19,"div",14),o.Qb(20,"button",15),o.Yb("click",function(){return t.buatBaru()}),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(21,"p-tabPanel",16),o.Qb(22,"div",7),o.Qb(23,"div",2),o.Hc(24,pe,1,0,"p-skeleton",17),o.Hc(25,fe,2,7,"p-menubar",18),o.Pb(),o.Qb(26,"div",2),o.Lb(27,"router-outlet"),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(28,"p-dialog",19),o.Yb("visibleChange",function(e){return t.pop_paket=e}),o.Qb(29,"div",20),o.Qb(30,"div",2),o.Qb(31,"p-panel",21),o.Qb(32,"div",7),o.Qb(33,"div",2),o.Qb(34,"p-table",22,23),o.Hc(36,ge,5,0,"ng-template",10),o.Hc(37,ve,3,1,"ng-template",11),o.Hc(38,Qe,5,3,"ng-template",12),o.Hc(39,Se,6,1,"ng-template",13),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Hc(40,Re,1,0,"ng-template",24),o.Pb(),o.Pb(),o.Pb()),2&e&&(o.xb(5),o.ic("activeIndex",t.indexTab),o.xb(2),o.ic("ngIf",!t.isRiwayat),o.xb(1),o.ic("ngIf",t.isRiwayat),o.xb(4),o.ic("columns",t.columnRiwayatPengkajian)("value",t.dataSourcePengkajian)("selection",t.selectedData)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",o.mc(32,Z))("paginator",!0)("pageLinks",5)("globalFilterFields",o.mc(33,ee)),o.xb(12),o.ic("ngIf",0==t.treeSourceMenu.length),o.xb(1),o.ic("ngIf",t.treeSourceMenu.length>0),o.xb(3),o.Ec(o.mc(34,Ce)),o.ic("visible",t.pop_paket)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),o.xb(3),o.ic("toggleable",!0),o.xb(3),o.ic("columns",t.columnPaket)("value",t.dataSourcePaket)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",o.mc(35,Z))("paginator",!0)("pageLinks",5)("globalFilterFields",o.mc(36,je)))},directives:[h.b,h.a,f.l,g.h,b.k,m.b,v.a,p.k,k.a,P.a,y.a,Q.g,Q.h,Q.a,x.a,w.a,f.k,S.a,R.a,C.a,j.a,g.g,g.f,T.a,g.d,M.a,m.a],pipes:[H.a],styles:[".p-field-checkbox[_ngcontent-%COMP%], .p-field-radiobutton[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center}.order-badge.order-instock[_ngcontent-%COMP%]{background:#c8e6c9;color:#256029;margin-right:2px;color:#000;border-radius:15px;border:1px solid;padding:2px 7px;font-family:inherit;line-height:1.72em;text-align:center;text-decoration:none;background-color:#fff;display:inline-block;min-width:78px;vertical-align:middle;margin-top:5px}"]}),a}()}}])}();