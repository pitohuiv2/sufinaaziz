(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{Gbwk:function(t,e,a){"use strict";a.r(e),a.d(e,"LaporanSensusIgdModule",function(){return Y});var i=a("ofXK"),n=a("tyNb"),b=a("7zfz"),c=a("1zoS"),l=a("wd/R"),o=a("fXoL"),s=a("EJUL"),r=a("U+s4"),d=a("G0w9"),p=a("ujBT"),h=a("eO1q"),m=a("3Pt+"),u=a("arFO"),g=a("lVkt"),P=a("jIHw"),Q=a("xlun"),J=a("rEr+"),f=a("Q4Mo");function v(t,e){if(1&t){const t=o.Sb();o.Qb(0,"div",19),o.Qb(1,"button",20),o.Yb("click",function(){return o.yc(t),o.bc().exportExcel()}),o.Pb(),o.Pb()}}function w(t,e){1&t&&(o.Qb(0,"tr"),o.Qb(1,"th",21),o.Jc(2,"No"),o.Pb(),o.Qb(3,"th",22),o.Jc(4,"Pasien Masuk"),o.Pb(),o.Qb(5,"th",23),o.Jc(6,"Status"),o.Pb(),o.Qb(7,"th",24),o.Jc(8,"Nama"),o.Pb(),o.Qb(9,"th",21),o.Jc(10,"Umur"),o.Pb(),o.Qb(11,"th",24),o.Jc(12,"Alamat (Kp/Desa)"),o.Pb(),o.Qb(13,"th",24),o.Jc(14,"Diagnosa"),o.Pb(),o.Qb(15,"th",25),o.Jc(16,"Ruang Inap"),o.Pb(),o.Qb(17,"th",21),o.Jc(18,"Diizinkan Pulang "),o.Pb(),o.Qb(19,"th",21),o.Jc(20,"Rujuk"),o.Pb(),o.Qb(21,"th",21),o.Jc(22,"Lari"),o.Pb(),o.Qb(23,"th",21),o.Jc(24,"Pulpak"),o.Pb(),o.Qb(25,"th",26),o.Jc(26,"Mati"),o.Pb(),o.Pb(),o.Qb(27,"tr"),o.Qb(28,"th",27),o.Jc(29,"Poli"),o.Pb(),o.Qb(30,"th",27),o.Jc(31,"Rujukan"),o.Pb(),o.Qb(32,"th",27),o.Jc(33,"Dtng Sndr "),o.Pb(),o.Qb(34,"th",27),o.Jc(35,"Umum"),o.Pb(),o.Qb(36,"th",27),o.Jc(37,"BPJS"),o.Pb(),o.Qb(38,"th",27),o.Jc(39,"DL"),o.Pb(),o.Qb(40,"th",27),o.Jc(41,"DP"),o.Pb(),o.Qb(42,"th",27),o.Jc(43,"OK"),o.Pb(),o.Qb(44,"th",27),o.Jc(45,"Neuro"),o.Pb(),o.Qb(46,"th",27),o.Jc(47,"Bedah"),o.Pb(),o.Qb(48,"th",27),o.Jc(49,"ISO"),o.Pb(),o.Qb(50,"th",27),o.Jc(51,"R. Anak"),o.Pb(),o.Qb(52,"th",27),o.Jc(53,"DOA"),o.Pb(),o.Qb(54,"th",27),o.Jc(55," < 6 Jam "),o.Pb(),o.Qb(56,"th",27),o.Jc(57,"6-48jam"),o.Pb(),o.Qb(58,"th",27),o.Jc(59," >48 jam"),o.Pb(),o.Pb())}function x(t,e){if(1&t&&(o.Qb(0,"tr"),o.Qb(1,"td",27),o.Jc(2),o.Pb(),o.Qb(3,"td",27),o.Jc(4),o.Pb(),o.Qb(5,"td",27),o.Jc(6),o.Pb(),o.Qb(7,"td",27),o.Jc(8),o.Pb(),o.Qb(9,"td",27),o.Jc(10),o.Pb(),o.Qb(11,"td",27),o.Jc(12),o.Pb(),o.Qb(13,"td",28),o.Jc(14),o.Pb(),o.Qb(15,"td",27),o.Jc(16),o.Pb(),o.Qb(17,"td",28),o.Jc(18),o.Pb(),o.Qb(19,"td",28),o.Jc(20),o.Pb(),o.Qb(21,"td",27),o.Jc(22),o.Pb(),o.Qb(23,"td",27),o.Jc(24),o.Pb(),o.Qb(25,"td",28),o.Jc(26),o.Pb(),o.Qb(27,"td",27),o.Jc(28),o.Pb(),o.Qb(29,"td",28),o.Jc(30),o.Pb(),o.Qb(31,"td",28),o.Jc(32),o.Pb(),o.Qb(33,"td",28),o.Jc(34),o.Pb(),o.Qb(35,"td",27),o.Jc(36),o.Pb(),o.Qb(37,"td",28),o.Jc(38),o.Pb(),o.Qb(39,"td",28),o.Jc(40),o.Pb(),o.Qb(41,"td",28),o.Jc(42),o.Pb(),o.Qb(43,"td",27),o.Jc(44),o.Pb(),o.Qb(45,"td",28),o.Jc(46),o.Pb(),o.Qb(47,"td",28),o.Jc(48),o.Pb(),o.Qb(49,"td",28),o.Jc(50),o.Pb(),o.Pb()),2&t){const t=e.$implicit;o.xb(2),o.Kc(t.no),o.xb(2),o.Kc(t.poli),o.xb(2),o.Kc(t.rujukan),o.xb(2),o.Kc(t.sendiri),o.xb(2),o.Kc(t.umum),o.xb(2),o.Kc(t.bpjs),o.xb(2),o.Kc(t.namapasien),o.xb(2),o.Kc(t.umur),o.xb(2),o.Kc(t.alamatlengkap),o.xb(2),o.Kc(t.kddiagnosa),o.xb(2),o.Kc(t.dl),o.xb(2),o.Kc(t.dp),o.xb(2),o.Kc(t.ok),o.xb(2),o.Kc(t.bedah),o.xb(2),o.Kc(t.neuro),o.xb(2),o.Kc(t.iso),o.xb(2),o.Kc(t.anak),o.xb(2),o.Kc(t.diizinkan),o.xb(2),o.Kc(t.dirujuk),o.xb(2),o.Kc(t.lari),o.xb(2),o.Kc(t.pulpak),o.xb(2),o.Kc(t.doa),o.xb(2),o.Kc(t.enamjam),o.xb(2),o.Kc(t.duaempatjam),o.xb(2),o.Kc(t.empatdelapanjam)}}const D=[{path:"",component:(()=>{class t{constructor(t,e,a,i,n,b,c,l,o){this.apiService=t,this.authService=e,this.confirmationService=a,this.messageService=i,this.cacheHelper=n,this.dateHelper=b,this.alertService=c,this.route=l,this.router=o,this.dataTable=[],this.item={}}ngOnInit(){this.dateNow=new Date,this.item.tglAwal=l(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=l(this.dateNow).format("YYYY-MM-DD 23:59"),this.getDataCombo()}getDataCombo(){this.apiService.get("laporan/get-data-combo").subscribe(t=>{var e=t;this.listDepartemen=e.departemenigd,this.listTipePasien=e.kelompokpasien,this.item.dataDepartemen=this.listDepartemen[0],this.isiRuangan(),this.LoadCache()})}isiRuangan(){null!=this.item.dataDepartemen&&(this.listRuangan=this.item.dataDepartemen.ruangan)}LoadCache(){var t=this.cacheHelper.get("SensusCache");null!=t?(this.item.tglAwal=new Date(t[0]),this.item.tglAkhir=new Date(t[1]),this.getData()):this.getData()}getData(){var t=l(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),e=l(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),a="";null!=this.item.dataDepartemen&&(a="&idDept="+this.item.dataDepartemen.id);var i="";null!=this.item.dataRuangan&&(i="&idRuangan="+this.item.dataRuangan.id);var n="";null!=this.item.dataTipePasien&&(n="&idTipePasien="+this.item.dataTipePasien.id);var b="";if(null!=this.item.selectedRuangan){for(var c="",o=this.item.selectedRuangan.length-1;o>=0;o--)c+=","+this.item.selectedRuangan[o].id;b=c.slice(1,c.length)}this.cacheHelper.set("SensusCache",{0:t,1:e}),this.apiService.get("laporan/get-data-lap-sensus-harian-igd?&tglAwal="+t+"&tglAkhir="+e+a+i+n+"&listRuang="+b+"&kodeprofile=1").subscribe(t=>{for(let e=0;e<t.length;e++)t[e].no=e+1;this.dataTable=t})}cari(){this.getData()}exportExcel(){var t=this.authService.dataLoginUser.profile.id,e=l(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),a=l(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),i="";null!=this.item.dataDepartemen&&(i="&idDept="+this.item.dataDepartemen.id);var n="";null!=this.item.dataRuangan&&(n="&idRuangan="+this.item.dataRuangan.id);var b="";null!=this.item.dataTipePasien&&(b="&idTipePasien="+this.item.dataTipePasien.id);var o="",s="";if(null!=this.item.selectedRuangan){for(var r="",d=this.item.selectedRuangan.length-1;d>=0;d--)r+=","+this.item.selectedRuangan[d].id;o=r.slice(1,r.length)}""!=o&&(s="&listRuang="+o),window.open(c.b.get().apiBackend+"print/cetak-laporan-sensus-igd?&tglAwal="+e+"&tglAkhir="+a+i+n+b+s+"&kodeprofile="+t)}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(s.a),o.Jb(s.b),o.Jb(b.a),o.Jb(b.h),o.Jb(r.a),o.Jb(d.a),o.Jb(p.a),o.Jb(n.a),o.Jb(n.f))},t.\u0275cmp=o.Db({type:t,selectors:[["app-laporan-sensus-igd"]],features:[o.wb([b.a,b.h])],decls:37,vars:21,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-11"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],[1,"p-col-12","p-md-3"],["placeholder","Instalasi","optionLabel","departemen",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["optionLabel","ruangan",3,"options","ngModel","ngModelChange"],["placeholder","Tipe Pasien","optionLabel","kelompokpasien",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-1"],[1,"p-col-12","p-md-12",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12","p-md-12"],["responsiveLayout","scroll","scrollable","true",3,"value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["type","button","pButton","","pRipple","","icon","pi pi-file-pdf","pTooltip","PDF","tooltipPosition","bottom",1,"p-button-success","p-mr-2",3,"click"],["rowspan","2",2,"text-align","center"],["colspan","3",2,"text-align","center"],["colspan","2",2,"text-align","center"],["rowspan","2",2,"text-align","left"],["colspan","7",2,"text-align","center"],["colspan","4",2,"text-align","center"],[2,"text-align","center"],[2,"text-align","left"]],template:function(t,e){1&t&&(o.Qb(0,"div",0),o.Qb(1,"div",1),o.Qb(2,"h4"),o.Jc(3,"Laporan Sensus Harian IGD"),o.Pb(),o.Qb(4,"div",2),o.Qb(5,"div",3),o.Qb(6,"div",2),o.Qb(7,"div",4),o.Qb(8,"label",5),o.Jc(9,"Periode Awal"),o.Pb(),o.Qb(10,"p-calendar",6),o.Yb("ngModelChange",function(t){return e.item.tglAwal=t}),o.Pb(),o.Pb(),o.Qb(11,"div",4),o.Qb(12,"label",5),o.Jc(13,"Periode Akhir"),o.Pb(),o.Qb(14,"p-calendar",6),o.Yb("ngModelChange",function(t){return e.item.tglAkhir=t}),o.Pb(),o.Pb(),o.Qb(15,"div",7),o.Qb(16,"label",5),o.Jc(17,"Instalasi"),o.Pb(),o.Qb(18,"p-dropdown",8),o.Yb("ngModelChange",function(t){return e.item.dataDepartemen=t})("onChange",function(){return e.isiRuangan()}),o.Pb(),o.Pb(),o.Qb(19,"div",7),o.Qb(20,"label",5),o.Jc(21,"Ruangan"),o.Pb(),o.Qb(22,"p-multiSelect",9),o.Yb("ngModelChange",function(t){return e.item.selectedRuangan=t}),o.Pb(),o.Pb(),o.Qb(23,"div",4),o.Qb(24,"label",5),o.Jc(25,"Tipe Pasien"),o.Pb(),o.Qb(26,"p-dropdown",10),o.Yb("ngModelChange",function(t){return e.item.dataTipePasien=t}),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(27,"div",11),o.Qb(28,"div",2),o.Qb(29,"div",12),o.Qb(30,"button",13),o.Yb("click",function(){return e.cari()}),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(31,"div",14),o.Qb(32,"div",0),o.Qb(33,"p-table",15),o.Hc(34,v,2,0,"ng-template",16),o.Hc(35,w,60,0,"ng-template",17),o.Hc(36,x,51,25,"ng-template",18),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&t&&(o.xb(10),o.ic("ngModel",e.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),o.xb(4),o.ic("ngModel",e.item.tglAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),o.xb(4),o.ic("options",e.listDepartemen)("ngModel",e.item.dataDepartemen)("filter",!0)("showClear",!0),o.xb(4),o.ic("options",e.listRuangan)("ngModel",e.item.selectedRuangan),o.xb(4),o.ic("options",e.listTipePasien)("ngModel",e.item.dataTipePasien)("filter",!0)("showClear",!0),o.xb(7),o.ic("value",e.dataTable))},directives:[h.a,m.g,m.h,u.a,g.a,P.b,Q.a,J.h,b.k,f.a],styles:[""]}),t})()}];let k=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(e){return new(e||t)},imports:[[n.j.forChild(D)],n.j]}),t})();var M=a("PCNd");let Y=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(e){return new(e||t)},imports:[[i.b,k,M.a]]}),t})()}}]);