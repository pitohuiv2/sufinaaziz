!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"0CZs":function(i,a,n){"use strict";n.r(a),n.d(a,"DaftarPiutangPasienModule",function(){return O});var l=n("ofXK"),o=n("tyNb"),r=n("7zfz"),s=n("1zoS"),b=n("wd/R"),c=n("fXoL"),p=n("EJUL"),d=n("U+s4"),u=n("G0w9"),h=n("ujBT"),g=n("Nf9I"),m=n("eO1q"),f=n("3Pt+"),P=n("arFO"),v=n("7kUa"),w=n("jIHw"),k=n("xlun"),Q=n("5EWq"),y=n("rEr+"),x=n("Q4Mo");function M(e,t){if(1&e){var i=c.Sb();c.Qb(0,"button",26),c.Yb("click",function(){return c.yc(i),c.bc().detailTagihan()}),c.Pb(),c.Qb(1,"button",27),c.Yb("click",function(){return c.yc(i),c.bc().verifikasiPiutang()}),c.Pb(),c.Qb(2,"button",28),c.Yb("click",function(){return c.yc(i),c.bc().unverifikasiPiutang()}),c.Pb()}}function C(e,t){if(1&e&&(c.Qb(0,"th",32),c.Jc(1),c.Lb(2,"p-sortIcon",33),c.Pb()),2&e){var i=t.$implicit;c.Fc("width: ",i.width,""),c.jc("pSortableColumn",i.field),c.xb(1),c.Lc(" ",i.header," "),c.xb(1),c.jc("field",i.field)}}function R(e,t){if(1&e&&(c.Qb(0,"tr"),c.Qb(1,"th",29),c.Lb(2,"p-tableHeaderCheckbox"),c.Pb(),c.Lb(3,"th",30),c.Hc(4,C,3,6,"th",31),c.Pb()),2&e){var i=t.$implicit;c.xb(4),c.ic("ngForOf",i)}}function D(e,t){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){var i=c.bc().$implicit,a=c.bc().$implicit,n=c.bc();c.xb(1),c.Lc(" ",n.formatRupiah(a[i.field],"")," ")}}function T(e,t){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){var i=c.bc().$implicit,a=c.bc().$implicit;c.xb(1),c.Lc(" ",a[i.field],"")}}function J(e,t){if(1&e&&(c.Qb(0,"td"),c.Hc(1,D,2,1,"span",38),c.Hc(2,T,2,1,"span",38),c.Pb()),2&e){var i=t.$implicit;c.Fc("width: ",i.width,""),c.xb(1),c.ic("ngIf",null!=i.isCurrency),c.xb(1),c.ic("ngIf",null==i.isCurrency)}}function Y(e,t){if(1&e&&(c.Qb(0,"tr",34),c.Qb(1,"td",29),c.Lb(2,"p-tableCheckbox",35),c.Pb(),c.Qb(3,"td",30),c.Lb(4,"button",36),c.Pb(),c.Hc(5,J,3,5,"td",37),c.Pb()),2&e){var i=t.$implicit,a=t.columns,n=t.rowIndex,l=t.expanded;c.ic("pSelectableRow",i)("pSelectableRowIndex",n),c.xb(2),c.ic("value",i),c.xb(2),c.ic("pRowToggler",i)("icon",l?"pi pi-chevron-down":"pi pi-chevron-right"),c.xb(1),c.ic("ngForOf",a)}}function H(e,t){1&e&&(c.Qb(0,"tr"),c.Qb(1,"th"),c.Jc(2,"Jenis"),c.Pb(),c.Qb(3,"th"),c.Jc(4,"Penjamin"),c.Pb(),c.Qb(5,"th"),c.Jc(6,"totalppenjamin"),c.Pb(),c.Pb())}function I(e,t){if(1&e&&(c.Qb(0,"tr"),c.Qb(1,"td"),c.Jc(2),c.Pb(),c.Qb(3,"td"),c.Jc(4),c.Pb(),c.Qb(5,"td"),c.Jc(6),c.Pb(),c.Pb()),2&e){var i=t.$implicit;c.xb(2),c.Kc(i.kelompokpasien),c.xb(2),c.Kc(i.namarekanan),c.xb(2),c.Kc(i.totalppenjamin)}}function N(e,t){if(1&e&&(c.Qb(0,"tr"),c.Qb(1,"td",39),c.Qb(2,"div",40),c.Qb(3,"p-table",41),c.Hc(4,H,7,0,"ng-template",19),c.Hc(5,I,7,3,"ng-template",20),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e){var i=t.$implicit;c.xb(3),c.ic("value",i.details)}}var j,S,L,A=function(){return[5,10,25,50]},K=[{path:"",component:(j=function(){function i(t,a,n,l,o,r,b,c,p){e(this,i),this.apiService=t,this.authService=a,this.confirmationService=n,this.messageService=l,this.cacheHelper=o,this.dateHelper=r,this.alertService=b,this.route=c,this.router=p,this.item={},this.dataCheck=[],this.page=s.b.get().page,this.rows=s.b.get().rows}var a,n,l;return a=i,(n=[{key:"ngOnInit",value:function(){this.dateNow=new Date,this.item.tglAwal=b(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=b(this.dateNow).format("YYYY-MM-DD 23:59"),this.item.jmlRows=50,this.column=[{field:"no",header:"No",width:"65px"},{field:"tglregistrasi",header:"Tgl Registrasi",width:"140px"},{field:"norm",header:"No RM",width:"100px"},{field:"noRegistrasi",header:"Noregistrasi",width:"125px"},{field:"namaPasien",header:"Nama Pasien",width:"250px"},{field:"jenisPasisen",header:"Tipe Pasien",width:"120px"},{field:"namaruangan",header:"Ruangan",width:"180px"},{field:"tglpulang",header:"Tgl Pulang",width:"140px"},{field:"totalBilling",header:"Total Billing",width:"140px",isCurrency:!0},{field:"totalKlaim",header:"Total Klaim",width:"140px",isCurrency:!0},{field:"totalBayar",header:"Total Bayar",width:"140px",isCurrency:!0},{field:"multipenjamin",header:"Multi Penjamin",width:"140px"},{field:"statusVerifikasi",header:"Stat Piutang",width:"180px"}],this.getDataCombo()}},{key:"formatRupiah",value:function(e,t){return t+" "+parseFloat(e).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}},{key:"getDataCombo",value:function(){var e=this;this.apiService.get("kasir/get-combo-kasir").subscribe(function(t){var i=t;e.listDepartemen=i.departemen,e.listKelompokPasien=i.kelompokpasien,e.LoadCache()})}},{key:"isiRuangan",value:function(){null!=this.item.dataDepartemen&&(this.listRuangan=this.item.dataDepartemen.ruangan)}},{key:"LoadCache",value:function(){var e=this.cacheHelper.get("PiutangkasirCtrl");null!=e?(this.item.tglAwal=new Date(e[0]),this.item.tglAkhir=new Date(e[1]),this.item.status=e[2],this.item.namaOrReg=e[3],null!=e[6]&&(this.listDepartemen=[e[6]],this.item.dataDepartemen=e[6]),null!=e[5]&&(this.listRuangan=[e[5]],this.item.dataRuangan=e[5]),null!=e[4]&&""!=e[4]&&(this.item.noReg=e[4]),null!=e[7]&&""!=e[7]&&(this.item.noRm=e[7]),null!=e[8]&&""!=e[8]&&(this.item.jmlRows=e[8]),this.getData()):this.getData()}},{key:"getData",value:function(){var e=this;this.selected=[];var t=b(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),i=b(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),a="",n=void 0;null!=this.item.ruangan&&(a=this.item.dataRuangan.id,n={id:this.item.dataRuangan.id,ruangan:this.item.dataRuangan.ruangan});var l="",o=void 0;null!=this.item.instalasi&&(l=this.item.dataDepartemen.id,o={id:this.item.dataDepartemen.id,departemen:this.item.dataDepartemen.departemen});var r="";null!=this.item.dataKelPasien&&(r=this.item.dataKelPasien.id);var s="";null!=this.item.noRM&&(s=this.item.noRM);var c="";null!=this.item.Noregistrasi&&(c=this.item.Noregistrasi);var p="";null!=this.item.namaPasien&&(p=this.item.namaPasien);var d="";null!=this.item.jmlRows&&(d=this.item.jmlRows),this.cacheHelper.set("PiutangkasirCtrl",{0:t,1:i,2:void 0,3:p,4:c,5:n,6:o,7:s}),this.apiService.get("kasir/daftar-piutang-pasien?namaPasien="+p+"&ruanganId="+a+"&status=&tglAwal="+t+"&tglAkhir="+i+"&noReg="+c+"&instalasiId="+l+"&noRm="+s+"&jmlRows="+d+"&kelompokPasienId="+r).subscribe(function(t){for(var i=t.data,a=0;a<i.length;a++){var n=i[a];n.no=a+1,n.multipenjamin=n.details.length>0?"\u2714":"-"}e.dataTable=i})}},{key:"cari",value:function(){this.getData()}},{key:"detailTagihan",value:function(){null!=this.selected?this.selected.length>1?this.alertService.warn("Info","Untuk Masuk Detail Tagihan Pilih Hanya Satu Data!"):this.router.navigate(["detail-tagihan",this.selected[0].noRegistrasi]):this.alertService.warn("Info","Untuk Masuk Detail Tagihan Pilih Hanya Satu Data!")}},{key:"verifikasiPiutang",value:function(){var e=this,t=[];if(this.selected.length>0)for(var i=0;i<this.selected.length;i++)t.push(this.selected[i].norec);t.length>0?this.apiService.post("kasir/verify-piutang-pasien",{dataPiutang:t}).subscribe(function(t){e.getData()}):this.alertService.warn("Info","Data Belum Dipilih!")}},{key:"unverifikasiPiutang",value:function(){var e=this,t=[];if(this.selected.length>0)for(var i=0;i<this.selected.length;i++)t.push(this.selected[i].norec);t.length>0?this.apiService.post("kasir/cancel-verify-piutang-pasien",{dataPiutang:t}).subscribe(function(t){e.getData()}):this.alertService.warn("Info","Data Belum Dipilih!")}}])&&t(a.prototype,n),l&&t(a,l),i}(),j.\u0275fac=function(e){return new(e||j)(c.Jb(p.a),c.Jb(p.b),c.Jb(r.a),c.Jb(r.h),c.Jb(d.a),c.Jb(u.a),c.Jb(h.a),c.Jb(o.a),c.Jb(o.f))},j.\u0275cmp=c.Db({type:j,selectors:[["app-daftar-piutang-pasien"]],features:[c.wb([r.a])],decls:64,vars:36,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Instalasi","optionLabel","namadepartemen",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Ruangan","optionLabel","namaruangan",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Tipe Pasien","optionLabel","kelompokpasien",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","Jml Rows",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1",2,"margin-top","9px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],["styleClass","p-mb-4"],["pTemplate","left"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["type","text","pInputText","","placeholder","No Rekam Medis",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Noregistrasi",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-3"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange","keyup.enter"],["pButton","","type","submit","icon","pi pi-money-bill","pTooltip","Detail Tagihan","label","Detail Tagihan",1,"p-mr-2",3,"click"],["pButton","","type","submit","icon","pi pi-check-square","pTooltip","Verifikasi Piutang","label","Verifikasi",1,"p-button-success","p-mr-2",3,"click"],["pButton","","type","submit","icon","pi pi-times-circle","pTooltip","Unverifikasi Piutang","label","Unverifikasi",1,"p-button-danger","p-mr-2",3,"click"],[2,"width","40px"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"value"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-2",3,"pRowToggler","icon"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","10"],[1,"p-p-3"],["dataKey","norec",3,"value"]],template:function(e,t){1&e&&(c.Lb(0,"p-confirmDialog",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"h4"),c.Jc(4,"Daftar Piutang Pasien"),c.Pb(),c.Qb(5,"div",3),c.Qb(6,"div",4),c.Qb(7,"div",5),c.Qb(8,"label",6),c.Jc(9,"Periode Awal"),c.Pb(),c.Qb(10,"p-calendar",7),c.Yb("ngModelChange",function(e){return t.item.tglAwal=e}),c.Pb(),c.Pb(),c.Qb(11,"div",5),c.Qb(12,"label",6),c.Jc(13,"Periode Akhir"),c.Pb(),c.Qb(14,"p-calendar",7),c.Yb("ngModelChange",function(e){return t.item.tglAkhir=e}),c.Pb(),c.Pb(),c.Qb(15,"div",5),c.Qb(16,"label",6),c.Jc(17,"Instalasi"),c.Pb(),c.Qb(18,"p-dropdown",8),c.Yb("ngModelChange",function(e){return t.item.dataDepartemen=e}),c.Pb(),c.Pb(),c.Qb(19,"div",5),c.Qb(20,"label",6),c.Jc(21,"Ruangan"),c.Pb(),c.Qb(22,"p-dropdown",9),c.Yb("ngModelChange",function(e){return t.item.dataRuangan=e}),c.Pb(),c.Pb(),c.Qb(23,"div",5),c.Qb(24,"label",6),c.Jc(25,"Tipe Pasien"),c.Pb(),c.Qb(26,"p-dropdown",10),c.Yb("ngModelChange",function(e){return t.item.dataKelPasien=e}),c.Pb(),c.Pb(),c.Qb(27,"div",11),c.Qb(28,"label",6),c.Jc(29,"jml Rows"),c.Pb(),c.Qb(30,"input",12),c.Yb("ngModelChange",function(e){return t.item.jmlRows=e})("keyup.enter",function(){return t.cari()}),c.Pb(),c.Pb(),c.Qb(31,"div",13),c.Qb(32,"div",3),c.Qb(33,"button",14),c.Yb("click",function(){return t.cari()}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(34,"div",3),c.Qb(35,"p-toolbar",15),c.Hc(36,M,3,0,"ng-template",16),c.Pb(),c.Qb(37,"p-table",17,18),c.Yb("selectionChange",function(e){return t.selected=e}),c.Hc(39,R,5,1,"ng-template",19),c.Hc(40,Y,6,6,"ng-template",20),c.Hc(41,N,6,1,"ng-template",21),c.Pb(),c.Pb(),c.Qb(42,"div",3),c.Qb(43,"div",4),c.Qb(44,"div",5),c.Qb(45,"div",3),c.Qb(46,"label",6),c.Jc(47,"No Rekam Medis "),c.Pb(),c.Pb(),c.Qb(48,"div",3),c.Qb(49,"input",22),c.Yb("ngModelChange",function(e){return t.item.noRM=e})("keyup.enter",function(){return t.cari()}),c.Pb(),c.Pb(),c.Pb(),c.Qb(50,"div",5),c.Qb(51,"div",3),c.Qb(52,"label",6),c.Jc(53,"Noregistrasi"),c.Pb(),c.Pb(),c.Qb(54,"div",3),c.Qb(55,"input",23),c.Yb("ngModelChange",function(e){return t.item.Noregistrasi=e})("keyup.enter",function(){return t.cari()}),c.Pb(),c.Pb(),c.Pb(),c.Qb(56,"div",24),c.Qb(57,"div",3),c.Qb(58,"label",6),c.Jc(59,"Nama Pasien "),c.Pb(),c.Pb(),c.Qb(60,"div",3),c.Qb(61,"input",25),c.Yb("ngModelChange",function(e){return t.item.namaPasien=e})("keyup.enter",function(){return t.cari()}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(62,"div",3),c.Lb(63,"div",4),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.xb(10),c.ic("ngModel",t.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),c.xb(4),c.ic("ngModel",t.item.tglAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),c.xb(4),c.ic("options",t.listDepartemen)("ngModel",t.item.dataDepartemen)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",t.listRuangan)("ngModel",t.item.dataRuangan)("filter",!0)("showClear",!0),c.xb(4),c.ic("options",t.listKelompokPasien)("ngModel",t.item.dataKelPasien)("filter",!0)("showClear",!0),c.xb(4),c.ic("ngModel",t.item.jmlRows),c.xb(7),c.ic("columns",t.column)("value",t.dataTable)("selection",t.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",c.mc(35,A))("paginator",!0)("pageLinks",5),c.xb(12),c.ic("ngModel",t.item.noRM),c.xb(6),c.ic("ngModel",t.item.Noregistrasi),c.xb(6),c.ic("ngModel",t.item.namaPasien))},directives:[g.a,m.a,f.g,f.h,P.a,f.a,v.a,w.b,k.a,Q.a,r.k,y.h,y.j,l.k,y.g,y.f,y.e,y.i,x.a,y.d,l.l],styles:[""]}),j)}],B=((S=function t(){e(this,t)}).\u0275mod=c.Hb({type:S}),S.\u0275inj=c.Gb({factory:function(e){return new(e||S)},imports:[[o.j.forChild(K)],o.j]}),S),F=n("PCNd"),O=((L=function t(){e(this,t)}).\u0275mod=c.Hb({type:L}),L.\u0275inj=c.Gb({factory:function(e){return new(e||L)},imports:[[l.b,B,F.a]]}),L)}}])}();