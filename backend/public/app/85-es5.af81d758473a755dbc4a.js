!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{"7Een":function(a,i,n){"use strict";n.r(i),n.d(i,"DaftarPasienRjModule",function(){return ee});var o=n("ofXK"),r=n("tyNb"),l=n("wd/R"),s=n("fXoL"),u=n("EJUL"),b=n("U+s4"),c=n("G0w9"),d=n("ujBT"),p=n("eO1q"),g=n("3Pt+"),h=n("7kUa"),m=n("lVkt"),f=n("jIHw"),P=n("xlun"),v=n("rEr+"),k=n("7zfz"),w=n("/RsI"),y=n("V5BG"),S=n("arFO"),Q=n("Ji6n");function x(e,t){1&e&&(s.Qb(0,"tr"),s.Lb(1,"th",34),s.Qb(2,"th",35),s.Jc(3,"#"),s.Pb(),s.Qb(4,"th",36),s.Jc(5,"No"),s.Pb(),s.Qb(6,"th",37),s.Jc(7,"Ruang"),s.Pb(),s.Qb(8,"th",38),s.Jc(9,"Tgl Registrasi"),s.Pb(),s.Qb(10,"th",38),s.Jc(11,"No Registrasi"),s.Pb(),s.Qb(12,"th",39),s.Jc(13,"No RM"),s.Pb(),s.Qb(14,"th",40),s.Jc(15,"Nama Pasien"),s.Pb(),s.Qb(16,"th",38),s.Jc(17,"Umur"),s.Pb(),s.Qb(18,"th",38),s.Jc(19,"JK"),s.Pb(),s.Qb(20,"th",40),s.Jc(21,"Dokter"),s.Pb(),s.Qb(22,"th",38),s.Jc(23,"Tipe Pembayaran"),s.Pb(),s.Qb(24,"th",38),s.Jc(25,"Kelas"),s.Pb(),s.Qb(26,"th",41),s.Jc(27,"Alamat"),s.Pb(),s.Qb(28,"th",38),s.Jc(29,"Kode Diagnosa"),s.Pb(),s.Qb(30,"th",38),s.Jc(31,"Panggil"),s.Pb(),s.Qb(32,"th",38),s.Jc(33,"Status"),s.Pb(),s.Pb())}function M(e,t){if(1&e&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&e){var a=t.$implicit;s.zb("order-badge order-instock"),s.xb(1),s.Lc(" ",a," ")}}var D=function(e,t){return{"true-icon pi-check-circle":e,"false-icon pi-times-circle":t}},C=function(e,t){return{"label-badge-success":e,"label-badge-danger":t}};function K(e,t){if(1&e){var a=s.Sb();s.Qb(0,"tr",42),s.Qb(1,"td",34),s.Qb(2,"button",43),s.Yb("click",function(){s.yc(a);var e=t.$implicit;return s.bc().pengkajianMedis2(e)}),s.Pb(),s.Qb(3,"button",44),s.Yb("click",function(){s.yc(a);var e=t.$implicit;return s.bc().popUpUbahDokter2(e)}),s.Pb(),s.Qb(4,"button",45),s.Yb("click",function(){s.yc(a);var e=t.$implicit;return s.bc().panggil2(e)}),s.Pb(),s.Qb(5,"button",46),s.Yb("click",function(){s.yc(a);var e=t.$implicit;return s.bc().konsultasi2(e)}),s.Pb(),s.Qb(6,"button",47),s.Yb("click",function(){s.yc(a);var e=t.$implicit;return s.bc().updateStatusPulang(e)}),s.Pb(),s.Pb(),s.Qb(7,"td",48),s.Lb(8,"i",49),s.Pb(),s.Qb(9,"td",36),s.Jc(10),s.Pb(),s.Qb(11,"td",37),s.Jc(12),s.Pb(),s.Qb(13,"td",38),s.Jc(14),s.Pb(),s.Qb(15,"td",38),s.Jc(16),s.Pb(),s.Qb(17,"td",39),s.Jc(18),s.Pb(),s.Qb(19,"td",40),s.Jc(20),s.Pb(),s.Qb(21,"td",38),s.Jc(22),s.Pb(),s.Qb(23,"td",40),s.Jc(24),s.Pb(),s.Qb(25,"td",38),s.Jc(26),s.Pb(),s.Qb(27,"td",38),s.Jc(28),s.Pb(),s.Qb(29,"td",38),s.Jc(30),s.Pb(),s.Qb(31,"td",41),s.Jc(32),s.Pb(),s.Qb(33,"td",38),s.Hc(34,M,2,3,"span",50),s.Pb(),s.Qb(35,"td",38),s.Jc(36),s.Pb(),s.Qb(37,"td",38),s.Qb(38,"span",51),s.Jc(39),s.Pb(),s.Pb(),s.Pb()}if(2&e){var i=t.$implicit,n=s.bc();s.ic("pSelectableRow",i),s.xb(5),s.kc("pTooltip","",n.lengthKonsul," Konsultasi belum Verif"),s.xb(2),s.jc("pTooltip",1==i.statlayanan?"Sudah Input Tindakan":"Belum input tindakan"),s.xb(1),s.ic("ngClass",s.oc(20,D,i.statlayanan,!i.statlayanan)),s.xb(2),s.Kc(i.noantrian),s.xb(2),s.Kc(i.namaruangan),s.xb(2),s.Kc(i.tglregistrasi),s.xb(2),s.Kc(i.noregistrasi),s.xb(2),s.Kc(i.norm),s.xb(2),s.Kc(i.namapasien),s.xb(2),s.Kc(i.umurzz),s.xb(2),s.Kc(i.namadokter),s.xb(2),s.Lc(" ",i.jeniskelamin,""),s.xb(2),s.Kc(i.namakelas),s.xb(2),s.Kc(i.kelompokpasien),s.xb(2),s.Kc(i.alamatlengkap),s.xb(2),s.ic("ngForOf",i.kddiagnosa),s.xb(2),s.Kc(i.stts),s.xb(2),s.ic("ngClass",s.oc(23,C,!i.isonline,i.isonline)),s.xb(1),s.Lc(" ",i.online," ")}}function J(e,t){if(1&e){var a=s.Sb();s.Qb(0,"div",52),s.Qb(1,"p-checkbox",53),s.Yb("ngModelChange",function(e){return s.yc(a),s.bc().item.isDokter=e})("onChange",function(){s.yc(a);var e=s.bc();return e.cekDokter(e.item.isDokter)}),s.Pb(),s.Qb(2,"label",54),s.Jc(3," Pasien Dokter "),s.Pb(),s.Pb()}if(2&e){var i=s.bc();s.xb(1),s.ic("ngModel",i.item.isDokter)}}function Y(e,t){if(1&e){var a=s.Sb();s.Qb(0,"p-button",55),s.Yb("click",function(){return s.yc(a),s.bc().simpanDokter()}),s.Pb(),s.Qb(1,"p-button",56),s.Yb("click",function(){return s.yc(a),s.bc().batalDokter()}),s.Pb()}}function T(e,t){if(1&e){var a=s.Sb();s.Qb(0,"div",57),s.Qb(1,"div",27),s.Qb(2,"span",58),s.Lb(3,"i",59),s.Qb(4,"input",60),s.Yb("input",function(e){return s.yc(a),s.bc(),s.wc(51).filterGlobal(e.target.value,"contains")}),s.Pb(),s.Pb(),s.Pb(),s.Pb()}}function I(e,t){if(1&e&&(s.Qb(0,"th",63),s.Jc(1),s.Lb(2,"p-sortIcon",64),s.Pb()),2&e){var a=t.$implicit;s.Fc("width: ",a.width,""),s.jc("pSortableColumn",a.field),s.xb(1),s.Lc(" ",a.header," "),s.xb(1),s.jc("field",a.field)}}function R(e,t){if(1&e&&(s.Qb(0,"tr"),s.Lb(1,"th",61),s.Hc(2,I,3,6,"th",62),s.Pb()),2&e){var a=t.$implicit;s.xb(2),s.ic("ngForOf",a)}}function _(e,t){if(1&e&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&e){var a=s.bc().$implicit,i=s.bc().$implicit,n=s.bc();s.xb(1),s.Lc(" ",n.formatRupiah(i[a.field],""),"")}}function N(e,t){if(1&e&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&e){var a=s.bc().$implicit,i=s.bc().$implicit;s.xb(1),s.Lc(" ",i[a.field],"")}}function H(e,t){if(1&e&&(s.Qb(0,"td"),s.Hc(1,_,2,1,"span",67),s.Hc(2,N,2,1,"span",67),s.Pb()),2&e){var a=t.$implicit;s.Fc("width: ",a.width,""),s.xb(1),s.ic("ngIf",null!=a.isCurrency),s.xb(1),s.ic("ngIf",null==a.isCurrency)}}function j(e,t){if(1&e){var a=s.Sb();s.Qb(0,"tr"),s.Qb(1,"td",61),s.Qb(2,"button",65),s.Yb("click",function(){s.yc(a);var e=t.$implicit;return s.bc().verif(e)}),s.Pb(),s.Pb(),s.Hc(3,H,3,5,"td",66),s.Pb()}if(2&e){var i=t.columns;s.xb(3),s.ic("ngForOf",i)}}function O(e,t){if(1&e){var a=s.Sb();s.Qb(0,"div",27),s.Qb(1,"label",5),s.Jc(2,"Tgl Meninggal"),s.Pb(),s.Qb(3,"p-calendar",28),s.Yb("ngModelChange",function(e){return s.yc(a),s.bc().item.tglMeninggal=e}),s.Pb(),s.Pb()}if(2&e){var i=s.bc();s.xb(3),s.ic("ngModel",i.item.tglMeninggal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)}}function U(e,t){if(1&e){var a=s.Sb();s.Qb(0,"div",27),s.Qb(1,"label",5),s.Jc(2,"Penyebab Kematian "),s.Pb(),s.Qb(3,"p-dropdown",68),s.Yb("ngModelChange",function(e){return s.yc(a),s.bc().item.penyebabKematian=e})("onChange",function(e){return s.yc(a),s.bc().IsiPenyebab(e)}),s.Pb(),s.Pb()}if(2&e){var i=s.bc();s.xb(3),s.ic("options",i.listPenyebabKematian)("ngModel",i.item.penyebabKematian)("filter",!0)("showClear",!0)}}function A(e,t){if(1&e){var a=s.Sb();s.Qb(0,"div",69),s.Qb(1,"label",5),s.Jc(2," Isi Penyebab "),s.Pb(),s.Qb(3,"input",70),s.Yb("ngModelChange",function(e){return s.yc(a),s.bc().item.PenyebabKematianText=e}),s.Pb(),s.Pb()}if(2&e){var i=s.bc();s.xb(3),s.ic("ngModel",i.item.PenyebabKematianText)}}function L(e,t){if(1&e){var a=s.Sb();s.Qb(0,"p-button",55),s.Yb("click",function(){return s.yc(a),s.bc().simpanStatPulang()}),s.Pb(),s.Qb(1,"p-button",71),s.Yb("click",function(){return s.yc(a),s.bc().batalStatPulang()}),s.Pb()}}var z,F,B,$=function(){return[5,10,25,50,100]},G=function(){return{width:"450px",minWidth:"450px"}},E=function(){return{width:"1024px",minWidth:"1024px"}},V=function(){return[5,10,25,50]},W=function(){return["ruanganasal","ruangantujuan","namalengkap","keteranganorder","tglorder"]},q=[{path:"",component:(z=function(){function a(t,i,n,o,r,l,s){e(this,a),this.apiService=t,this.authService=i,this.cacheHelper=n,this.dateHelper=o,this.alertService=r,this.route=l,this.router=s,this.item={},this.listRuangan=[],this.lengthKonsul=0,this.dataSourceKonsul=[],this.showMeninggal=!1,this.PenyebabKematianManual=!1}var i,n,o;return i=a,(n=[{key:"ngOnInit",value:function(){var e=this;this.kelompokUser=this.authService.getKelompokUser(),this.loadCombo(),this.apiService.get("emr/get-ruangan-konsul").subscribe(function(t){e.listRuangan=t}),this.column=[{field:"statlayanan",header:"\u2714",width:"60px"},{field:"no",header:"No",width:"60px"},{field:"tglregistrasi",header:"Tgl Konsul",width:"150px"},{field:"noregistrasi",header:"No Registrasi",width:"150px"},{field:"nocm",header:"No RM",width:"100px"},{field:"namapasien",header:"Nama Pasien",width:"250px"},{field:"umurzz",header:"Umur",width:"100px"},{field:"jeniskelamin",header:"JK",width:"80px"},{field:"statuspasien",header:"Status",width:"100px"},{field:"namadokter",header:"Dokter",width:"180px"},{field:"kelompokpasien",header:"Tipe Pasien",width:"120px"},{field:"namakelas",header:"Kelas",width:"120px"},{field:"alamatlengkap",header:"Alamat",width:"200px"},{field:"stts",header:"Panggil",width:"100px"},{field:"isonline",header:"Online",width:"100px"}],this.columnKonsul=[{field:"no",header:"No",width:"60px"},{field:"noregistrasi",header:"No Registrasi",width:"100px"},{field:"nocm",header:"No RM",width:"100px"},{field:"namapasien",header:"Nama Pasien",width:"200px"},{field:"tglorder",header:"Tgl Order",width:"100px"},{field:"ruanganasal",header:"Ruang Asal",width:"150px"},{field:"ruangantujuan",header:"Ruang Tujuan",width:"150px"},{field:"namalengkap",header:"Dokter",width:"150px"},{field:"pengonsul",header:"Pengonsul",width:"150px"},{field:"keteranganorder",header:"Ket",width:"180px"},{field:"status",header:"Status",width:"100px"}],"dokter"==this.authService.getKelompokUser()&&(this.isPasienDokter=!0)}},{key:"cekDokter",value:function(e){1==e?(this.item.isDokter=e,this.loadData()):(this.loadData(),this.item.isDokter=e)}},{key:"loadCombo",value:function(){var e=this.cacheHelper.get("cache_DaftarPsnRJ");null!=e?(this.item.periodeAwal=new Date(e[0]),this.item.periodeAkhir=new Date(e[1]),null!=e[4]&&e[4].length>0&&(this.item.ruanganMulti=e[4])):(this.item.periodeAwal=l(new Date).format("YYYY-MM-DD 00:00"),this.item.periodeAkhir=l(new Date).format("YYYY-MM-DD 23:59")),this.loadData(),this.countKonsul()}},{key:"countKonsul",value:function(){var e=this,t="";"dokter"==this.kelompokUser&&(t=this.authService.getPegawaiId()),this.apiService.get("emr/count-order-konsul?dokterid="+t).subscribe(function(t){e.lengthKonsul=parseFloat(t.data)})}},{key:"verif",value:function(e){var t=this;"Selesai"!=e.status?this.apiService.post("emr/save-konsul-from-order",{kelasfk:6,noantrian:this.dataSourceKonsul.length+1,norec_so:e.norec,norec_pd:e.norec_pd,dokterfk:e.pegawaifk,objectruangantujuanfk:e.objectruangantujuanfk,objectruanganasalfk:e.objectruanganfk}).subscribe(function(e){t.loadData(),t.countKonsul(),t.pop_daftarOrder=!1}):this.alertService.error("Info","Sudah di verifkasi")}},{key:"konsultasi2",value:function(e){var t=this;this.pop_daftarOrder=!0;var a="";"dokter"==this.kelompokUser&&(a=this.authService.getPegawaiId()),this.apiService.get("emr/get-order-konsul?dokterid="+a).subscribe(function(e){var a=e.data;if(a.length>0)for(var i=0;i<a.length;i++)a[i].no=i+1,a[i].status=null!=a[i].norec_apd?"Selesai":"-";t.dataSourceKonsul=a})}},{key:"konsultasi",value:function(){var e=this;this.pop_daftarOrder=!0;var t="";"dokter"==this.kelompokUser&&(t=this.authService.getPegawaiId()),this.apiService.get("emr/get-order-konsul?dokterid="+t).subscribe(function(t){var a=t.data;if(a.length>0)for(var i=0;i<a.length;i++)a[i].no=i+1,a[i].status=null!=a[i].norec_apd?"Selesai":"-";e.dataSourceKonsul=a})}},{key:"cari",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this,t=l(this.item.periodeAwal).format("YYYY-MM-DD HH:mm:ss"),a=l(this.item.periodeAkhir).format("YYYY-MM-DD HH:mm:ss"),i="";null!=this.item.noCm&&(i="&norm="+this.item.noCm);var n="";null!=this.item.namaPasien&&(n="&nama="+this.item.namaPasien);var o="";null!=this.item.noRegistrasi&&(o="&noreg="+this.item.noRegistrasi);var r="";null!=this.item.ruangan&&(r="&ruangId="+this.item.ruangan.id);var s="";1==this.item.isDokter&&(s=this.authService.getPegawaiId());var u="";if(null!=this.item.ruanganMulti&&0!=this.item.ruanganMulti.length){for(var b="",c=this.item.ruanganMulti.length-1;c>=0;c--)b+=","+this.item.ruanganMulti[c].id;u=b.slice(1,b.length)}var d="";null!=this.item.rows&&(d="&jmlRow="+this.item.rows),this.apiService.get("rawatjalan/get-daftar-antrian-rajal?&tglAwal="+t+"&tglAkhir="+a+"&norm="+i+"&noreg="+o+"&nama="+n+"&ruanganArr="+u+"&dokId="+s+r+d).subscribe(function(i){for(var n=0;n<i.length;n++){i[n].no=n+1;var o=new Date,r=new Date(i[n].tgllahir);i[n].umurzz=e.dateHelper.getUmur(r,o),i[n].stts="-",i[n].isonline=!1,i[n].online="Onsite",null!=i[n].noreservasi&&(i[n].online="Online",i[n].isonline=!0,i[n].tglregistrasi=i[n].tanggalreservasi),null!=i[n].tgldipanggilsuster&&(i[n].stts="Di Panggil Perawat"),null!=i[n].tgldipanggildokter&&(i[n].stts="Di Panggil Dokter"),i[n].statlayanan="true"==i[n].statuslayanan||1==i[n].statuslayanan}e.dataSource=i,e.cacheHelper.set("cache_DaftarPsnRJ",{0:t,1:a,2:null!=e.item.ruangan?e.item.ruangan.id:null,3:null!=e.item.ruangan?e.item.ruangan.namaruangan:null,4:e.item.ruanganMulti}),e.updateRowGroupMetaData()})}},{key:"onSort",value:function(){this.updateRowGroupMetaData()}},{key:"updateRowGroupMetaData",value:function(){if(this.rowGroupMetadata={},this.dataSource)for(var e=0;e<this.dataSource.length;e++){var t=this.dataSource[e].namaruangan;0==e?this.rowGroupMetadata[t]={index:0,size:1}:t===this.dataSource[e-1].namaruangan?this.rowGroupMetadata[t].size++:this.rowGroupMetadata[t]={index:e,size:1}}}},{key:"filterDokter",value:function(e){var t=this;this.apiService.get("general/get-data-combo-dokter-part?namalengkap="+e.query).subscribe(function(e){t.listDokter=e})}},{key:"popUpUbahDokter2",value:function(e){var t=this;this.apiService.get("general/get-data-closing-pasien/"+e.noregistrasi).subscribe(function(e){e.length>0?t.alertService.error("Peringatan!","Registrasi Ini Telah Diclosing"):t.pop_DokterPJawab=!0})}},{key:"popUpUbahDokter",value:function(){var e=this;null!=this.selected?this.apiService.get("general/get-data-closing-pasien/"+this.selected.noregistrasi).subscribe(function(t){t.length>0?e.alertService.error("Peringatan!","Registrasi Ini Telah Diclosing"):e.pop_DokterPJawab=!0}):this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"batalDokter",value:function(){this.item.dokterPJawab=void 0,this.pop_DokterPJawab=!1}},{key:"simpanDokter",value:function(){var e=this;null!=this.selected?null!=this.item.dokterPJawab?this.apiService.post("emr/ubah-dokter",{norec_apd:this.selected.norec_apd,pegawaiidfk:this.item.dokterPJawab.id}).subscribe(function(t){""!=e.selected.norec&&e.apiService.postLog("Simpan Ubah Dokter","norec Registrasi Pasien",e.selected.norec,"Ubah Ke Dokter  "+e.item.dokterPJawab.namalengkap+" pada No Registrasi "+e.selected.noregistrasi).subscribe(function(e){}),e.item.dokterPJawab=void 0,e.pop_DokterPJawab=!1,e.loadData()}):this.alertService.warn("Info,","Data Dokter Belum Dipilih!"):this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"detailTagihan",value:function(){this.router.navigate(["detail-tagihan",this.selected.noregistrasi])}},{key:"pengkajianMedis2",value:function(e){this.saveAntrol("Online"==e.isonline?e.noreservasi:e.noregistrasi),this.router.navigate(["rekam-medis",e.norec_pd,e.norec_apd])}},{key:"pengkajianMedis",value:function(){null!=this.selected?(this.saveAntrol("Online"==this.selected.isonline?this.selected.noreservasi:this.selected.noregistrasi),this.router.navigate(["rekam-medis",this.selected.norec_pd,this.selected.norec_apd])):this.alertService.warn("Info,","Pilih data dulu!")}},{key:"panggil",value:function(){}},{key:"panggil2",value:function(e){var t=this;null!=e?(this.saveAntrol("Online"==e.isonline?e.noreservasi:e.noregistrasi),this.apiService.getUrlCetak("http://127.0.0.1:2905/printvb/panggil?displaykeun=1&noantri="+e.norec_apd+"&namapasien="+e.norm+", "+e.namapasien+"&ruangan=RUANG PERAWAT&ruangPeriksa="+e.namaruangan+"&view="+e.norec_apd,function(e){}),this.alertService.info(e.norm+" - "+e.namapasien,"Panggil"),this.apiService.post("rawatjalan/save-update-status-panggil",{norec_apd:e.norec_apd,iddokter:e.pegawaiidfk}).subscribe(function(e){t.apiService.postLog("Simpan Status Panggil Pasien","Norec daftarpasienruangan",e.norec_dpr,"Simpan Status Panggil Pasien Dengan Noregistrasi - "+e.noregistrasi).subscribe(function(e){})})):this.alertService.warn("Info,","Pilih data dulu!")}},{key:"loadComboSensus",value:function(){var e=this;this.apiService.get("general/get-data-combo-sensus").subscribe(function(t){var a=t;e.listStatusPulang=a.statuspulang,e.listStatusKeluar=a.statuskeluar,e.listKondisiPasien=a.kondisipasien,e.listPenyebabKematian=a.penyebabkematian,e.idMeninggal=a.idmeninggal})}},{key:"updateStatusPulang",value:function(e){this.loadComboSensus(),null!=e?(this.item.tglMeninggal=l(new Date).format("YYYY-MM-DD HH:mm"),this.norec_rg=e.norec_pd,this.norec_dpr=e.norec_apd,this.noregistrasi=e.noregistrasi,this.pop_UpStatusPulang=!0):this.alertService.warn("Info,","Data Belum Dipilih!")}},{key:"KosongkanSensus",value:function(){this.item.dataStatusPulang=void 0,this.item.dataStatusKeluar=void 0,this.item.dataKondisiPasien=void 0,this.norec_rg=void 0,this.norec_dpr=void 0,this.noregistrasi=void 0,this.showMeninggal=!1,this.PenyebabKematianManual=!1}},{key:"changeStatus",value:function(e){this.showMeninggal=e.value.id==this.idMeninggal}},{key:"IsiPenyebab",value:function(e){void 0!==e&&(this.PenyebabKematianManual="LAINNYA"==e.value.penyebabkematian)}},{key:"batalStatPulang",value:function(){this.KosongkanSensus(),this.pop_UpStatusPulang=!1}},{key:"simpanStatPulang",value:function(){var e=this;if(null!=this.item.dataStatusPulang)if(null!=this.item.dataStatusKeluar)if(null!=this.item.dataKondisiPasien){var t={norec_rg:this.norec_rg,norec_dpr:this.norec_dpr,statuspulang:this.item.dataStatusPulang.id,statuskeluar:this.item.dataStatusKeluar.id,kondisikeluar:this.item.dataKondisiPasien.id,tglkeluar:null!=this.item.tglKeluar?l(this.item.tglKeluar).format("YYYY-MM-DD HH:mm"):null,tglmeninggal:null!=this.item.tglMeninggal?l(this.item.tglMeninggal).format("YYYY-MM-DD HH:mm"):null,penyebabkematian:null!=this.item.penyebabKematian?this.item.penyebabKematian.id:null,ketpenyebabkematian:null!=this.item.PenyebabKematianText?this.item.PenyebabKematianText:null};this.apiService.post("general/save-date-sensus-pasien",t).subscribe(function(t){e.apiService.postLog("Simpan Status Pulang Pasien","Norec daftarpasienruangan",e.norec_dpr,"Simpan Status Pulang Pasien Dengan Noregistrasi - "+e.noregistrasi).subscribe(function(e){}),e.KosongkanSensus(),e.pop_UpStatusPulang=!1})}else this.alertService.warn("Info,","Kondisi Keluar Belum Dipilih!");else this.alertService.warn("Info,","Status Keluar Belum Dipilih!");else this.alertService.warn("Info,","Status Pulang Belum Dipilih!")}},{key:"saveAntrol",value:function(e){var t={url:"antrean/updatewaktu",jenis:"antrean",method:"POST",data:{kodebooking:e,taskid:4,waktu:(new Date).getTime()}};this.apiService.postNonMessage("bridging/bpjs/tools",t).subscribe(function(e){})}}])&&t(i.prototype,n),o&&t(i,o),a}(),z.\u0275fac=function(e){return new(e||z)(s.Jb(u.a),s.Jb(u.b),s.Jb(b.a),s.Jb(c.a),s.Jb(d.a),s.Jb(r.a),s.Jb(r.f))},z.\u0275cmp=s.Db({type:z,selectors:[["app-daftar-pasien-rj"]],decls:78,vars:86,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","disabled","ngModelChange"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","No RM",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","No Registrasi",3,"ngModel","ngModelChange","keyup.enter"],["defaultLabel","Ruangan","optionLabel","namaruangan","display","chip",3,"options","ngModel","ngModelChange"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12"],["sortField","namaruangan","sortMode","single","scrollable","true","selectionMode","single",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selection","rowHover","onSort","selectionChange"],["pTemplate","header"],["pTemplate","body"],["class","p-col-12 p-md-2","style","margin-top: 15px;",4,"ngIf"],["header","Dokter ",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],["field","namalengkap","placeholder","DPJP","appendTo","body",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod"],["pTemplate","footer"],["header","Daftar Order Konsul",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["header","Update Status Pulang Pasien",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-col-12","p-md-3"],["yearRange","1980:2050","dateFormat","yy-mm-dd","appendTo","body",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Status Keluar","optionLabel","statuskeluar","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["placeholder","Status Pulang","optionLabel","statuspulang","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Kondisi Pasien","optionLabel","kondisipasien","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange"],["class","p-col-12 p-md-3",4,"ngIf"],["class","p-col-12 p-md-6",4,"ngIf"],[2,"width","180px"],["pTooltip","Sudah Input Tindakan",1,"p-text-center",2,"width","30px"],[2,"width","30px"],[2,"width","150px"],[2,"width","100px"],[2,"width","90px"],[2,"width","200px"],[2,"width","300px"],[3,"pSelectableRow"],["pButton","","type","button","icon","fa fa-stethoscope","pTooltip","Pengkajian Medis/EMR","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["pButton","","type","button","icon","mdi mdi-account-edit-outline","pTooltip","Ubah Dokter","label","",1,"p-button-rounded","p-mr-2","p-mt-1",3,"click"],["pButton","","type","button","icon","fa fa-phone","pTooltip","Panggil Pasien","label","",1,"p-button-rounded","p-mr-2","p-mt-1",3,"click"],["pButton","","type","button","icon","pi pi-clock","label","",1,"p-button-rounded","p-button-warning","p-mr-2","p-mt-1",3,"pTooltip","click"],["pButton","","type","button","icon","pi pi-cog","pTooltip","Update Status Pulang","label","",1,"p-button-rounded","p-button-warning","p-mr-2","p-mt-1",3,"click"],[1,"p-text-center",2,"width","30px",3,"pTooltip"],[1,"pi",3,"ngClass"],[3,"class",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"p-col-12","p-md-2",2,"margin-top","15px"],["binary","true","inputId","item.isDokter",3,"ngModel","ngModelChange","onChange"],["for","item.isDokter","pTooltip","Menampilkan hanya pasien dokter Ini Saja",1,"label"],["icon","pi pi-save","label","Simpan","styleClass","p-button-success p-mr-2",3,"click"],["icon","pi pi-close","label","Tutup","styleClass","p-button-text",3,"click"],[1,"table-header","p-grid"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filter",3,"input"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["pButton","","type","button","icon","pi pi-check","pTooltip","Verikasi Order","label","",1,"p-button-rounded","p-button","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Penyebab Kematian ","optionLabel","penyebabkematian","appendTo","body",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],[1,"p-col-12","p-md-6"],["type","text","pInputText","","placeholder","Isi Penyebab ","appendTo","body",3,"ngModel","ngModelChange"],["icon","pi pi-close","label","Tutup","styleClass","p-button-error p-mr-2",3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"h4"),s.Jc(3,"Pasien Rawat Jalan"),s.Pb(),s.Qb(4,"div",2),s.Qb(5,"div",3),s.Qb(6,"div",4),s.Qb(7,"label",5),s.Jc(8,"Periode Awal"),s.Pb(),s.Qb(9,"p-calendar",6),s.Yb("ngModelChange",function(e){return t.item.periodeAwal=e}),s.Pb(),s.Pb(),s.Qb(10,"div",4),s.Qb(11,"label",5),s.Jc(12,"Periode Akhir"),s.Pb(),s.Qb(13,"p-calendar",6),s.Yb("ngModelChange",function(e){return t.item.periodeAkhir=e}),s.Pb(),s.Pb(),s.Qb(14,"div",7),s.Qb(15,"label",5),s.Jc(16,"No RM "),s.Pb(),s.Qb(17,"input",8),s.Yb("ngModelChange",function(e){return t.item.noCm=e})("keyup.enter",function(){return t.cari()}),s.Pb(),s.Pb(),s.Qb(18,"div",4),s.Qb(19,"label",5),s.Jc(20,"Nama Pasien "),s.Pb(),s.Qb(21,"input",9),s.Yb("ngModelChange",function(e){return t.item.namaPasien=e})("keyup.enter",function(){return t.cari()}),s.Pb(),s.Pb(),s.Qb(22,"div",4),s.Qb(23,"label",5),s.Jc(24,"No Registrasi"),s.Pb(),s.Qb(25,"input",10),s.Yb("ngModelChange",function(e){return t.item.noRegistrasi=e})("keyup.enter",function(){return t.cari()}),s.Pb(),s.Pb(),s.Qb(26,"div",4),s.Qb(27,"label",5),s.Jc(28,"Ruangan"),s.Pb(),s.Qb(29,"p-multiSelect",11),s.Yb("ngModelChange",function(e){return t.item.ruanganMulti=e}),s.Pb(),s.Pb(),s.Qb(30,"div",12),s.Qb(31,"button",13),s.Yb("click",function(){return t.cari()}),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(32,"div",14),s.Qb(33,"p-table",15),s.Yb("onSort",function(){return t.onSort()})("selectionChange",function(e){return t.selected=e}),s.Hc(34,x,34,0,"ng-template",16),s.Hc(35,K,40,26,"ng-template",17),s.Pb(),s.Pb(),s.Qb(36,"div",2),s.Qb(37,"div",3),s.Hc(38,J,4,1,"div",18),s.Pb(),s.Pb(),s.Pb(),s.Qb(39,"p-dialog",19),s.Yb("visibleChange",function(e){return t.pop_DokterPJawab=e}),s.Qb(40,"div",0),s.Qb(41,"div",3),s.Qb(42,"div",2),s.Qb(43,"label",5),s.Jc(44,"Dokter "),s.Pb(),s.Qb(45,"p-autoComplete",20),s.Yb("ngModelChange",function(e){return t.item.dokterPJawab=e})("completeMethod",function(e){return t.filterDokter(e)}),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Hc(46,Y,2,0,"ng-template",21),s.Pb(),s.Qb(47,"p-dialog",22),s.Yb("visibleChange",function(e){return t.pop_daftarOrder=e}),s.Qb(48,"div",0),s.Qb(49,"div",3),s.Qb(50,"p-table",23,24),s.Yb("selectionChange",function(e){return t.selectedData=e}),s.Hc(52,T,5,0,"ng-template",25),s.Hc(53,R,3,1,"ng-template",16),s.Hc(54,j,4,1,"ng-template",17),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(55,"p-dialog",26),s.Yb("visibleChange",function(e){return t.pop_UpStatusPulang=e}),s.Qb(56,"div",0),s.Qb(57,"div",3),s.Qb(58,"div",27),s.Qb(59,"label",5),s.Jc(60,"Tgl Keluar"),s.Pb(),s.Qb(61,"p-calendar",28),s.Yb("ngModelChange",function(e){return t.item.tglKeluar=e}),s.Pb(),s.Pb(),s.Qb(62,"div",27),s.Qb(63,"label",5),s.Jc(64,"Status Keluar"),s.Pb(),s.Qb(65,"p-dropdown",29),s.Yb("ngModelChange",function(e){return t.item.dataStatusKeluar=e})("onChange",function(e){return t.changeStatus(e)}),s.Pb(),s.Pb(),s.Qb(66,"div",27),s.Qb(67,"label",5),s.Jc(68,"Status Pulang"),s.Pb(),s.Qb(69,"p-dropdown",30),s.Yb("ngModelChange",function(e){return t.item.dataStatusPulang=e}),s.Pb(),s.Pb(),s.Qb(70,"div",27),s.Qb(71,"label",5),s.Jc(72,"Kondisi Pasien"),s.Pb(),s.Qb(73,"p-dropdown",31),s.Yb("ngModelChange",function(e){return t.item.dataKondisiPasien=e}),s.Pb(),s.Pb(),s.Hc(74,O,4,5,"div",32),s.Hc(75,U,4,4,"div",32),s.Hc(76,A,4,1,"div",33),s.Pb(),s.Pb(),s.Hc(77,L,2,0,"ng-template",21),s.Pb(),s.Pb()),2&e&&(s.xb(9),s.ic("ngModel",t.item.periodeAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("disabled",t.disableTgl),s.xb(4),s.ic("ngModel",t.item.periodeAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("disabled",t.disableTgl),s.xb(4),s.ic("ngModel",t.item.noCm),s.xb(4),s.ic("ngModel",t.item.namaPasien),s.xb(4),s.ic("ngModel",t.item.noRegistrasi),s.xb(4),s.ic("options",t.listRuangan)("ngModel",t.item.ruanganMulti),s.xb(4),s.ic("value",t.dataSource)("rows",50)("showCurrentPageReport",!0)("rowsPerPageOptions",s.mc(80,$))("paginator",!0)("pageLinks",5)("selection",t.selected)("rowHover",!0),s.xb(5),s.ic("ngIf",t.isPasienDokter),s.xb(1),s.Ec(s.mc(81,G)),s.ic("visible",t.pop_DokterPJawab)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),s.xb(6),s.ic("ngModel",t.item.dokterPJawab)("suggestions",t.listDokter)("dropdown",!0),s.xb(2),s.Ec(s.mc(82,E)),s.ic("visible",t.pop_daftarOrder)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),s.xb(3),s.ic("columns",t.columnKonsul)("value",t.dataSourceKonsul)("selection",t.selectedData)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",s.mc(83,V))("paginator",!0)("pageLinks",5)("globalFilterFields",s.mc(84,W)),s.xb(5),s.Ec(s.mc(85,E)),s.ic("visible",t.pop_UpStatusPulang)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),s.xb(6),s.ic("ngModel",t.item.tglKeluar)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),s.xb(4),s.ic("options",t.listStatusKeluar)("ngModel",t.item.dataStatusKeluar)("filter",!0)("showClear",!0),s.xb(4),s.ic("options",t.listStatusPulang)("ngModel",t.item.dataStatusPulang)("filter",!0)("showClear",!0),s.xb(4),s.ic("options",t.listKondisiPasien)("ngModel",t.item.dataKondisiPasien)("filter",!0)("showClear",!0),s.xb(1),s.ic("ngIf",t.showMeninggal),s.xb(1),s.ic("ngIf",t.showMeninggal),s.xb(1),s.ic("ngIf",t.PenyebabKematianManual))},directives:[p.a,g.g,g.h,g.a,h.a,m.a,f.b,P.a,v.h,k.k,o.l,w.a,y.a,S.a,v.e,o.j,o.k,Q.a,f.a,v.g,v.f],styles:["[_nghost-%COMP%]     .row-header{background-color:rgba(0,0,0,.15)!important}"]}),z)}],X=((F=function t(){e(this,t)}).\u0275mod=s.Hb({type:F}),F.\u0275inj=s.Gb({factory:function(e){return new(e||F)},imports:[[r.j.forChild(q)],r.j]}),F),Z=n("PCNd"),ee=((B=function t(){e(this,t)}).\u0275mod=s.Hb({type:B}),B.\u0275inj=s.Gb({factory:function(e){return new(e||B)},imports:[[o.b,X,Z.a]]}),B)}}])}();