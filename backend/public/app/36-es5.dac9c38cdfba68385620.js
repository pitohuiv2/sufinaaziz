!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{neii:function(a,i,n){"use strict";n.r(i),n.d(i,"OrderLabModule",function(){return ve});var r=n("ofXK"),l=n("tyNb"),o=n("wd/R"),c=n("fXoL"),b=n("By0h"),s=n("EJUL"),d=n("7zfz"),u=n("U+s4"),p=n("G0w9"),h=n("ujBT"),g=n("/RsI"),f=n("7CaW"),m=n("rEr+"),k=n("eO1q"),v=n("3Pt+"),P=n("7kUa"),y=n("arFO"),Q=n("Ji6n"),w=n("jIHw"),x=n("xlun"),C=n("hYoW"),S=n("jeV5"),j=n("lUkA"),M=n("Q4Mo"),H=n("PU9F"),F=function(){return{width:"100%"}};function O(e,t){if(1&e&&(c.Qb(0,"div",45),c.Lb(1,"p-tag",46),c.Pb()),2&e){var a=t.$implicit;c.xb(1),c.Ec(c.mc(3,F)),c.jc("value",a.namaproduk)}}function R(e,t){if(1&e){var a=c.Sb();c.Qb(0,"p-panel",41),c.Qb(1,"div",7),c.Hc(2,O,2,4,"div",42),c.Pb(),c.Qb(3,"div",7),c.Qb(4,"div",43),c.Qb(5,"button",44),c.Yb("click",function(){return c.yc(a),c.bc(2).clearSelection()}),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&e){var i=c.bc(2);c.kc("header","Detail Pemeriksaan Terpilih | Total : ",i.formatRupiah(i.totalHarga,""),""),c.ic("toggleable",!0),c.xb(2),c.ic("ngForOf",i.listChecked),c.xb(3),c.ic("disabled",i.isSimpan)}}function T(e,t){1&e&&c.Lb(0,"p-skeleton",50),2&e&&c.jc("styleClass",t.$implicit.class)}function L(e,t){if(1&e&&(c.Qb(0,"div"),c.Hc(1,T,1,1,"p-skeleton",49),c.Pb()),2&e){var a=t.$implicit;c.zb(a.class),c.xb(1),c.ic("ngForOf",a.details)}}function I(e,t){if(1&e&&(c.Qb(0,"div",7),c.Hc(1,L,2,4,"div",48),c.Pb()),2&e){var a=t.$implicit;c.xb(1),c.ic("ngForOf",a.details)}}function J(e,t){if(1&e&&(c.Qb(0,"div",5),c.Hc(1,I,2,1,"div",47),c.Pb()),2&e){var a=c.bc(2);c.xb(1),c.ic("ngForOf",a.skeleton)}}function D(e,t){if(1&e){var a=c.Sb();c.Qb(0,"div",58),c.Qb(1,"p-checkbox",59),c.Yb("ngModelChange",function(e){c.yc(a);var i=t.$implicit;return c.bc(4).item.layanan[i.id]=e})("onChange",function(){return c.yc(a),c.bc(4).getSelected()}),c.Pb(),c.Qb(2,"label",60),c.Jc(3),c.Pb(),c.Pb()}if(2&e){var i=t.$implicit,n=c.bc(4);c.xb(1),c.jc("inputId",i.id),c.ic("ngModel",n.item.layanan[i.id]),c.xb(1),c.jc("for",i.id),c.xb(1),c.Lc(" ",i.namaproduk,"")}}function $(e,t){if(1&e&&(c.Qb(0,"div",53),c.Qb(1,"p-divider",54),c.Qb(2,"div",55),c.Lb(3,"i",56),c.Qb(4,"b"),c.Jc(5),c.Pb(),c.Pb(),c.Pb(),c.Qb(6,"div",7),c.Hc(7,D,4,4,"div",57),c.cc(8,"filter"),c.Pb(),c.Pb()),2&e){var a=t.$implicit,i=c.bc(3);c.xb(5),c.Kc(a.detailjenisproduk),c.xb(2),c.ic("ngForOf",c.ec(8,2,a.details,i.searchText))}}function Y(e,t){if(1&e&&(c.Qb(0,"div",51),c.Hc(1,$,9,5,"div",52),c.Pb()),2&e){var a=c.bc(2);c.xb(1),c.ic("ngForOf",a.listProdukCek)}}function _(e,t){if(1&e){var a=c.Sb();c.Qb(0,"div",7),c.Qb(1,"div",5),c.Qb(2,"p-panel",15),c.Qb(3,"div",7),c.Qb(4,"div",16),c.Qb(5,"label",17),c.Jc(6,"Tgl Order "),c.Pb(),c.Qb(7,"p-calendar",18),c.Yb("ngModelChange",function(e){return c.yc(a),c.bc().item.tglPelayanan=e}),c.Pb(),c.Pb(),c.Qb(8,"div",16),c.Qb(9,"label",17),c.Jc(10,"Ruangan Asal "),c.Pb(),c.Qb(11,"input",19),c.Yb("ngModelChange",function(e){return c.yc(a),c.bc().item.ruanganAsal=e}),c.Pb(),c.Pb(),c.Qb(12,"div",16),c.Qb(13,"label",17),c.Jc(14,"Ruangan Tujuan "),c.Pb(),c.Qb(15,"p-dropdown",20),c.Yb("ngModelChange",function(e){return c.yc(a),c.bc().item.ruangantujuan=e})("onChange",function(){c.yc(a);var e=c.bc();return e.getProduk(e.item.ruangantujuan)}),c.Pb(),c.Pb(),c.Qb(16,"div",16),c.Qb(17,"label",17),c.Jc(18,"Keterangan "),c.Pb(),c.Qb(19,"input",21),c.Yb("ngModelChange",function(e){return c.yc(a),c.bc().item.keterangan=e}),c.Pb(),c.Pb(),c.Qb(20,"div",16),c.Qb(21,"div",7),c.Qb(22,"div",22),c.Qb(23,"p-checkbox",23),c.Yb("ngModelChange",function(e){return c.yc(a),c.bc().item.iscito=e}),c.Pb(),c.Qb(24,"label",24),c.Jc(25," Cito"),c.Pb(),c.Pb(),c.Qb(26,"div",22),c.Qb(27,"p-checkbox",25),c.Yb("ngModelChange",function(e){return c.yc(a),c.bc().item.paket=e})("onChange",function(){c.yc(a);var e=c.bc();return e.cekPaket(e.item.paket)}),c.Pb(),c.Qb(28,"label",26),c.Jc(29," Paket"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(30,"div",7),c.Qb(31,"div",27),c.Hc(32,R,6,4,"p-panel",28),c.Pb(),c.Pb(),c.Qb(33,"div",7),c.Qb(34,"div",29),c.Qb(35,"span",30),c.Lb(36,"i",31),c.Qb(37,"input",32),c.Yb("ngModelChange",function(e){return c.yc(a),c.bc().searchText=e}),c.Pb(),c.Pb(),c.Pb(),c.Qb(38,"div",33),c.Qb(39,"button",34),c.Yb("click",function(){return c.yc(a),c.bc().clearFilter()}),c.Pb(),c.Pb(),c.Qb(40,"div",35),c.Qb(41,"button",36),c.Yb("click",function(){return c.yc(a),c.bc().save()}),c.Pb(),c.Pb(),c.Qb(42,"div",33),c.Qb(43,"button",37),c.Yb("click",function(){return c.yc(a),c.bc().batal()}),c.Pb(),c.Pb(),c.Qb(44,"div",33),c.Qb(45,"button",38),c.Yb("click",function(){return c.yc(a),c.bc().riwayat()}),c.Pb(),c.Pb(),c.Hc(46,J,2,1,"div",39),c.Hc(47,Y,2,1,"div",40),c.Pb(),c.Lb(48,"div",7),c.Pb(),c.Pb(),c.Lb(49,"div",5),c.Pb()}if(2&e){var i=c.bc();c.xb(2),c.ic("toggleable",!0),c.xb(5),c.ic("ngModel",i.item.tglPelayanan)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("maxDate",i.maxDateValue),c.xb(4),c.ic("ngModel",i.item.ruanganAsal),c.xb(4),c.ic("options",i.listRuanganTujuan)("ngModel",i.item.ruangantujuan)("filter",!0)("showClear",!0),c.xb(4),c.ic("ngModel",i.item.keterangan),c.xb(4),c.ic("ngModel",i.item.iscito),c.xb(4),c.ic("ngModel",i.item.paket),c.xb(5),c.ic("ngIf",i.listChecked.length>0),c.xb(5),c.ic("ngModel",i.searchText),c.xb(4),c.ic("disabled",i.isSimpan),c.xb(5),c.ic("ngIf",0==i.listProdukCek.length),c.xb(1),c.ic("ngIf",i.listProdukCek.length>0)}}function B(e,t){if(1&e){var a=c.Sb();c.Qb(0,"div",67),c.Qb(1,"div",16),c.Qb(2,"span",30),c.Lb(3,"i",31),c.Qb(4,"input",68),c.Yb("input",function(e){return c.yc(a),c.bc(),c.wc(6).filterGlobal(e.target.value,"contains")}),c.Pb(),c.Pb(),c.Pb(),c.Pb()}}function K(e,t){if(1&e&&(c.Qb(0,"th",71),c.Jc(1),c.Lb(2,"p-sortIcon",72),c.Pb()),2&e){var a=t.$implicit;c.Fc("width: ",a.width,""),c.jc("pSortableColumn",a.field),c.xb(1),c.Lc(" ",a.header," "),c.xb(1),c.jc("field",a.field)}}function N(e,t){if(1&e&&(c.Qb(0,"tr"),c.Lb(1,"th",69),c.Hc(2,K,3,6,"th",70),c.Pb()),2&e){var a=t.$implicit;c.xb(2),c.ic("ngForOf",a)}}function A(e,t){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){var a=c.bc().$implicit,i=c.bc().$implicit,n=c.bc(2);c.xb(1),c.Lc(" ",n.formatRupiah(i[a.field],""),"")}}function E(e,t){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){var a=c.bc().$implicit,i=c.bc().$implicit;c.xb(1),c.Lc(" ",i[a.field],"")}}function z(e,t){if(1&e&&(c.Qb(0,"td"),c.Hc(1,A,2,1,"span",76),c.Hc(2,E,2,1,"span",76),c.Pb()),2&e){var a=t.$implicit;c.Fc("width: ",a.width,""),c.xb(1),c.ic("ngIf",null!=a.isCurrency),c.xb(1),c.ic("ngIf",null==a.isCurrency)}}function U(e,t){if(1&e){var a=c.Sb();c.Qb(0,"tr"),c.Qb(1,"td",69),c.Lb(2,"button",73),c.Qb(3,"button",74),c.Yb("click",function(){c.yc(a);var e=t.$implicit;return c.bc(2).hapusD(e)}),c.Pb(),c.Pb(),c.Hc(4,z,3,5,"td",75),c.Pb()}if(2&e){var i=t.$implicit,n=t.columns,r=t.expanded;c.xb(2),c.ic("pRowToggler",i)("icon",r?"pi pi-chevron-down":"pi pi-chevron-right"),c.xb(2),c.ic("ngForOf",n)}}function G(e,t){1&e&&(c.Qb(0,"tr"),c.Qb(1,"th"),c.Jc(2,"Nama Layanan"),c.Pb(),c.Qb(3,"th"),c.Jc(4,"Jumlah"),c.Pb(),c.Pb())}function q(e,t){if(1&e&&(c.Qb(0,"tr"),c.Qb(1,"td"),c.Jc(2),c.Pb(),c.Qb(3,"td"),c.Jc(4),c.Pb(),c.Pb()),2&e){var a=t.$implicit;c.xb(2),c.Kc(a.namaproduk),c.xb(2),c.Kc(a.qtyproduk)}}function V(e,t){if(1&e&&(c.Qb(0,"tr"),c.Qb(1,"td",77),c.Qb(2,"div",78),c.Qb(3,"p-table",79),c.Hc(4,G,5,0,"ng-template",11),c.Hc(5,q,5,2,"ng-template",12),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e){var a=t.$implicit;c.xb(3),c.ic("value",a.details)}}var W=function(){return[5,10,25,50]},X=function(){return["namaPelayanan"]};function Z(e,t){if(1&e){var a=c.Sb();c.Qb(0,"div",7),c.Qb(1,"div",5),c.Qb(2,"p-panel",61),c.Qb(3,"div",7),c.Qb(4,"div",5),c.Qb(5,"p-table",62,63),c.Yb("selectionChange",function(e){return c.yc(a),c.bc().selectedData=e}),c.Hc(7,B,5,0,"ng-template",10),c.Hc(8,N,3,1,"ng-template",11),c.Hc(9,U,5,3,"ng-template",12),c.Hc(10,V,6,1,"ng-template",13),c.Pb(),c.Pb(),c.Pb(),c.Qb(11,"div",7),c.Qb(12,"div",64),c.Qb(13,"button",65),c.Yb("click",function(){return c.yc(a),c.bc().hasil()}),c.Pb(),c.Pb(),c.Qb(14,"div",33),c.Qb(15,"button",66),c.Yb("click",function(){return c.yc(a),c.bc().order()}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&e){var i=c.bc();c.xb(2),c.ic("toggleable",!0),c.xb(3),c.ic("columns",i.columnRiwayat)("value",i.dataSourceRiwayat)("selection",i.selectedData)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",c.mc(11,W))("paginator",!0)("pageLinks",5)("globalFilterFields",c.mc(12,X))}}function ee(e,t){if(1&e){var a=c.Sb();c.Qb(0,"div",67),c.Qb(1,"div",5),c.Qb(2,"span",30),c.Lb(3,"i",31),c.Qb(4,"input",68),c.Yb("input",function(e){return c.yc(a),c.bc(),c.wc(13).filterGlobal(e.target.value,"contains")}),c.Pb(),c.Pb(),c.Pb(),c.Pb()}}function te(e,t){if(1&e&&(c.Qb(0,"th",71),c.Jc(1),c.Lb(2,"p-sortIcon",72),c.Pb()),2&e){var a=t.$implicit;c.Fc("width: ",a.width,""),c.jc("pSortableColumn",a.field),c.xb(1),c.Lc(" ",a.header," "),c.xb(1),c.jc("field",a.field)}}function ae(e,t){if(1&e&&(c.Qb(0,"tr"),c.Lb(1,"th",69),c.Hc(2,te,3,6,"th",70),c.Pb()),2&e){var a=t.$implicit;c.xb(2),c.ic("ngForOf",a)}}function ie(e,t){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){var a=c.bc().$implicit,i=c.bc().$implicit,n=c.bc();c.xb(1),c.Lc(" ",n.formatRupiah(i[a.field],""),"")}}function ne(e,t){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){var a=c.bc().$implicit,i=c.bc().$implicit;c.xb(1),c.Lc(" ",i[a.field],"")}}function re(e,t){if(1&e&&(c.Qb(0,"td"),c.Hc(1,ie,2,1,"span",76),c.Hc(2,ne,2,1,"span",76),c.Pb()),2&e){var a=t.$implicit;c.Fc("width: ",a.width,""),c.xb(1),c.ic("ngIf",null!=a.isCurrency),c.xb(1),c.ic("ngIf",null==a.isCurrency)}}function le(e,t){if(1&e){var a=c.Sb();c.Qb(0,"tr"),c.Qb(1,"td",69),c.Lb(2,"button",73),c.Qb(3,"button",80),c.Yb("click",function(){c.yc(a);var e=t.$implicit;return c.bc().addPaket(e)}),c.Pb(),c.Pb(),c.Hc(4,re,3,5,"td",75),c.Pb()}if(2&e){var i=t.$implicit,n=t.columns,r=t.expanded;c.xb(2),c.ic("pRowToggler",i)("icon",r?"pi pi-chevron-down":"pi pi-chevron-right"),c.xb(2),c.ic("ngForOf",n)}}function oe(e,t){1&e&&(c.Qb(0,"tr"),c.Qb(1,"th"),c.Jc(2,"Nama Layanan"),c.Pb(),c.Pb())}function ce(e,t){if(1&e&&(c.Qb(0,"tr"),c.Qb(1,"td"),c.Jc(2),c.Pb(),c.Pb()),2&e){var a=t.$implicit;c.xb(2),c.Kc(a.namaproduk)}}function be(e,t){if(1&e&&(c.Qb(0,"tr"),c.Qb(1,"td",81),c.Qb(2,"div",78),c.Qb(3,"p-table",79),c.Hc(4,oe,3,0,"ng-template",11),c.Hc(5,ce,3,1,"ng-template",12),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e){var a=t.$implicit;c.xb(3),c.ic("value",a.details)}}function se(e,t){if(1&e){var a=c.Sb();c.Qb(0,"p-button",82),c.Yb("click",function(){return c.yc(a),c.bc().closePaket()}),c.Pb()}}var de,ue,pe,he=function(){return{width:"600px",minWidth:"600px"}},ge=function(){return["namapaket"]},fe=[{path:"",component:(de=function(){function a(t,i,n,r,l,o,c,b,s){e(this,a),this.rekamMedis=t,this.apiService=i,this.authService=n,this.confirmationService=r,this.cacheHelper=l,this.dateHelper=o,this.alertService=c,this.activeRoute=b,this.router=s,this.item={tglPelayanan:new Date,layanan:[]},this.totalHarga=0,this.listProdukCek=[],this.produkDef=[],this.listRuanganTujuan=[],this.skeleton=[],this.searchText="",this.selected_count=0,this.selected_games=[],this.listChecked=[],this.dataSourceRiwayat=[]}var i,n,r;return i=a,(n=[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnInit",value:function(){var e=this;this.skeleton=this.loadSkeleton(),this.item.idPegawaiLogin=this.authService.getDataLoginUser().pegawai.id,this.apiService.get("emr/get-combo-penunjang?departemenfk=kdDepartemenLab").subscribe(function(t){e.item.ruanganAsal=e.rekamMedis.header.namaruangan,e.item.namaRuangan=e.rekamMedis.header.namaruangan,e.listRuanganTujuan=t.ruangantujuan,e.item.ruangantujuan={id:t.ruangantujuan[0].id,namaruangan:t.ruangantujuan[0].namaruangan,instalasiidfk:t.ruangantujuan[0].instalasiidfk},e.getProduk(e.item.ruangantujuan)}),this.columnRiwayat=[{field:"noregistrasi",header:"No Registrasi",width:"100px"},{field:"tglorder",header:"Tgl Order",width:"100px"},{field:"noorder",header:"No Order",width:"100px"},{field:"dokter",header:"Dokter",width:"150px"},{field:"namaruanganasal",header:"Ruangan Asal",width:"150px"},{field:"namaruangantujuan",header:"Ruangan",width:"150px"},{field:"keteranganlainnya",header:"Keterangan",width:"150px"},{field:"statusorder",header:"Status",width:"70px"},{field:"cito",header:"Cito",width:"70px"}],this.columnPaket=[{field:"namapaket",header:"Nama Paket",width:"120px"},{field:"jml",header:"Jumlah",width:"80px"}]}},{key:"getProduk",value:function(e){var t=this;this.listProdukCek=[],this.item.layanan=[],this.produkDef=[],null!=e&&this.apiService.get("sysadmin/general/get-tindakan-with-details?idRuangan="+e.id+"&idKelas="+this.rekamMedis.header.objectkelasfk+"&idJenisPelayanan="+this.rekamMedis.header.jenispelayanan+"&isLabRad=true").subscribe(function(e){t.listProdukCek=e.details,t.produkDef=e.data})}},{key:"getSelected",value:function(){if(this.item.layanan.length>0){for(var e=Object.keys(this.item.layanan),t=0;t<e.length;t++){var a=e[t];if(1==this.item.layanan[parseInt(a)])for(var i=0;i<this.produkDef.length;i++){var n=this.produkDef[i];if(n.id==a){for(var r=0;r<this.listChecked.length;r++)this.listChecked[r].namaproduk==n.namaproduk&&this.listChecked.splice(r,1);this.listChecked.push({namaproduk:n.namaproduk,hargasatuan:n.hargasatuan})}}else for(i=0;i<this.produkDef.length;i++){var l=this.produkDef[i];if(l.id==a)for(r=0;r<this.listChecked.length;r++)this.listChecked[r].namaproduk==l.namaproduk&&this.listChecked.splice(r,1)}}this.totalHarga=0;for(var o=0;o<this.listChecked.length;o++)this.totalHarga=this.totalHarga+parseFloat(this.listChecked[o].hargasatuan)}}},{key:"clearFilter",value:function(){this.searchText=""}},{key:"save",value:function(){var e=this;if(null!=this.item.ruangantujuan)if(null!=this.item.tglPelayanan)if(null!=this.item.layanan&&0!=this.item.layanan.length){for(var t=Object.keys(this.item.layanan),a=[],i=t.length-1;i>=0;i--)1==this.item.layanan[parseInt(t[i])]&&a.push({no:i+1,produkfk:t[i],namaproduk:t[i],qtyproduk:1,objectruanganfk:this.rekamMedis.header.objectruanganfk,objectruangantujuanfk:this.item.ruangantujuan.id,pemeriksaanluar:1==this.item.pemeriksaanKeluar?1:0,iscito:null!=this.item.iscito&&1==this.item.iscito&&this.item.iscito,objectkelasfk:this.rekamMedis.header.objectkelasfk,nourut:null});if(0!=a.length){var n={tanggal:o(this.item.tglPelayanan).format("YYYY-MM-DD HH:mm:ss"),norec_so:"",norec_apd:this.rekamMedis.header.norec_apd,norec_pd:this.rekamMedis.header.norec_pd,qtyproduk:a.length,objectruanganfk:this.rekamMedis.header.objectruanganfk,objectruangantujuanfk:this.item.ruangantujuan.id,departemenfk:this.item.ruangantujuan.instalasiidfk,pegawaiorderfk:this.item.idPegawaiLogin,keterangan:null!=this.item.keterangan?this.item.keterangan:null,iscito:null!=this.item.iscito&&1==this.item.iscito&&this.item.iscito,details:a};this.isSimpan=!0,this.apiService.post("emr/save-order-pelayanan",n).subscribe(function(t){e.item.layanan=[],e.isSimpan=!1,e.apiService.postLog("Order Laboratorium","Norec strukorder_t",t.strukorder.norec,"Order Laboratorium No Order - "+t.strukorder.noorder+" dengan No Registrasi "+e.item.noregistrasi).subscribe(function(e){}),e.batal()},function(t){e.isSimpan=!1})}else this.alertService.warn("Info","Pilih Pelayanan dulu")}else this.alertService.warn("Info","Pilih layanan terlebih dahulu!!");else this.alertService.warn("Info","Pilih Tgl Order  terlebih dahulu!!");else this.alertService.warn("Info","Pilih Ruangan Tujuan terlebih dahulu!!")}},{key:"batal",value:function(){for(var e=Object.keys(this.item.layanan),t=e.length-1;t>=0;t--)this.item.layanan[parseInt(e[t])]=!1;this.listChecked=[],delete this.item.keterangan}},{key:"formatRupiah",value:function(e,t){return t+" "+parseFloat(e).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}},{key:"onRowSelect",value:function(e){}},{key:"hapusD",value:function(e){var t=this;"SELESAI"!=e.status?this.apiService.post("emr/delete-order-pelayanan",{norec_order:e.norec}).subscribe(function(e){t.loadRiwayat("noregistrasi="+t.rekamMedis.header.noregistrasi)}):this.alertService.warn("Info","Status Sudah Selesai tidak bisa di hapus")}},{key:"order",value:function(){this.isRiwayat=!1,this.batal(),this.getProduk(this.item.ruangantujuan)}},{key:"riwayat",value:function(){this.isRiwayat=!0,this.loadRiwayat("noregistrasi="+this.rekamMedis.header.noregistrasi)}},{key:"loadRiwayat",value:function(e){var t=this;this.apiService.get("emr/get-riwayat-order-penunjang?"+e+"&setting=kdDepartemenLab").subscribe(function(e){for(var a=e.daftar.length-1;a>=0;a--)e.daftar[a].no=a+1,e.daftar[a].cito=1==e.daftar[a].cito?"\u2714":"\u2718";t.dataSourceRiwayat=e.daftar})}},{key:"hapus",value:function(){var e=this;null!=this.selectedData?"SELESAI"!=this.selectedData.status?this.apiService.post("emr/delete-order-pelayanan",{norec_order:this.selectedData.norec}).subscribe(function(t){e.loadRiwayat("noregistrasi="+e.rekamMedis.header.noregistrasi)}):this.alertService.warn("Info","Status Sudah Selesai tidak bisa di hapus"):this.alertService.info("Info","Pilih data dulu")}},{key:"cekPaket",value:function(e){var t=this;if(1==e){if(null==this.item.ruangantujuan)return void this.alertService.warn("Info","Pilih ruangan dulu");this.pop_paket=!0,this.apiService.get("general/get-paket-tindakan").subscribe(function(e){t.dataSourcePaket=e})}}},{key:"addPaket",value:function(e){for(var t=e.details,a=Object.keys(this.item.layanan),i=0;i<t.length;i++){var n=t[i];if(a.length>0)for(var r=0;r<a.length;r++)n.objectprodukfk!=a[r]&&(this.item.layanan[n.objectprodukfk]=!0);else this.item.layanan[n.objectprodukfk]=!0}this.getSelected(),this.pop_paket=!1}},{key:"clearSelection",value:function(){for(var e=Object.keys(this.item.layanan),t=0;t<e.length;t++)this.item.layanan[e[t]]=!1;this.getSelected()}},{key:"closePaket",value:function(){this.pop_paket=!1,this.item.paket=!1}},{key:"loadSkeleton",value:function(){return[{id:1,details:[{class:"p-col-2",details:[{class:"p-mb-0"}]}]},{id:2,details:[{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]}]},{id:3,details:[{class:"p-col-2",details:[{class:"p-mb-0"}]}]},{id:4,details:[{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]}]}]}}])&&t(i.prototype,n),r&&t(i,r),a}(),de.\u0275fac=function(e){return new(e||de)(c.Jb(b.a),c.Jb(s.a),c.Jb(s.b),c.Jb(d.a),c.Jb(u.a),c.Jb(p.a),c.Jb(h.a),c.Jb(l.a),c.Jb(l.f))},de.\u0275cmp=c.Db({type:de,selectors:[["app-order-lab"]],decls:19,vars:22,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],["class","p-grid",4,"ngIf"],["header","Paket",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-fluid","p-grid"],[1,"p-col-12","p-md-12"],["header","Detail Paket",3,"toggleable"],[1,"p-grid"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","id","selectionMode","single",3,"columns","value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","footer"],["header","Detail Pemeriksaan",3,"toggleable"],[1,"p-col-12","p-md-3"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Pelayanan","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","ngModelChange"],["type","text","pInputText","","placeholder","Ruangan ","disabled","",3,"ngModel","ngModelChange"],["placeholder","Ruangan Tujuan","optionLabel","namaruangan","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["type","text","pInputText","","placeholder","Keterangan ",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-6"],["binary","true","inputId","item.iscito",3,"ngModel","ngModelChange"],["for","item.iscito"],["binary","true","inputId","item.paket",3,"ngModel","ngModelChange","onChange"],["for","item.paket"],[1,"p-col-12"],[3,"header","toggleable",4,"ngIf"],[1,"p-col-12","p-md-5"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filter",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-1"],["pButton","","type","button","icon","pi pi-times","pTooltip","Clear Filter",1,"p-button","p-button","p-mr-2",3,"click"],[1,"p-col-12","p-md-1","p-md-offset-3"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-arrow-right","pTooltip","Batal ","label","Batal",1,"p-button","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-list","pTooltip","Riwayat Order","label","Riwayat",1,"p-button","p-mr-2",3,"click"],["class","p-col-12 p-md-12",4,"ngIf"],["style","height: 600px;overflow: auto",4,"ngIf"],[3,"header","toggleable"],["class","p-col-12 p-md-4",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-1","p-md-offset-11"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Semua Data Terpilih","label","Clear",1,"p-button","p-button-danger","p-mr-2",3,"disabled","click"],[1,"p-col-12","p-md-4"],["styleClass","p-mr-2","severity","warning",3,"value"],["class","p-grid",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],[3,"styleClass",4,"ngFor","ngForOf"],[3,"styleClass"],[2,"height","600px","overflow","auto"],["class","p-col-12 p-md-12","style","padding: 10px;",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-12",2,"padding","10px"],["align","left"],[1,"p-d-inline-flex","p-ai-center"],[1,"fa","fa-stethoscope","p-mr-2"],["class","p-col-12 p-md-4 p-field-checkbox",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-4","p-field-checkbox"],["binary","true",3,"ngModel","inputId","ngModelChange","onChange"],[3,"for"],["header","Detail Order",3,"toggleable"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],[1,"p-col-12","p-md-1","p-md-offset-10"],["pButton","","type","button","icon","fa fa-heartbeat","pTooltip","Lihat Hasil","label","Hasil",1,"p-button","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Order Baru ","label","Order",1,"p-button","p-mr-2",3,"click"],[1,"table-header","p-grid"],["pInputText","","type","text","placeholder","Filter",3,"input"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-2",3,"pRowToggler","icon"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Order","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","10"],[1,"p-p-3"],["dataKey","id",3,"value"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah Paket","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["colspan","3"],["icon","pi pi-close","label","Tutup","styleClass","p-button-text",3,"click"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"h4"),c.Jc(3,"Order Laboratorium"),c.Pb(),c.Hc(4,_,50,20,"div",2),c.Hc(5,Z,16,13,"div",2),c.Pb(),c.Qb(6,"p-dialog",3),c.Yb("visibleChange",function(e){return t.pop_paket=e}),c.Qb(7,"div",4),c.Qb(8,"div",5),c.Qb(9,"p-panel",6),c.Qb(10,"div",7),c.Qb(11,"div",5),c.Qb(12,"p-table",8,9),c.Hc(14,ee,5,0,"ng-template",10),c.Hc(15,ae,3,1,"ng-template",11),c.Hc(16,le,5,3,"ng-template",12),c.Hc(17,be,6,1,"ng-template",13),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Hc(18,se,1,0,"ng-template",14),c.Pb(),c.Pb()),2&e&&(c.xb(4),c.ic("ngIf",!t.isRiwayat),c.xb(1),c.ic("ngIf",t.isRiwayat),c.xb(1),c.Ec(c.mc(19,he)),c.ic("visible",t.pop_paket)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),c.xb(3),c.ic("toggleable",!0),c.xb(3),c.ic("columns",t.columnPaket)("value",t.dataSourcePaket)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",c.mc(20,W))("paginator",!0)("pageLinks",5)("globalFilterFields",c.mc(21,ge)))},directives:[r.l,g.a,f.a,m.h,d.k,k.a,v.g,v.h,v.a,P.a,y.a,Q.a,w.b,x.a,r.k,C.a,S.a,j.a,m.g,m.f,M.a,m.d,w.a],pipes:[H.a],styles:[".p-field-checkbox[_ngcontent-%COMP%], .p-field-radiobutton[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center}"]}),de)}],me=((ue=function t(){e(this,t)}).\u0275mod=c.Hb({type:ue}),ue.\u0275inj=c.Gb({factory:function(e){return new(e||ue)},imports:[[l.j.forChild(fe)],l.j]}),ue),ke=n("PCNd"),ve=((pe=function t(){e(this,t)}).\u0275mod=c.Hb({type:pe}),pe.\u0275inj=c.Gb({factory:function(e){return new(e||pe)},imports:[[r.b,me,ke.a]]}),pe)}}])}();