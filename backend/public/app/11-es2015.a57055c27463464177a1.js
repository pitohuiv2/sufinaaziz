(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"7buL":function(e,t,i){"use strict";i.d(t,"a",function(){return C});var a=i("fXoL"),n=i("xjjP"),o=i("EJUL"),r=i("7zfz"),c=i("U+s4"),s=i("G0w9"),l=i("ujBT"),b=i("tyNb"),p=i("dPl2"),d=i("rEr+"),u=i("jIHw"),h=i("xlun"),m=i("g9iH"),g=i("7kUa"),f=i("ofXK"),v=i("Q4Mo");function P(e,t){if(1&e){const e=a.Sb();a.Qb(0,"div",18),a.Qb(1,"div",19),a.Qb(2,"span",20),a.Lb(3,"i",21),a.Qb(4,"input",22),a.Yb("input",function(t){return a.yc(e),a.bc(),a.wc(10).filterGlobal(t.target.value,"contains")}),a.Pb(),a.Pb(),a.Pb(),a.Pb()}}function w(e,t){if(1&e&&(a.Qb(0,"th",25),a.Jc(1),a.Lb(2,"p-sortIcon",26),a.Pb()),2&e){const e=t.$implicit;a.Fc("width: ",e.width,""),a.jc("pSortableColumn",e.field),a.xb(1),a.Lc(" ",e.header," "),a.xb(1),a.jc("field",e.field)}}function k(e,t){if(1&e&&(a.Qb(0,"tr"),a.Lb(1,"th",23),a.Hc(2,w,3,6,"th",24),a.Pb()),2&e){const e=t.$implicit;a.xb(2),a.ic("ngForOf",e)}}function x(e,t){if(1&e&&(a.Qb(0,"span"),a.Jc(1),a.Pb()),2&e){const e=a.bc().$implicit,t=a.bc().$implicit,i=a.bc();a.xb(1),a.Lc(" ",i.formatRupiah(t[e.field],""),"")}}function R(e,t){if(1&e&&(a.Qb(0,"span"),a.Jc(1),a.Pb()),2&e){const e=a.bc().$implicit,t=a.bc().$implicit;a.xb(1),a.Lc(" ",t[e.field],"")}}function Q(e,t){if(1&e&&(a.Qb(0,"td"),a.Hc(1,x,2,1,"span",31),a.Hc(2,R,2,1,"span",31),a.Pb()),2&e){const e=t.$implicit;a.Fc("width: ",e.width,""),a.xb(1),a.ic("ngIf",null!=e.isCurrency),a.xb(1),a.ic("ngIf",null==e.isCurrency)}}function y(e,t){if(1&e){const e=a.Sb();a.Qb(0,"tr"),a.Qb(1,"td",23),a.Lb(2,"button",27),a.Qb(3,"button",28),a.Yb("click",function(){a.yc(e);const i=t.$implicit;return a.bc().hapusPengkajian(i)}),a.Pb(),a.Qb(4,"button",29),a.Yb("click",function(){a.yc(e);const i=t.$implicit;return a.bc().editD(i)}),a.Pb(),a.Pb(),a.Hc(5,Q,3,5,"td",30),a.Pb()}if(2&e){const e=t.$implicit,i=t.columns,n=t.expanded;a.xb(2),a.ic("pRowToggler",e)("icon",n?"pi pi-chevron-down":"pi pi-chevron-right"),a.xb(3),a.ic("ngForOf",i)}}function T(e,t){1&e&&(a.Qb(0,"tr"),a.Qb(1,"th"),a.Jc(2,"Form Yang terisi"),a.Pb(),a.Pb())}function M(e,t){if(1&e){const e=a.Sb();a.Qb(0,"span"),a.Jc(1),a.Qb(2,"button",28),a.Yb("click",function(){a.yc(e);const i=t.$implicit;return a.bc(3).hapusForm(i)}),a.Pb(),a.Qb(3,"button",36),a.Yb("click",function(){a.yc(e);const i=t.$implicit;return a.bc(3).asupKaForm(i)}),a.Pb(),a.Pb()}if(2&e){const e=t.$implicit;a.zb("order-badge order-instock"),a.xb(1),a.Lc(" ",e.namaform," ")}}function F(e,t){if(1&e&&(a.Qb(0,"tr"),a.Hc(1,M,4,3,"span",35),a.Pb()),2&e){const e=t.$implicit;a.xb(1),a.ic("ngForOf",e.details)}}function S(e,t){if(1&e&&(a.Qb(0,"tr"),a.Qb(1,"td",32),a.Qb(2,"div",33),a.Qb(3,"p-table",34),a.Hc(4,T,3,0,"ng-template",9),a.Hc(5,F,2,1,"ng-template",10),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&e){const e=t.$implicit;a.xb(3),a.ic("value",e.details)}}const E=function(){return[5,10,25,50]},D=function(){return["namaPelayanan"]};let C=(()=>{class e{constructor(e,t,i,a,n,o,r,c,s){this.rekamMedis=e,this.apiService=t,this.authService=i,this.confirmationService=a,this.cacheHelper=n,this.dateHelper=o,this.alertService=r,this.activeRoute=c,this.router=s,this.item={tglPelayanan:new Date,layanan:[]},this.listProdukCek=[],this.produkDef=[],this.listRuanganTujuan=[],this.skeleton=[],this.searchText="",this.selected_count=0,this.selected_games=[],this.listChecked=[],this.dataSourceRiwayat=[],this.treeSourceMenu=[],this.headData={},this.nomorERM="-",this.navDetailForm="emr-detail-form-igd",this.paramEMR="igd",this.defaultFormTujuan=210079}ngAfterViewInit(){}ngOnInit(){if(null==this.rekamMedis.header.norec){var e=this.cacheHelper.get("cacheEMR_qwertyuiop");null!=e&&(e=JSON.parse(e),this.headData=e,null==e.norec&&(this.headData.norec=""))}else this.headData=this.rekamMedis.header;null==this.headData.norec&&window.history.back(),this.item.idPegawaiLogin=this.authService.getDataLoginUser().pegawai.id,this.columnRiwayatPengkajian=[{field:"tglemr",header:"Tgl EMR",width:"100px"},{field:"noemr",header:"No EMR",width:"100px"},{field:"norm",header:"No RM/Id Pasien Triase",width:"180px"}],this.loadRiwayatEMR()}handleChangeTab(e){this.indexTab=e.index,0==e.index?(this.loadRiwayatEMR(),console.log(this.activeRoute)):1==e.index&&this.loadTreeView()}buatBaru(){this.indexTab=1,this.handleChangeTab({index:this.indexTab}),this.router.navigate([this.navDetailForm,this.defaultFormTujuan,"-"],{relativeTo:this.activeRoute}),this.nomorERM="-"}editD(e){this.nomorERM=e.noemr,this.indexTab=1,this.handleChangeTab({index:this.indexTab}),this.router.navigate([this.navDetailForm,this.defaultFormTujuan,e.noemr],{relativeTo:this.activeRoute})}hapusPengkajian(e){this.nomorERM="-",this.apiService.post("emr/hapus-emr-transaksi-norec",{norec:e.norec}).subscribe(e=>{this.loadRiwayatEMR(),this.apiService.postLog("Hapus EMR","norec emrpasien_t",e.norec,"Hapus No EMR - "+e.emrpasienfk+" pada No Registrasi  "+this.headData.noregistrasi+" - Pasien : "+this.headData.namapasien).subscribe(e=>{})})}asupKaForm(e){this.nomorERM=e.emrpasienfk,this.indexTab=1,this.handleChangeTab({index:this.indexTab}),this.router.navigate([this.navDetailForm,e.emrfk,e.emrpasienfk],{relativeTo:this.activeRoute})}hapusForm(e){var t={noemr:e.noemr,reportdisplay:e.reportdisplay,idemr:e.emrfk,norec:e.norec,idpegawai:this.authService.getPegawaiId()};this.apiService.post("emr/disable-emr-details",t).subscribe(t=>{this.apiService.postLog("Hapus EMR","norec emrpasien_t",e.norec,"Hapus Satu Form EMR ( "+e.namaform+" ) No EMR - "+e.noemr+" pada No Registrasi  "+this.headData.noregistrasi+" - Pasien : "+this.headData.namapasien).subscribe(e=>{})})}loadTreeView(){this.treeSourceMenu=[],this.isLoadingNav=!0,this.apiService.get("emr/get-menu-rekam-medis-dynamic?namaemr="+this.paramEMR).subscribe(e=>{this.isLoadingNav=!1,this.treeSourceMenu=e.data})}nodeSelect(e){let t=e.node.reportdisplay;this.router.navigate(null==t?[this.navDetailForm,e.node.id,this.nomorERM]:[t],{relativeTo:this.activeRoute})}loadRiwayatEMR(){this.apiService.get("emr/get-emr-transaksi-detail-form?nocm="+this.headData.nocm+"&jenisEmr="+this.paramEMR).subscribe(e=>{this.dataSourcePengkajian=e.data})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(n.a),a.Jb(o.a),a.Jb(o.b),a.Jb(r.a),a.Jb(c.a),a.Jb(s.a),a.Jb(l.a),a.Jb(b.a),a.Jb(b.f))},e.\u0275cmp=a.Db({type:e,selectors:[["app-emr-detail-igd"]],decls:28,vars:17,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[3,"activeIndex","onChange","activeIndexChange"],["header","Riwayat Pengkajian","leftIcon","fa fa-list"],[1,"p-grid"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"p-col-12","p-md-3","p-md-offset-9"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Buat Pengkajian Baru ","label","Tambah",1,"p-button","p-mr-2",3,"click"],["header","Pengkajian Detail","leftIcon","pi pi-th-large"],[1,"p-col-12","p-md-2"],["selectionMode","single","scrollWidth","50px",3,"value","loading","selection","filter","selectionChange","onNodeSelect"],[1,"p-col-12","p-md-10"],[1,"table-header","p-grid"],[1,"p-col-12","p-md-3"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filter",3,"input"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-2",3,"pRowToggler","icon"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Data","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-check-circle","pTooltip","Edit Data","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","5"],[1,"p-p-3"],["dataKey","norec",3,"value"],[3,"class",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-check-circle","pTooltip","Masuk Ke Form (Edit)","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Qb(1,"div",1),a.Qb(2,"h4"),a.Jc(3,"Triase Instalasi Gawat Darurat"),a.Pb(),a.Qb(4,"div",2),a.Qb(5,"p-tabView",3),a.Yb("onChange",function(e){return t.handleChangeTab(e)})("activeIndexChange",function(e){return t.indexTab=e}),a.Qb(6,"p-tabPanel",4),a.Qb(7,"div",5),a.Qb(8,"div",2),a.Qb(9,"p-table",6,7),a.Yb("selectionChange",function(e){return t.selectedData=e}),a.Hc(11,P,5,0,"ng-template",8),a.Hc(12,k,3,1,"ng-template",9),a.Hc(13,y,6,3,"ng-template",10),a.Hc(14,S,6,1,"ng-template",11),a.Pb(),a.Pb(),a.Pb(),a.Qb(15,"div",5),a.Qb(16,"div",12),a.Qb(17,"button",13),a.Yb("click",function(){return t.buatBaru()}),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Qb(18,"p-tabPanel",14),a.Qb(19,"div",5),a.Qb(20,"div",15),a.Qb(21,"div",5),a.Qb(22,"div",2),a.Qb(23,"p-tree",16),a.Yb("selectionChange",function(e){return t.selectedFile=e})("onNodeSelect",function(e){return t.nodeSelect(e)}),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Qb(24,"div",17),a.Qb(25,"div",5),a.Qb(26,"div",2),a.Lb(27,"router-outlet"),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.xb(5),a.ic("activeIndex",t.indexTab),a.xb(4),a.ic("columns",t.columnRiwayatPengkajian)("value",t.dataSourcePengkajian)("selection",t.selectedData)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",a.mc(15,E))("paginator",!0)("pageLinks",5)("globalFilterFields",a.mc(16,D)),a.xb(14),a.ic("value",t.treeSourceMenu)("loading",t.isLoadingNav)("selection",t.selectedFile)("filter",!0))},directives:[p.b,p.a,d.h,r.k,u.b,h.a,m.a,b.k,g.a,f.k,d.g,d.f,v.a,d.d,f.l],styles:[""]}),e})()},xFaC:function(e,t,i){"use strict";i.r(t),i.d(t,"EmrDetailIgdModule",function(){return b});var a=i("ofXK"),n=i("tyNb"),o=i("7buL"),r=i("fXoL");const c=[{path:"",component:o.a,children:[{path:"emr-detail-form-igd/:namaEMR/:nomorEMR",loadChildren:()=>i.e(32).then(i.bind(null,"+kjV")).then(e=>e.EmrDetailFormIgdModule)}]}];let s=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(t){return new(t||e)},imports:[[n.j.forChild(c)],n.j]}),e})();var l=i("PCNd");let b=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(t){return new(t||e)},imports:[[a.b,s,l.a]]}),e})()}}]);