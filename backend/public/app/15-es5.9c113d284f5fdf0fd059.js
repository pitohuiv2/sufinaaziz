!function(){function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function n(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{abSf:function(i,t,a){"use strict";a.d(t,"a",function(){return h});var o=a("fXoL"),l=a("7CaW"),b=a("SSqW"),r=a("ofXK"),c=a("3Pt+"),p=a("7kUa"),s=a("jeV5");function u(e,i){if(1&e){var n=o.Sb();o.Qb(0,"div",0),o.Qb(1,"div",1),o.Qb(2,"div",0),o.Qb(3,"div",1),o.Qb(4,"label",4),o.Jc(5,"No Registrasi "),o.Pb(),o.Qb(6,"input",5),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.noregistrasi=e}),o.Pb(),o.Pb(),o.Qb(7,"div",1),o.Qb(8,"label",4),o.Jc(9,"No Rekam Medis "),o.Pb(),o.Qb(10,"input",6),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.nocm=e}),o.Pb(),o.Pb(),o.Qb(11,"div",1),o.Qb(12,"label",4),o.Jc(13,"Nama Pasien "),o.Pb(),o.Qb(14,"input",7),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.namapasien=e}),o.Pb(),o.Pb(),o.Qb(15,"div",1),o.Qb(16,"label",4),o.Jc(17,"Tgl Registrasi "),o.Pb(),o.Qb(18,"input",8),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.tglregistrasi=e}),o.Pb(),o.Pb(),o.Qb(19,"div",1),o.Qb(20,"label",4),o.Jc(21,"Tipe Pasien "),o.Pb(),o.Qb(22,"input",8),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.kelompokpasien=e}),o.Pb(),o.Pb(),o.Qb(23,"div",1),o.Qb(24,"label",4),o.Jc(25,"Jenis Kelamin "),o.Pb(),o.Qb(26,"input",7),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.jeniskelamin=e}),o.Pb(),o.Pb(),o.Qb(27,"div",1),o.Qb(28,"label",4),o.Jc(29,"Tgl Lahir "),o.Pb(),o.Qb(30,"input",9),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.tgllahir=e}),o.Pb(),o.Pb(),o.Qb(31,"div",1),o.Qb(32,"label",4),o.Jc(33,"Umur "),o.Pb(),o.Qb(34,"input",8),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.umur=e}),o.Pb(),o.Pb(),o.Qb(35,"div",1),o.Qb(36,"label",4),o.Jc(37,"Alamat "),o.Pb(),o.Qb(38,"input",10),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.alamatlengkap=e}),o.Pb(),o.Pb(),o.Qb(39,"div",1),o.Qb(40,"label",4),o.Jc(41,"Kelas "),o.Pb(),o.Qb(42,"input",8),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.namakelas=e}),o.Pb(),o.Pb(),o.Qb(43,"div",1),o.Qb(44,"label",4),o.Jc(45,"Ruangan "),o.Pb(),o.Qb(46,"input",8),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.namaruangan=e}),o.Pb(),o.Pb(),o.Qb(47,"div",1),o.Qb(48,"label",4),o.Jc(49,"Pendidikan "),o.Pb(),o.Qb(50,"input",11),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.pendidikan=e}),o.Pb(),o.Pb(),o.Qb(51,"div",1),o.Qb(52,"label",4),o.Jc(53,"Jenis Pelayanan "),o.Pb(),o.Qb(54,"input",8),o.Yb("ngModelChange",function(e){return o.yc(n),o.bc().item.pasien.jenispelayanan=e}),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb()}if(2&e){var t=o.bc();o.xb(6),o.ic("ngModel",t.item.pasien.noregistrasi),o.xb(4),o.ic("ngModel",t.item.pasien.nocm),o.xb(4),o.ic("ngModel",t.item.pasien.namapasien),o.xb(4),o.ic("ngModel",t.item.pasien.tglregistrasi),o.xb(4),o.ic("ngModel",t.item.pasien.kelompokpasien),o.xb(4),o.ic("ngModel",t.item.pasien.jeniskelamin),o.xb(4),o.ic("ngModel",t.item.pasien.tgllahir),o.xb(4),o.ic("ngModel",t.item.pasien.umur),o.xb(4),o.ic("ngModel",t.item.pasien.alamatlengkap),o.xb(4),o.ic("ngModel",t.item.pasien.namakelas),o.xb(4),o.ic("ngModel",t.item.pasien.namaruangan),o.xb(4),o.ic("ngModel",t.item.pasien.pendidikan),o.xb(4),o.ic("ngModel",t.item.pasien.jenispelayanan)}}function d(e,i){1&e&&(o.Qb(0,"div",1),o.Lb(1,"p-skeleton",13),o.Pb())}function g(e,i){if(1&e&&(o.Qb(0,"div",0),o.Hc(1,d,2,0,"div",12),o.Pb()),2&e){var n=o.bc();o.xb(1),o.ic("ngForOf",n.numberss)}}var m=function(){return{width:"100%",height:"70vh"}},h=function(){var i=function(){function i(){e(this,i),this.item={pasien:{}},this.numberss=Array(15).map(function(e,i){return i})}return n(i,[{key:"ngOnInit",value:function(){}}]),i}();return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=o.Db({type:i,selectors:[["app-head-pasien"]],decls:6,vars:6,consts:[[1,"p-grid"],[1,"p-col-12","p-md-12"],["header","Info Pasien",3,"toggleable"],["class","p-grid",4,"ngIf"],["for","input",1,"label"],["type","text","pInputText","","placeholder","Cari No Registrasi","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Rekam Medis","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Pasien","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Tgl Lahir","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Alamat","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Pendidikan","disabled","",3,"ngModel","ngModelChange"],["class","p-col-12 p-md-12",4,"ngFor","ngForOf"],["height","2.4rem"]],template:function(e,i){1&e&&(o.Qb(0,"div",0),o.Qb(1,"div",1),o.Qb(2,"p-panel",2),o.Qb(3,"p-scrollPanel"),o.Hc(4,u,55,13,"div",3),o.Hc(5,g,2,1,"div",3),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&e&&(o.xb(2),o.ic("toggleable",!0),o.xb(1),o.Ec(o.mc(5,m)),o.xb(1),o.ic("ngIf",null!=i.item.pasien.nocm),o.xb(1),o.ic("ngIf",null==i.item.pasien.nocm))},directives:[l.a,b.a,r.l,c.a,p.a,c.g,c.h,r.k,s.a],styles:[""]}),i}()},x7Jo:function(i,t,a){"use strict";a.r(t),a.d(t,"PenyetoranDepositModule",function(){return H});var o=a("ofXK"),l=a("tyNb"),b=a("7zfz"),r=a("wd/R"),c=a("abSf"),p=a("fXoL"),s=a("EJUL"),u=a("U+s4"),d=a("G0w9"),g=a("ujBT"),m=a("Nf9I"),h=a("7CaW"),f=a("rEr+"),P=a("3Pt+"),v=a("7kUa"),Q=a("jIHw"),y=a("xlun");function x(e,i){if(1&e&&(p.Qb(0,"th",25),p.Jc(1),p.Lb(2,"p-sortIcon",26),p.Pb()),2&e){var n=i.$implicit;p.Fc("width: ",n.width,""),p.jc("pSortableColumn",n.field),p.xb(1),p.Lc(" ",n.header," "),p.xb(1),p.jc("field",n.field)}}function M(e,i){if(1&e&&(p.Qb(0,"tr"),p.Hc(1,x,3,6,"th",24),p.Pb()),2&e){var n=i.$implicit;p.xb(1),p.ic("ngForOf",n)}}function k(e,i){if(1&e&&(p.Qb(0,"span"),p.Jc(1),p.Pb()),2&e){var n=p.bc().$implicit,t=p.bc().$implicit,a=p.bc();p.xb(1),p.Lc(" ",a.formatRupiah(t[n.field],"")," ")}}function w(e,i){if(1&e&&(p.Qb(0,"span"),p.Jc(1),p.Pb()),2&e){var n=p.bc().$implicit,t=p.bc().$implicit;p.xb(1),p.Lc(" ",t[n.field],"")}}function D(e,i){if(1&e&&(p.Qb(0,"td"),p.Hc(1,k,2,1,"span",29),p.Hc(2,w,2,1,"span",29),p.Pb()),2&e){var n=i.$implicit;p.Fc("width: ",n.width,""),p.xb(1),p.ic("ngIf",null!=n.isCurrency),p.xb(1),p.ic("ngIf",null==n.isCurrency)}}function C(e,i){if(1&e&&(p.Qb(0,"tr",27),p.Hc(1,D,3,5,"td",28),p.Pb()),2&e){var n=i.columns,t=i.rowIndex;p.ic("pSelectableRow",i.$implicit)("pSelectableRowIndex",t),p.xb(1),p.ic("ngForOf",n)}}var J,j,T,I=function(){return[5,10,25,50]},S=[{path:"",component:(J=function(){function i(n,t,a,o,l,b,r,c,p){e(this,i),this.apiService=n,this.authService=t,this.confirmationService=a,this.messageService=o,this.cacheHelper=l,this.dateHelper=b,this.alertService=r,this.route=c,this.router=p,this.item={pasien:{}}}return n(i,[{key:"ngAfterViewInit",value:function(){var e=this;this.route.params.subscribe(function(i){e.currentNorecPD=i.norec_rp,e.norec_pd=i.norec_rp,e.loadHead(),e.loadDetail()})}},{key:"ngOnInit",value:function(){this.column=[{field:"no",header:"No",width:"65px"},{field:"tglTransaksi",header:"Tgl Bayar",width:"140px"},{field:"jumlahDeposit",header:"Jumlah",width:"180px",isCurrency:!0}]}},{key:"formatRupiah",value:function(e,i){return i+" "+parseFloat(e).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}},{key:"loadHead",value:function(){var e=this;this.apiService.get("general/get-pasien-byregistrasiruangan-general?norec_pd="+this.currentNorecPD).subscribe(function(i){i.tgllahir=r(new Date(i.tgllahir)).format("YYYY-MM-DD"),i.umur=e.dateHelper.getUmur(new Date(i.tgllahir),new Date),e.h.item.pasien=i,e.item.pasien=i})}},{key:"loadDetail",value:function(){var e=this;this.apiService.get("kasir/detail-pasien-deposit/"+this.norec_pd).subscribe(function(i){for(var n=i.detailDeposit,t=0,a=0;a<n.length;a++){var o=n[a];o.no=a+1,t=parseFloat(o.jumlahDeposit)+t}e.dataTable=n,e.item.totalDeposit=e.formatRupiah(t,"Rp."),e.jumlahDepositMasuk=t})}},{key:"Batal",value:function(){this.item.jumlahDeposit=void 0}},{key:"Kembali",value:function(){window.history.back()}},{key:"changeNominal",value:function(e){var i=this;null!=e&&""!=e&&this.apiService.get("sysadmin/general/get-terbilang/"+parseFloat(e)).subscribe(function(e){i.item.terbilang=e.terbilang})}},{key:"kembalianDeposit",value:function(){parseFloat(this.item.jumlahDeposit)<0?this.alertService.warn("Info","Nilai tidak boleh negatif!"):this.item.jumlahDeposit>this.jumlahDepositMasuk?this.alertService.warn("Info","Jumlah kembali tidak boleh lebih dari total deposit!"):(this.item.jumlahDeposit=-1*parseFloat(this.item.jumlahDeposit),this.router.navigate(["bayar-tagihan-pasien",this.norec_pd,"depositPasien",this.item.jumlahDeposit]))}},{key:"bayarDeposit",value:function(){parseFloat(this.item.jumlahDeposit)<0?alert("Nilai tidak boleh negatif!"):this.router.navigate(["bayar-tagihan-pasien",this.norec_pd,"PenyetoranDepositKasirKembali",this.item.jumlahDeposit])}},{key:"onRowSelect",value:function(e){}}]),i}(),J.\u0275fac=function(e){return new(e||J)(p.Jb(s.a),p.Jb(s.b),p.Jb(b.a),p.Jb(b.h),p.Jb(u.a),p.Jb(d.a),p.Jb(g.a),p.Jb(l.a),p.Jb(l.f))},J.\u0275cmp=p.Db({type:J,selectors:[["app-penyetoran-deposit"]],viewQuery:function(e,i){var n;1&e&&p.Nc(c.a,!0),2&e&&p.vc(n=p.Zb())&&(i.h=n.first)},features:[p.wb([b.a])],decls:48,vars:15,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-6",2,"margin-top","7px"],[1,"p-col-12","p-md-6"],["header","Detail",3,"toggleable"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange","onRowSelect"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"p-col-12","p-md-8"],[1,"p-col-12","p-md-4"],["for","input"],["type","text","pInputText","","placeholder","Total Deposit",3,"ngModel","ngModelChange"],["header","Jumlah Deposit",3,"toggleable"],["type","text","pInputText","","placeholder","Terbilang",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Jumlah Deposit",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-3",2,"margin-top","15px"],["pButton","","type","submit","icon","fa fa-ban","pTooltip","Batal","label","Batal",3,"click"],["pButton","","type","submit","icon","fa fa-money","pTooltip","Kembalian Deposit","label","Kembalian Deposit",3,"click"],["pButton","","type","submit","icon","fa fa-money","pTooltip","Bayar Deposit","label","Bayar Deposit",3,"click"],["pButton","","type","submit","icon","fa fa-undo","pTooltip","Kembali","label","Kembali",2,"background-color","red",3,"click"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,i){1&e&&(p.Lb(0,"p-confirmDialog",0),p.Qb(1,"div",1),p.Qb(2,"div",2),p.Qb(3,"h4"),p.Jc(4,"Penyetoran Deposit Pasien"),p.Pb(),p.Qb(5,"div",3),p.Qb(6,"div",4),p.Qb(7,"div",5),p.Qb(8,"div",4),p.Lb(9,"app-head-pasien"),p.Pb(),p.Pb(),p.Qb(10,"div",6),p.Qb(11,"div",3),p.Qb(12,"div",4),p.Qb(13,"div",3),p.Qb(14,"div",4),p.Qb(15,"p-panel",7),p.Qb(16,"div",3),p.Qb(17,"div",4),p.Qb(18,"p-table",8,9),p.Yb("selectionChange",function(e){return i.selected=e})("onRowSelect",function(e){return i.onRowSelect(e)}),p.Hc(20,M,2,1,"ng-template",10),p.Hc(21,C,2,3,"ng-template",11),p.Pb(),p.Pb(),p.Pb(),p.Qb(22,"div",3),p.Qb(23,"div",4),p.Lb(24,"div",12),p.Qb(25,"div",13),p.Qb(26,"label",14),p.Jc(27,"Total"),p.Pb(),p.Qb(28,"input",15),p.Yb("ngModelChange",function(e){return i.item.totalDeposit=e}),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(29,"div",3),p.Qb(30,"div",4),p.Qb(31,"div",3),p.Qb(32,"p-panel",16),p.Qb(33,"div",4),p.Qb(34,"div",6),p.Qb(35,"input",17),p.Yb("ngModelChange",function(e){return i.item.terbilang=e}),p.Pb(),p.Pb(),p.Qb(36,"div",6),p.Qb(37,"input",18),p.Yb("ngModelChange",function(e){return i.item.jumlahDeposit=e})("ngModelChange",function(){return i.changeNominal(i.item.jumlahDeposit)}),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(38,"div",3),p.Qb(39,"div",4),p.Qb(40,"div",19),p.Qb(41,"button",20),p.Yb("click",function(){return i.Batal()}),p.Pb(),p.Pb(),p.Qb(42,"div",19),p.Qb(43,"button",21),p.Yb("click",function(){return i.kembalianDeposit()}),p.Pb(),p.Pb(),p.Qb(44,"div",19),p.Qb(45,"button",22),p.Yb("click",function(){return i.bayarDeposit()}),p.Pb(),p.Pb(),p.Qb(46,"div",19),p.Qb(47,"button",23),p.Yb("click",function(){return i.Kembali()}),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb()),2&e&&(p.xb(15),p.ic("toggleable",!0),p.xb(3),p.ic("columns",i.column)("value",i.dataTable)("selection",i.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",p.mc(14,I))("paginator",!0)("pageLinks",5),p.xb(10),p.ic("ngModel",i.item.totalDeposit),p.xb(4),p.ic("toggleable",!0),p.xb(3),p.ic("ngModel",i.item.terbilang),p.xb(2),p.ic("ngModel",i.item.jumlahDeposit))},directives:[m.a,c.a,h.a,f.h,b.k,P.a,v.a,P.g,P.h,Q.b,y.a,o.k,f.g,f.f,f.e,o.l],styles:[""]}),J)}],Y=((j=function i(){e(this,i)}).\u0275mod=p.Hb({type:j}),j.\u0275inj=p.Gb({factory:function(e){return new(e||j)},imports:[[l.j.forChild(S)],l.j]}),j),R=a("PCNd"),H=((T=function i(){e(this,i)}).\u0275mod=p.Hb({type:T}),T.\u0275inj=p.Gb({factory:function(e){return new(e||T)},imports:[[o.b,Y,R.a]]}),T)}}])}();