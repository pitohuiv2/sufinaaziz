!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{jnCc:function(i,a,n){"use strict";n.r(a),n.d(a,"OrderRadModule",function(){return xe});var r=n("ofXK"),l=n("tyNb"),o=n("wd/R"),c=n("fXoL"),b=n("By0h"),s=n("EJUL"),d=n("7zfz"),p=n("U+s4"),u=n("G0w9"),g=n("ujBT"),h=n("/RsI"),f=n("3Pt+"),m=n("7kUa"),v=n("zFJ7"),k=n("7CaW"),P=n("rEr+"),y=n("eO1q"),x=n("arFO"),Q=n("Ji6n"),w=n("jIHw"),C=n("xlun"),S=n("hYoW"),M=n("jeV5"),j=n("lUkA"),R=n("Q4Mo"),H=n("PU9F"),T=function(){return{width:"100%"}};function F(e,t){if(1&e&&(c.Qb(0,"div",48),c.Lb(1,"p-tag",49),c.Pb()),2&e){var i=t.$implicit;c.xb(1),c.Ec(c.mc(3,T)),c.jc("value",i.namaproduk)}}function O(e,t){if(1&e){var i=c.Sb();c.Qb(0,"p-panel",44),c.Qb(1,"div",4),c.Hc(2,F,2,4,"div",45),c.Pb(),c.Qb(3,"div",4),c.Qb(4,"div",46),c.Qb(5,"button",47),c.Yb("click",function(){return c.yc(i),c.bc(2).clearSelection()}),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&e){var a=c.bc(2);c.ic("toggleable",!0),c.xb(2),c.ic("ngForOf",a.listChecked),c.xb(3),c.ic("disabled",a.isSimpan)}}function I(e,t){1&e&&c.Lb(0,"p-skeleton",53),2&e&&c.jc("styleClass",t.$implicit.class)}function J(e,t){if(1&e&&(c.Qb(0,"div"),c.Hc(1,I,1,1,"p-skeleton",52),c.Pb()),2&e){var i=t.$implicit;c.zb(i.class),c.xb(1),c.ic("ngForOf",i.details)}}function L(e,t){if(1&e&&(c.Qb(0,"div",4),c.Hc(1,J,2,4,"div",51),c.Pb()),2&e){var i=t.$implicit;c.xb(1),c.ic("ngForOf",i.details)}}function D(e,t){if(1&e&&(c.Qb(0,"div",8),c.Hc(1,L,2,1,"div",50),c.Pb()),2&e){var i=c.bc(2);c.xb(1),c.ic("ngForOf",i.skeleton)}}function Y(e,t){if(1&e){var i=c.Sb();c.Qb(0,"div",61),c.Qb(1,"p-checkbox",62),c.Yb("ngModelChange",function(e){c.yc(i);var a=t.$implicit;return c.bc(4).item.layanan[a.id]=e})("onChange",function(){return c.yc(i),c.bc(4).getSelected()}),c.Pb(),c.Qb(2,"label",63),c.Jc(3),c.Pb(),c.Pb()}if(2&e){var a=t.$implicit,n=c.bc(4);c.xb(1),c.jc("inputId",a.id),c.ic("ngModel",n.item.layanan[a.id]),c.xb(1),c.jc("for",a.id),c.xb(1),c.Lc(" ",a.namaproduk,"")}}function $(e,t){if(1&e&&(c.Qb(0,"div",56),c.Qb(1,"p-divider",57),c.Qb(2,"div",58),c.Lb(3,"i",59),c.Qb(4,"b"),c.Jc(5),c.Pb(),c.Pb(),c.Pb(),c.Qb(6,"div",4),c.Hc(7,Y,4,4,"div",60),c.cc(8,"filter"),c.Pb(),c.Pb()),2&e){var i=t.$implicit,a=c.bc(3);c.xb(5),c.Kc(i.detailjenisproduk),c.xb(2),c.ic("ngForOf",c.ec(8,2,i.details,a.searchText))}}function _(e,t){if(1&e&&(c.Qb(0,"div",54),c.Hc(1,$,9,5,"div",55),c.Pb()),2&e){var i=c.bc(2);c.xb(1),c.ic("ngForOf",i.listProdukCek)}}function E(e,t){if(1&e){var i=c.Sb();c.Qb(0,"div",4),c.Qb(1,"div",8),c.Qb(2,"p-panel",20),c.Qb(3,"div",4),c.Qb(4,"div",8),c.Qb(5,"div",4),c.Qb(6,"div",21),c.Qb(7,"label",6),c.Jc(8,"Tgl Order "),c.Pb(),c.Qb(9,"p-calendar",22),c.Yb("ngModelChange",function(e){return c.yc(i),c.bc().item.tglPelayanan=e}),c.Pb(),c.Pb(),c.Qb(10,"div",21),c.Qb(11,"label",6),c.Jc(12,"Ruangan Asal "),c.Pb(),c.Qb(13,"input",23),c.Yb("ngModelChange",function(e){return c.yc(i),c.bc().item.ruanganAsal=e}),c.Pb(),c.Pb(),c.Qb(14,"div",21),c.Qb(15,"label",6),c.Jc(16,"Ruangan Tujuan "),c.Pb(),c.Qb(17,"p-dropdown",24),c.Yb("ngModelChange",function(e){return c.yc(i),c.bc().item.ruangantujuan=e})("onChange",function(){c.yc(i);var e=c.bc();return e.getProduk(e.item.ruangantujuan)}),c.Pb(),c.Pb(),c.Qb(18,"div",21),c.Qb(19,"label",6),c.Jc(20,"Keterangan "),c.Pb(),c.Qb(21,"input",25),c.Yb("ngModelChange",function(e){return c.yc(i),c.bc().item.keterangan=e}),c.Pb(),c.Pb(),c.Qb(22,"div",21),c.Qb(23,"div",4),c.Qb(24,"div",5),c.Qb(25,"p-checkbox",26),c.Yb("ngModelChange",function(e){return c.yc(i),c.bc().item.iscito=e}),c.Pb(),c.Qb(26,"label",27),c.Jc(27," Cito"),c.Pb(),c.Pb(),c.Qb(28,"div",5),c.Qb(29,"p-checkbox",28),c.Yb("ngModelChange",function(e){return c.yc(i),c.bc().item.paket=e})("onChange",function(){c.yc(i);var e=c.bc();return e.cekPaket(e.item.paket)}),c.Pb(),c.Qb(30,"label",29),c.Jc(31," Paket"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Lb(32,"div",4),c.Pb(),c.Pb(),c.Qb(33,"div",4),c.Qb(34,"div",30),c.Hc(35,O,6,3,"p-panel",31),c.Pb(),c.Pb(),c.Qb(36,"div",4),c.Qb(37,"div",32),c.Qb(38,"span",33),c.Lb(39,"i",34),c.Qb(40,"input",35),c.Yb("ngModelChange",function(e){return c.yc(i),c.bc().searchText=e}),c.Pb(),c.Pb(),c.Pb(),c.Qb(41,"div",36),c.Qb(42,"button",37),c.Yb("click",function(){return c.yc(i),c.bc().clearFilter()}),c.Pb(),c.Pb(),c.Qb(43,"div",38),c.Qb(44,"button",39),c.Yb("click",function(){return c.yc(i),c.bc().save()}),c.Pb(),c.Pb(),c.Qb(45,"div",36),c.Qb(46,"button",40),c.Yb("click",function(){return c.yc(i),c.bc().batal()}),c.Pb(),c.Pb(),c.Qb(47,"div",36),c.Qb(48,"button",41),c.Yb("click",function(){return c.yc(i),c.bc().riwayat()}),c.Pb(),c.Pb(),c.Hc(49,D,2,1,"div",42),c.Hc(50,_,2,1,"div",43),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&e){var a=c.bc();c.xb(2),c.ic("toggleable",!0),c.xb(7),c.ic("ngModel",a.item.tglPelayanan)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("maxDate",a.maxDateValue),c.xb(4),c.ic("ngModel",a.item.ruanganAsal),c.xb(4),c.ic("options",a.listRuanganTujuan)("ngModel",a.item.ruangantujuan)("filter",!0)("showClear",!0),c.xb(4),c.ic("ngModel",a.item.keterangan),c.xb(4),c.ic("ngModel",a.item.iscito),c.xb(4),c.ic("ngModel",a.item.paket),c.xb(6),c.ic("ngIf",a.listChecked.length>0),c.xb(5),c.ic("ngModel",a.searchText),c.xb(4),c.ic("disabled",a.isSimpan),c.xb(5),c.ic("ngIf",0==a.listProdukCek.length),c.xb(1),c.ic("ngIf",a.listProdukCek.length>0)}}function B(e,t){if(1&e){var i=c.Sb();c.Qb(0,"div",68),c.Qb(1,"div",21),c.Qb(2,"span",33),c.Lb(3,"i",34),c.Qb(4,"input",69),c.Yb("input",function(e){return c.yc(i),c.bc(),c.wc(6).filterGlobal(e.target.value,"contains")}),c.Pb(),c.Pb(),c.Pb(),c.Pb()}}function K(e,t){if(1&e&&(c.Qb(0,"th",72),c.Jc(1),c.Lb(2,"p-sortIcon",73),c.Pb()),2&e){var i=t.$implicit;c.Fc("width: ",i.width,""),c.jc("pSortableColumn",i.field),c.xb(1),c.Lc(" ",i.header," "),c.xb(1),c.jc("field",i.field)}}function N(e,t){if(1&e&&(c.Qb(0,"tr"),c.Lb(1,"th",70),c.Hc(2,K,3,6,"th",71),c.Pb()),2&e){var i=t.$implicit;c.xb(2),c.ic("ngForOf",i)}}function z(e,t){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){var i=c.bc().$implicit,a=c.bc().$implicit,n=c.bc(2);c.xb(1),c.Lc(" ",n.formatRupiah(a[i.field],""),"")}}function A(e,t){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){var i=c.bc().$implicit,a=c.bc().$implicit;c.xb(1),c.Lc(" ",a[i.field],"")}}function U(e,t){if(1&e&&(c.Qb(0,"td"),c.Hc(1,z,2,1,"span",77),c.Hc(2,A,2,1,"span",77),c.Pb()),2&e){var i=t.$implicit;c.Fc("width: ",i.width,""),c.xb(1),c.ic("ngIf",null!=i.isCurrency),c.xb(1),c.ic("ngIf",null==i.isCurrency)}}function G(e,t){if(1&e){var i=c.Sb();c.Qb(0,"tr"),c.Qb(1,"td",70),c.Lb(2,"button",74),c.Qb(3,"button",75),c.Yb("click",function(){c.yc(i);var e=t.$implicit;return c.bc(2).hapusD(e)}),c.Pb(),c.Pb(),c.Hc(4,U,3,5,"td",76),c.Pb()}if(2&e){var a=t.$implicit,n=t.columns,r=t.expanded;c.xb(2),c.ic("pRowToggler",a)("icon",r?"pi pi-chevron-down":"pi pi-chevron-right"),c.xb(2),c.ic("ngForOf",n)}}function q(e,t){1&e&&(c.Qb(0,"tr"),c.Lb(1,"th",70),c.Qb(2,"th"),c.Jc(3,"Nama Layanan"),c.Pb(),c.Qb(4,"th"),c.Jc(5,"Jumlah"),c.Pb(),c.Qb(6,"th"),c.Jc(7,"Expertise"),c.Pb(),c.Pb())}function V(e,t){if(1&e){var i=c.Sb();c.Qb(0,"tr"),c.Qb(1,"td",70),c.Qb(2,"button",81),c.Yb("click",function(){c.yc(i);var e=t.$implicit;return c.bc(3).lihatHasil(e)}),c.Pb(),c.Qb(3,"button",82),c.Yb("click",function(){c.yc(i);var e=t.$implicit;return c.bc(3).expertise(e)}),c.Pb(),c.Pb(),c.Qb(4,"td"),c.Jc(5),c.Pb(),c.Qb(6,"td"),c.Jc(7),c.Pb(),c.Qb(8,"td"),c.Jc(9),c.Pb(),c.Pb()}if(2&e){var a=t.$implicit;c.xb(5),c.Kc(a.namaproduk),c.xb(2),c.Kc(a.qtyproduk),c.xb(2),c.Kc(a.expertise)}}function W(e,t){if(1&e&&(c.Qb(0,"tr"),c.Qb(1,"td",78),c.Qb(2,"div",79),c.Qb(3,"p-table",80),c.Hc(4,q,8,0,"ng-template",17),c.Hc(5,V,10,3,"ng-template",18),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e){var i=t.$implicit;c.xb(3),c.ic("value",i.details)}}var X=function(){return[5,10,25,50]},Z=function(){return["namaPelayanan"]};function ee(e,t){if(1&e){var i=c.Sb();c.Qb(0,"div",4),c.Qb(1,"div",8),c.Qb(2,"p-panel",64),c.Qb(3,"div",4),c.Qb(4,"div",8),c.Qb(5,"p-table",65,66),c.Yb("selectionChange",function(e){return c.yc(i),c.bc().selectedData=e}),c.Hc(7,B,5,0,"ng-template",16),c.Hc(8,N,3,1,"ng-template",17),c.Hc(9,G,5,3,"ng-template",18),c.Hc(10,W,6,1,"ng-template",19),c.Pb(),c.Pb(),c.Pb(),c.Qb(11,"div",4),c.Qb(12,"div",46),c.Qb(13,"button",67),c.Yb("click",function(){return c.yc(i),c.bc().order()}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&e){var a=c.bc();c.xb(2),c.ic("toggleable",!0),c.xb(3),c.ic("columns",a.columnRiwayat)("value",a.dataSourceRiwayat)("selection",a.selectedData)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",c.mc(11,X))("paginator",!0)("pageLinks",5)("globalFilterFields",c.mc(12,Z))}}function te(e,t){if(1&e){var i=c.Sb();c.Qb(0,"p-button",83),c.Yb("click",function(){return c.yc(i),c.bc().pop_expertise=!1}),c.Pb()}}function ie(e,t){if(1&e){var i=c.Sb();c.Qb(0,"div",68),c.Qb(1,"div",8),c.Qb(2,"span",33),c.Lb(3,"i",34),c.Qb(4,"input",69),c.Yb("input",function(e){return c.yc(i),c.bc(),c.wc(29).filterGlobal(e.target.value,"contains")}),c.Pb(),c.Pb(),c.Pb(),c.Pb()}}function ae(e,t){if(1&e&&(c.Qb(0,"th",72),c.Jc(1),c.Lb(2,"p-sortIcon",73),c.Pb()),2&e){var i=t.$implicit;c.Fc("width: ",i.width,""),c.jc("pSortableColumn",i.field),c.xb(1),c.Lc(" ",i.header," "),c.xb(1),c.jc("field",i.field)}}function ne(e,t){if(1&e&&(c.Qb(0,"tr"),c.Lb(1,"th",70),c.Hc(2,ae,3,6,"th",71),c.Pb()),2&e){var i=t.$implicit;c.xb(2),c.ic("ngForOf",i)}}function re(e,t){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){var i=c.bc().$implicit,a=c.bc().$implicit,n=c.bc();c.xb(1),c.Lc(" ",n.formatRupiah(a[i.field],""),"")}}function le(e,t){if(1&e&&(c.Qb(0,"span"),c.Jc(1),c.Pb()),2&e){var i=c.bc().$implicit,a=c.bc().$implicit;c.xb(1),c.Lc(" ",a[i.field],"")}}function oe(e,t){if(1&e&&(c.Qb(0,"td"),c.Hc(1,re,2,1,"span",77),c.Hc(2,le,2,1,"span",77),c.Pb()),2&e){var i=t.$implicit;c.Fc("width: ",i.width,""),c.xb(1),c.ic("ngIf",null!=i.isCurrency),c.xb(1),c.ic("ngIf",null==i.isCurrency)}}function ce(e,t){if(1&e){var i=c.Sb();c.Qb(0,"tr"),c.Qb(1,"td",70),c.Lb(2,"button",74),c.Qb(3,"button",84),c.Yb("click",function(){c.yc(i);var e=t.$implicit;return c.bc().addPaket(e)}),c.Pb(),c.Pb(),c.Hc(4,oe,3,5,"td",76),c.Pb()}if(2&e){var a=t.$implicit,n=t.columns,r=t.expanded;c.xb(2),c.ic("pRowToggler",a)("icon",r?"pi pi-chevron-down":"pi pi-chevron-right"),c.xb(2),c.ic("ngForOf",n)}}function be(e,t){1&e&&(c.Qb(0,"tr"),c.Qb(1,"th"),c.Jc(2,"Nama Layanan"),c.Pb(),c.Pb())}function se(e,t){if(1&e&&(c.Qb(0,"tr"),c.Qb(1,"td"),c.Jc(2),c.Pb(),c.Pb()),2&e){var i=t.$implicit;c.xb(2),c.Kc(i.namaproduk)}}function de(e,t){if(1&e&&(c.Qb(0,"tr"),c.Qb(1,"td",85),c.Qb(2,"div",79),c.Qb(3,"p-table",80),c.Hc(4,be,3,0,"ng-template",17),c.Hc(5,se,3,1,"ng-template",18),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e){var i=t.$implicit;c.xb(3),c.ic("value",i.details)}}function pe(e,t){if(1&e){var i=c.Sb();c.Qb(0,"p-button",83),c.Yb("click",function(){return c.yc(i),c.bc().closePaket()}),c.Pb()}}var ue,ge,he,fe=function(){return{width:"450px",minWidth:"450px"}},me=function(){return{width:"600px",minWidth:"600px"}},ve=function(){return["namapaket"]},ke=[{path:"",component:(ue=function(){function i(t,a,n,r,l,o,c,b,s){e(this,i),this.rekamMedis=t,this.apiService=a,this.authService=n,this.confirmationService=r,this.cacheHelper=l,this.dateHelper=o,this.alertService=c,this.activeRoute=b,this.router=s,this.item={tglPelayanan:new Date,layanan:[]},this.listProdukCek=[],this.produkDef=[],this.listRuanganTujuan=[],this.skeleton=[],this.searchText="",this.selected_count=0,this.selected_games=[],this.listChecked=[],this.dataSourceRiwayat=[]}var a,n,r;return a=i,(n=[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnInit",value:function(){var e=this;this.skeleton=this.loadSkeleton(),this.item.idPegawaiLogin=this.authService.getDataLoginUser().pegawai.id,this.apiService.get("emr/get-combo-penunjang?departemenfk=kdDepartemenRad").subscribe(function(t){e.item.ruanganAsal=e.rekamMedis.header.namaruangan,e.item.namaRuangan=e.rekamMedis.header.namaruangan,e.listRuanganTujuan=t.ruangantujuan,e.item.ruangantujuan={id:t.ruangantujuan[0].id,namaruangan:t.ruangantujuan[0].namaruangan,instalasiidfk:t.ruangantujuan[0].instalasiidfk},e.getProduk(e.item.ruangantujuan)}),this.columnRiwayat=[{field:"noregistrasi",header:"No Registrasi",width:"100px"},{field:"tglorder",header:"Tgl Order",width:"100px"},{field:"noorder",header:"No Order",width:"100px"},{field:"dokter",header:"Dokter",width:"150px"},{field:"namaruanganasal",header:"Ruangan Asal",width:"150px"},{field:"namaruangantujuan",header:"Ruangan",width:"150px"},{field:"keteranganlainnya",header:"Keterangan",width:"150px"},{field:"statusorder",header:"Status",width:"70px"},{field:"cito",header:"Cito",width:"70px"}],this.columnPaket=[{field:"namapaket",header:"Nama Paket",width:"120px"},{field:"jml",header:"Jumlah",width:"80px"}]}},{key:"getProduk",value:function(e){var t=this;this.listProdukCek=[],this.item.layanan=[],this.produkDef=[],null!=e&&this.apiService.get("sysadmin/general/get-tindakan-with-details?idRuangan="+e.id+"&idKelas="+this.rekamMedis.header.objectkelasfk+"&idJenisPelayanan="+this.rekamMedis.header.jenispelayanan+"&isLabRad=true").subscribe(function(e){t.listProdukCek=e.details,t.produkDef=e.data})}},{key:"getSelected",value:function(){if(this.item.layanan.length>0)for(var e=Object.keys(this.item.layanan),t=0;t<e.length;t++){var i=e[t];if(1==this.item.layanan[parseInt(i)])for(var a=0;a<this.produkDef.length;a++){var n=this.produkDef[a];if(n.id==i){for(var r=0;r<this.listChecked.length;r++)this.listChecked[r].namaproduk==n.namaproduk&&this.listChecked.splice(r,1);this.listChecked.push({namaproduk:n.namaproduk})}}else for(a=0;a<this.produkDef.length;a++){var l=this.produkDef[a];if(l.id==i)for(r=0;r<this.listChecked.length;r++)this.listChecked[r].namaproduk==l.namaproduk&&this.listChecked.splice(r,1)}}}},{key:"clearFilter",value:function(){this.searchText=""}},{key:"save",value:function(){var e=this;if(null!=this.item.ruangantujuan)if(null!=this.item.tglPelayanan)if(null!=this.item.layanan&&0!=this.item.layanan.length){for(var t=Object.keys(this.item.layanan),i=[],a=t.length-1;a>=0;a--)1==this.item.layanan[parseInt(t[a])]&&i.push({no:a+1,produkfk:t[a],namaproduk:t[a],qtyproduk:1,objectruanganfk:this.rekamMedis.header.objectruanganfk,objectruangantujuanfk:this.item.ruangantujuan.id,pemeriksaanluar:1==this.item.pemeriksaanKeluar?1:0,iscito:null!=this.item.iscito&&1==this.item.iscito&&this.item.iscito,objectkelasfk:this.rekamMedis.header.objectkelasfk,nourut:null});if(0!=i.length){var n={tanggal:o(this.item.tglPelayanan).format("YYYY-MM-DD HH:mm:ss"),norec_so:"",norec_apd:this.rekamMedis.header.norec_apd,norec_pd:this.rekamMedis.header.norec_pd,qtyproduk:i.length,objectruanganfk:this.rekamMedis.header.objectruanganfk,objectruangantujuanfk:this.item.ruangantujuan.id,departemenfk:this.item.ruangantujuan.instalasiidfk,pegawaiorderfk:this.item.idPegawaiLogin,keterangan:null!=this.item.keterangan?this.item.keterangan:null,iscito:null!=this.item.iscito&&1==this.item.iscito&&this.item.iscito,details:i};this.isSimpan=!0,this.apiService.post("emr/save-order-pelayanan",n).subscribe(function(t){e.item.layanan=[],e.isSimpan=!1,e.apiService.postLog("Order Radiologi","Norec strukorder_t",t.strukorder.norec,"Order Radiologi No Order - "+t.strukorder.noorder+" dengan No Registrasi "+e.item.noregistrasi).subscribe(function(e){}),e.batal()},function(t){e.isSimpan=!1})}else this.alertService.warn("Info","Pilih Pelayanan dulu")}else this.alertService.warn("Info","Pilih layanan terlebih dahulu!!");else this.alertService.warn("Info","Pilih Tgl Order  terlebih dahulu!!");else this.alertService.warn("Info","Pilih Ruangan Tujuan terlebih dahulu!!")}},{key:"batal",value:function(){for(var e=Object.keys(this.item.layanan),t=e.length-1;t>=0;t--)this.item.layanan[parseInt(e[t])]=!1;this.listChecked=[],delete this.item.keterangan}},{key:"onRowSelect",value:function(e){}},{key:"hapusD",value:function(e){var t=this;"SELESAI"!=e.status?this.apiService.post("emr/delete-order-pelayanan",{norec_order:e.norec}).subscribe(function(e){t.loadRiwayat("noregistrasi="+t.rekamMedis.header.noregistrasi)}):this.alertService.warn("Info","Status Sudah Selesai tidak bisa di hapus")}},{key:"order",value:function(){this.isRiwayat=!1,this.batal(),this.getProduk(this.item.ruangantujuan)}},{key:"riwayat",value:function(){this.isRiwayat=!0,this.loadRiwayat("noregistrasi="+this.rekamMedis.header.noregistrasi)}},{key:"loadRiwayat",value:function(e){var t=this;this.apiService.get("emr/get-riwayat-order-penunjang?"+e+"&setting=kdDepartemenRad").subscribe(function(e){for(var i=e.daftar.length-1;i>=0;i--){e.daftar[i].no=i+1,e.daftar[i].cito=1==e.daftar[i].cito?"\u2714":"\u2718";for(var a=e.daftar[i].details.length-1;a>=0;a--){var n=e.daftar[i].details[a];n.expertise=null!=n.norec_hr&&""!=n.norec_hr?"\u2714":"\u2718"}}t.dataSourceRiwayat=e.daftar})}},{key:"hapus",value:function(){var e=this;null!=this.selectedData?"Verifikasi"!=this.selectedData.status&&"Sudah diproses"!=this.selectedData.status?this.apiService.post("emr/delete-order-pelayanan",{norec_order:this.selectedData.norec}).subscribe(function(t){e.loadRiwayat("noregistrasi="+e.rekamMedis.header.noregistrasi)}):this.alertService.warn("Info","Status Sudah Selesai tidak bisa di hapus"):this.alertService.info("Info","Pilih data dulu")}},{key:"lihatHasil",value:function(e){}},{key:"expertise",value:function(e){var t=this;null!=e.norec_hr?(this.pop_expertise=!0,this.apiService.get("emr/get-expertise?norec="+e.norec_pp+"&produkfk="+e.id).subscribe(function(e){t.item.nofoto=e.data.nofoto,t.item.dokterExp=e.data.namalengkap,t.item.tglExp=e.data.tanggal,t.item.expertise=e.data.keterangan})):this.alertService.info("Info","Belum ada Expertise")}},{key:"cekPaket",value:function(e){var t=this;if(1==e){if(null==this.item.ruangantujuan)return void this.alertService.warn("Info","Pilih ruangan dulu");this.pop_paket=!0,this.apiService.get("general/get-paket-tindakan").subscribe(function(e){t.dataSourcePaket=e})}}},{key:"addPaket",value:function(e){for(var t=e.details,i=Object.keys(this.item.layanan),a=0;a<t.length;a++){var n=t[a];if(i.length>0)for(var r=0;r<i.length;r++)n.objectprodukfk!=i[r]&&(this.item.layanan[n.objectprodukfk]=!0);else this.item.layanan[n.objectprodukfk]=!0}this.getSelected(),this.pop_paket=!1}},{key:"closePaket",value:function(){this.pop_paket=!1,this.item.paket=!1}},{key:"clearSelection",value:function(){for(var e=Object.keys(this.item.layanan),t=0;t<e.length;t++)this.item.layanan[e[t]]=!1;this.getSelected()}},{key:"loadSkeleton",value:function(){return[{id:1,details:[{class:"p-col-2",details:[{class:"p-mb-0"}]}]},{id:2,details:[{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]}]},{id:3,details:[{class:"p-col-2",details:[{class:"p-mb-0"}]}]},{id:4,details:[{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]}]}]}}])&&t(a.prototype,n),r&&t(a,r),i}(),ue.\u0275fac=function(e){return new(e||ue)(c.Jb(b.a),c.Jb(s.a),c.Jb(s.b),c.Jb(d.a),c.Jb(p.a),c.Jb(u.a),c.Jb(g.a),c.Jb(l.a),c.Jb(l.f))},ue.\u0275cmp=c.Db({type:ue,selectors:[["app-order-rad"]],decls:35,vars:33,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],["class","p-grid",4,"ngIf"],["header","Expertise",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-grid"],[1,"p-col-12","p-md-6"],["for","input",1,"label"],["type","text","pInputText","","disabled","",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-12"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],["pTemplate","footer"],["header","Paket",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-fluid","p-grid"],["header","Detail Paket",3,"toggleable"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","id","selectionMode","single",3,"columns","value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["header","Detail Pemeriksaan",3,"toggleable"],[1,"p-col-12","p-md-3"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Pelayanan","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","ngModelChange"],["type","text","pInputText","","placeholder","Ruangan ","disabled","",3,"ngModel","ngModelChange"],["placeholder","Ruangan Tujuan","optionLabel","namaruangan","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["type","text","pInputText","","placeholder","Keterangan ",3,"ngModel","ngModelChange"],["binary","true","inputId","item.iscito",3,"ngModel","ngModelChange"],["for","item.iscito"],["binary","true","inputId","item.paket",3,"ngModel","ngModelChange","onChange"],["for","item.paket"],[1,"p-col-12"],["header","Detail Pemeriksaan Terpilih",3,"toggleable",4,"ngIf"],[1,"p-col-12","p-md-5"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filter",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-1"],["pButton","","type","button","icon","pi pi-times","pTooltip","Clear Filter",1,"p-button","p-button","p-mr-2",3,"click"],[1,"p-col-12","p-md-1","p-md-offset-3"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-arrow-right","pTooltip","Batal ","label","Batal",1,"p-button","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-list","pTooltip","Riwayat Order","label","Riwayat",1,"p-button","p-mr-2",3,"click"],["class","p-col-12 p-md-12",4,"ngIf"],["style","height: 600px;overflow: auto",4,"ngIf"],["header","Detail Pemeriksaan Terpilih",3,"toggleable"],["class","p-col-12 p-md-4",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-1","p-md-offset-11"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Semua Data Terpilih","label","Clear",1,"p-button","p-button-danger","p-mr-2",3,"disabled","click"],[1,"p-col-12","p-md-4"],["styleClass","p-mr-2","severity","warning",3,"value"],["class","p-grid",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],[3,"styleClass",4,"ngFor","ngForOf"],[3,"styleClass"],[2,"height","600px","overflow","auto"],["class","p-col-12 p-md-12","style","padding: 10px;",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-12",2,"padding","10px"],["align","left"],[1,"p-d-inline-flex","p-ai-center"],[1,"fa","fa-stethoscope","p-mr-2"],["class","p-col-12 p-md-4 p-field-checkbox",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-4","p-field-checkbox"],["binary","true",3,"ngModel","inputId","ngModelChange","onChange"],[3,"for"],["header","Detail Order",3,"toggleable"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],["pButton","","type","button","icon","pi pi-plus","pTooltip","Order Baru ","label","Order",1,"p-button","p-mr-2",3,"click"],[1,"table-header","p-grid"],["pInputText","","type","text","placeholder","Filter",3,"input"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-2",3,"pRowToggler","icon"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Order","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","10"],[1,"p-p-3"],["dataKey","id",3,"value"],["pButton","","type","button","icon","fa fa-heartbeat","pTooltip","Lihat Hasil","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["pButton","","type","button","icon","fa fa-sticky-note","pTooltip","Lihat Expertise","label","",1,"p-button-rounded","p-button","p-mr-2",3,"click"],["icon","pi pi-close","label","Tutup","styleClass","p-button-text",3,"click"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah Paket","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["colspan","3"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"h4"),c.Jc(3,"Order Radiologi"),c.Pb(),c.Hc(4,E,51,20,"div",2),c.Hc(5,ee,14,13,"div",2),c.Pb(),c.Qb(6,"p-dialog",3),c.Yb("visibleChange",function(e){return t.pop_expertise=e}),c.Qb(7,"div",0),c.Qb(8,"div",4),c.Qb(9,"div",5),c.Qb(10,"label",6),c.Jc(11,"Tgl Expertise"),c.Pb(),c.Qb(12,"input",7),c.Yb("ngModelChange",function(e){return t.item.tglExp=e}),c.Pb(),c.Pb(),c.Qb(13,"div",5),c.Qb(14,"label",6),c.Jc(15,"Dokter"),c.Pb(),c.Qb(16,"input",7),c.Yb("ngModelChange",function(e){return t.item.dokterExp=e}),c.Pb(),c.Pb(),c.Qb(17,"div",8),c.Qb(18,"label",6),c.Jc(19,"Keterangan"),c.Pb(),c.Qb(20,"textarea",9),c.Yb("ngModelChange",function(e){return t.item.expertise=e}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Hc(21,te,1,0,"ng-template",10),c.Pb(),c.Qb(22,"p-dialog",11),c.Yb("visibleChange",function(e){return t.pop_paket=e}),c.Qb(23,"div",12),c.Qb(24,"div",8),c.Qb(25,"p-panel",13),c.Qb(26,"div",4),c.Qb(27,"div",8),c.Qb(28,"p-table",14,15),c.Hc(30,ie,5,0,"ng-template",16),c.Hc(31,ne,3,1,"ng-template",17),c.Hc(32,ce,5,3,"ng-template",18),c.Hc(33,de,6,1,"ng-template",19),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Hc(34,pe,1,0,"ng-template",10),c.Pb(),c.Pb()),2&e&&(c.xb(4),c.ic("ngIf",!t.isRiwayat),c.xb(1),c.ic("ngIf",t.isRiwayat),c.xb(1),c.Ec(c.mc(29,fe)),c.ic("visible",t.pop_expertise)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),c.xb(6),c.ic("ngModel",t.item.tglExp),c.xb(4),c.ic("ngModel",t.item.dokterExp),c.xb(4),c.ic("ngModel",t.item.expertise),c.xb(2),c.Ec(c.mc(30,me)),c.ic("visible",t.pop_paket)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),c.xb(3),c.ic("toggleable",!0),c.xb(3),c.ic("columns",t.columnPaket)("value",t.dataSourcePaket)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",c.mc(31,X))("paginator",!0)("pageLinks",5)("globalFilterFields",c.mc(32,ve)))},directives:[r.l,h.a,f.a,m.a,f.g,f.h,v.a,d.k,k.a,P.h,y.a,x.a,Q.a,w.b,C.a,r.k,S.a,M.a,j.a,P.g,P.f,R.a,P.d,w.a],pipes:[H.a],styles:[".p-field-checkbox[_ngcontent-%COMP%], .p-field-radiobutton[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center}"]}),ue)}],Pe=((ge=function t(){e(this,t)}).\u0275mod=c.Hb({type:ge}),ge.\u0275inj=c.Gb({factory:function(e){return new(e||ge)},imports:[[l.j.forChild(ke)],l.j]}),ge),ye=n("PCNd"),xe=((he=function t(){e(this,t)}).\u0275mod=c.Hb({type:he}),he.\u0275inj=c.Gb({factory:function(e){return new(e||he)},imports:[[r.b,Pe,ye.a]]}),he)}}])}();