(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{yL3K:function(e,t,a){"use strict";a.r(t),a.d(t,"DaftarPasienBatalModule",function(){return D});var i=a("ofXK"),n=a("tyNb"),l=a("7zfz"),r=a("wd/R"),o=a("fXoL"),s=a("EJUL"),d=a("U+s4"),c=a("G0w9"),h=a("ujBT"),m=a("Nf9I"),b=a("eO1q"),p=a("3Pt+"),g=a("7kUa"),u=a("jIHw"),f=a("xlun"),w=a("rEr+");function P(e,t){if(1&e&&(o.Qb(0,"th",20),o.Jc(1),o.Lb(2,"p-sortIcon",21),o.Pb()),2&e){const e=t.$implicit;o.Fc("width: ",e.width,""),o.jc("pSortableColumn",e.field),o.xb(1),o.Lc(" ",e.header," "),o.xb(1),o.jc("field",e.field)}}function v(e,t){if(1&e&&(o.Qb(0,"tr"),o.Hc(1,P,3,6,"th",19),o.Pb()),2&e){const e=t.$implicit;o.xb(1),o.ic("ngForOf",e)}}function M(e,t){if(1&e&&(o.Qb(0,"td"),o.Jc(1),o.Pb()),2&e){const e=t.$implicit,a=o.bc().$implicit;o.Fc("width: ",e.width,""),o.xb(1),o.Lc(" ",a[e.field]," ")}}function k(e,t){if(1&e&&(o.Qb(0,"tr",22),o.Hc(1,M,2,4,"td",23),o.Pb()),2&e){const e=t.columns,a=t.rowIndex;o.ic("pSelectableRow",t.$implicit)("pSelectableRowIndex",a),o.xb(1),o.ic("ngForOf",e)}}const R=function(){return[5,10,25,50]},x=[{path:"",component:(()=>{class e{constructor(e,t,a,i,n,l,r,o,s){this.apiService=e,this.authService=t,this.confirmationService=a,this.messageService=i,this.cacheHelper=n,this.dateHelper=l,this.alertService=r,this.route=o,this.router=s,this.item={},this.listKriteria=[{name:"Semua",id:"1"},{name:"Masih Dirawat",id:"2"}]}ngOnInit(){this.dataLogin=this.authService.dataLoginUser,this.kelUser=this.dataLogin.kelompokUser.kelompokUser,this.dateNow=new Date,this.item.tglAwal=r(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=r(this.dateNow).format("YYYY-MM-DD 23:59"),this.item.jmlRows=50,this.column=[{field:"no",header:"No",width:"65px"},{field:"tanggalpembatalan",header:"Tgl Batal",width:"140px"},{field:"norm",header:"No RM",width:"80px"},{field:"noregistrasi",header:"Noregistrasi",width:"125px"},{field:"namapasien",header:"Nama Pasien",width:"250px"},{field:"namaruangan",header:"Ruangan",width:"180px"},{field:"name",header:"Pembatal",width:"180px"},{field:"namalengkap",header:"Pegawai",width:"250px"},{field:"alasanpembatalan",header:"Alasan",width:"200px"}],this.getDataCombo()}getDataCombo(){this.LoadCache()}LoadCache(){var e=this.cacheHelper.get("DaftarBatal");null!=e?(this.item.tglAwal=new Date(e[0]),this.item.tglAkhir=new Date(e[1]),this.item.status=e[2],this.item.namaOrReg=e[3],null!=e[6]&&(this.listDepartemen=[e[6]],this.item.dataDepartemen=e[6]),null!=e[5]&&(this.listRuangan=[e[5]],this.item.dataRuangan=e[5]),null!=e[4]&&""!=e[4]&&(this.item.noReg=e[4]),null!=e[7]&&""!=e[7]&&(this.item.noRm=e[7]),null!=e[8]&&""!=e[8]&&(this.item.jmlRows=e[8]),this.getData()):this.getData()}cari(){this.getData()}getData(){var e=r(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),t=r(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),a="",i=void 0;null!=this.item.ruangan&&(a=this.item.dataRuangan.id,i={id:this.item.dataRuangan.id,ruangan:this.item.dataRuangan.ruangan});var n="",l=void 0;null!=this.item.instalasi&&(n=this.item.dataDepartemen.id,l={id:this.item.dataDepartemen.id,departemen:this.item.dataDepartemen.departemen});var o="";null!=this.item.dataKelPasien&&(o=this.item.dataKelPasien.id);var s="";null!=this.item.noRM&&(s=this.item.noRM);var d="";null!=this.item.Noregistrasi&&(d=this.item.Noregistrasi);var c="";null!=this.item.namaPasien&&(c=this.item.namaPasien);var h="";null!=this.item.jmlRows&&(h=this.item.jmlRows);var m=!1;null!=this.item.isCanBalik&&(m=this.item.isCanBalik),this.cacheHelper.set("DaftarBatal",{0:e,1:t,2:void 0,3:c,4:d,5:i,6:l,7:s}),this.apiService.get("registrasi/get-daftar-pasienbatal?namaPasien="+c+"&ruanganId="+a+"&status=&tglAwal="+e+"&tglAkhir="+t+"&noReg="+d+"&instalasiId="+n+"&noRm="+s+"&jmlRows="+h+"&kelompokPasienId="+o+"&isCanBalik="+m).subscribe(e=>{for(let t=0;t<e.length;t++)e[t].no=t+1;this.dataTable=e})}onRowSelect(e){this.selected=e.data}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(s.a),o.Jb(s.b),o.Jb(l.a),o.Jb(l.h),o.Jb(d.a),o.Jb(c.a),o.Jb(h.a),o.Jb(n.a),o.Jb(n.f))},e.\u0275cmp=o.Db({type:e,selectors:[["app-daftar-pasien-batal"]],features:[o.wb([l.a])],decls:34,vars:25,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","disabled","ngModelChange"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","No RM",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Noregistrasi",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"style",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(o.Lb(0,"p-confirmDialog",0),o.Qb(1,"div",1),o.Qb(2,"div",2),o.Qb(3,"h4"),o.Jc(4,"Pembatalan Pasien"),o.Pb(),o.Qb(5,"div",3),o.Qb(6,"div",4),o.Qb(7,"div",5),o.Qb(8,"label",6),o.Jc(9,"Periode Awal"),o.Pb(),o.Qb(10,"p-calendar",7),o.Yb("ngModelChange",function(e){return t.item.tglAwal=e}),o.Pb(),o.Pb(),o.Qb(11,"div",5),o.Qb(12,"label",6),o.Jc(13,"Periode Akhir"),o.Pb(),o.Qb(14,"p-calendar",7),o.Yb("ngModelChange",function(e){return t.item.tglAkhir=e}),o.Pb(),o.Pb(),o.Qb(15,"div",8),o.Qb(16,"label",6),o.Jc(17,"No RM "),o.Pb(),o.Qb(18,"input",9),o.Yb("ngModelChange",function(e){return t.item.noRM=e})("keyup.enter",function(){return t.cari()}),o.Pb(),o.Pb(),o.Qb(19,"div",5),o.Qb(20,"label",6),o.Jc(21,"Noregistrasi"),o.Pb(),o.Qb(22,"input",10),o.Yb("ngModelChange",function(e){return t.item.Noregistrasi=e})("keyup.enter",function(){return t.cari()}),o.Pb(),o.Pb(),o.Qb(23,"div",5),o.Qb(24,"label",6),o.Jc(25,"Nama Pasien "),o.Pb(),o.Qb(26,"input",11),o.Yb("ngModelChange",function(e){return t.item.namaPasien=e})("keyup.enter",function(){return t.cari()}),o.Pb(),o.Pb(),o.Qb(27,"div",12),o.Qb(28,"button",13),o.Yb("click",function(){return t.cari()}),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(29,"div",14),o.Qb(30,"p-table",15,16),o.Yb("selectionChange",function(e){return t.selected=e}),o.Hc(32,v,2,1,"ng-template",17),o.Hc(33,k,2,3,"ng-template",18),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&e&&(o.xb(10),o.ic("ngModel",t.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("disabled",t.disableTgl),o.xb(4),o.ic("ngModel",t.item.tglAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("disabled",t.disableTgl),o.xb(4),o.ic("ngModel",t.item.noRM),o.xb(4),o.ic("ngModel",t.item.Noregistrasi),o.xb(4),o.ic("ngModel",t.item.namaPasien),o.xb(4),o.ic("columns",t.column)("value",t.dataTable)("selection",t.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",o.mc(24,R))("paginator",!0)("pageLinks",5))},directives:[m.a,b.a,p.g,p.h,p.a,g.a,u.b,f.a,w.h,l.k,i.k,w.g,w.f,w.e],styles:[""]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=o.Hb({type:e}),e.\u0275inj=o.Gb({factory:function(t){return new(t||e)},imports:[[n.j.forChild(x)],n.j]}),e})();var C=a("PCNd");let D=(()=>{class e{}return e.\u0275mod=o.Hb({type:e}),e.\u0275inj=o.Gb({factory:function(t){return new(t||e)},imports:[[i.b,y,C.a]]}),e})()}}]);