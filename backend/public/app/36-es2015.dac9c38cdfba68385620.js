(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{neii:function(t,e,i){"use strict";i.r(e),i.d(e,"OrderLabModule",function(){return ht});var a=i("ofXK"),n=i("tyNb"),l=i("wd/R"),o=i("fXoL"),c=i("By0h"),r=i("EJUL"),s=i("7zfz"),b=i("U+s4"),d=i("G0w9"),p=i("ujBT"),u=i("/RsI"),h=i("7CaW"),g=i("rEr+"),m=i("eO1q"),f=i("3Pt+"),k=i("7kUa"),P=i("arFO"),y=i("Ji6n"),v=i("jIHw"),Q=i("xlun"),x=i("hYoW"),w=i("jeV5"),C=i("lUkA"),S=i("Q4Mo"),j=i("PU9F");const M=function(){return{width:"100%"}};function H(t,e){if(1&t&&(o.Qb(0,"div",45),o.Lb(1,"p-tag",46),o.Pb()),2&t){const t=e.$implicit;o.xb(1),o.Ec(o.mc(3,M)),o.jc("value",t.namaproduk)}}function F(t,e){if(1&t){const t=o.Sb();o.Qb(0,"p-panel",41),o.Qb(1,"div",7),o.Hc(2,H,2,4,"div",42),o.Pb(),o.Qb(3,"div",7),o.Qb(4,"div",43),o.Qb(5,"button",44),o.Yb("click",function(){return o.yc(t),o.bc(2).clearSelection()}),o.Pb(),o.Pb(),o.Pb(),o.Pb()}if(2&t){const t=o.bc(2);o.kc("header","Detail Pemeriksaan Terpilih | Total : ",t.formatRupiah(t.totalHarga,""),""),o.ic("toggleable",!0),o.xb(2),o.ic("ngForOf",t.listChecked),o.xb(3),o.ic("disabled",t.isSimpan)}}function R(t,e){1&t&&o.Lb(0,"p-skeleton",50),2&t&&o.jc("styleClass",e.$implicit.class)}function O(t,e){if(1&t&&(o.Qb(0,"div"),o.Hc(1,R,1,1,"p-skeleton",49),o.Pb()),2&t){const t=e.$implicit;o.zb(t.class),o.xb(1),o.ic("ngForOf",t.details)}}function L(t,e){if(1&t&&(o.Qb(0,"div",7),o.Hc(1,O,2,4,"div",48),o.Pb()),2&t){const t=e.$implicit;o.xb(1),o.ic("ngForOf",t.details)}}function T(t,e){if(1&t&&(o.Qb(0,"div",5),o.Hc(1,L,2,1,"div",47),o.Pb()),2&t){const t=o.bc(2);o.xb(1),o.ic("ngForOf",t.skeleton)}}function I(t,e){if(1&t){const t=o.Sb();o.Qb(0,"div",58),o.Qb(1,"p-checkbox",59),o.Yb("ngModelChange",function(i){o.yc(t);const a=e.$implicit;return o.bc(4).item.layanan[a.id]=i})("onChange",function(){return o.yc(t),o.bc(4).getSelected()}),o.Pb(),o.Qb(2,"label",60),o.Jc(3),o.Pb(),o.Pb()}if(2&t){const t=e.$implicit,i=o.bc(4);o.xb(1),o.jc("inputId",t.id),o.ic("ngModel",i.item.layanan[t.id]),o.xb(1),o.jc("for",t.id),o.xb(1),o.Lc(" ",t.namaproduk,"")}}function J(t,e){if(1&t&&(o.Qb(0,"div",53),o.Qb(1,"p-divider",54),o.Qb(2,"div",55),o.Lb(3,"i",56),o.Qb(4,"b"),o.Jc(5),o.Pb(),o.Pb(),o.Pb(),o.Qb(6,"div",7),o.Hc(7,I,4,4,"div",57),o.cc(8,"filter"),o.Pb(),o.Pb()),2&t){const t=e.$implicit,i=o.bc(3);o.xb(5),o.Kc(t.detailjenisproduk),o.xb(2),o.ic("ngForOf",o.ec(8,2,t.details,i.searchText))}}function D(t,e){if(1&t&&(o.Qb(0,"div",51),o.Hc(1,J,9,5,"div",52),o.Pb()),2&t){const t=o.bc(2);o.xb(1),o.ic("ngForOf",t.listProdukCek)}}function $(t,e){if(1&t){const t=o.Sb();o.Qb(0,"div",7),o.Qb(1,"div",5),o.Qb(2,"p-panel",15),o.Qb(3,"div",7),o.Qb(4,"div",16),o.Qb(5,"label",17),o.Jc(6,"Tgl Order "),o.Pb(),o.Qb(7,"p-calendar",18),o.Yb("ngModelChange",function(e){return o.yc(t),o.bc().item.tglPelayanan=e}),o.Pb(),o.Pb(),o.Qb(8,"div",16),o.Qb(9,"label",17),o.Jc(10,"Ruangan Asal "),o.Pb(),o.Qb(11,"input",19),o.Yb("ngModelChange",function(e){return o.yc(t),o.bc().item.ruanganAsal=e}),o.Pb(),o.Pb(),o.Qb(12,"div",16),o.Qb(13,"label",17),o.Jc(14,"Ruangan Tujuan "),o.Pb(),o.Qb(15,"p-dropdown",20),o.Yb("ngModelChange",function(e){return o.yc(t),o.bc().item.ruangantujuan=e})("onChange",function(){o.yc(t);const e=o.bc();return e.getProduk(e.item.ruangantujuan)}),o.Pb(),o.Pb(),o.Qb(16,"div",16),o.Qb(17,"label",17),o.Jc(18,"Keterangan "),o.Pb(),o.Qb(19,"input",21),o.Yb("ngModelChange",function(e){return o.yc(t),o.bc().item.keterangan=e}),o.Pb(),o.Pb(),o.Qb(20,"div",16),o.Qb(21,"div",7),o.Qb(22,"div",22),o.Qb(23,"p-checkbox",23),o.Yb("ngModelChange",function(e){return o.yc(t),o.bc().item.iscito=e}),o.Pb(),o.Qb(24,"label",24),o.Jc(25," Cito"),o.Pb(),o.Pb(),o.Qb(26,"div",22),o.Qb(27,"p-checkbox",25),o.Yb("ngModelChange",function(e){return o.yc(t),o.bc().item.paket=e})("onChange",function(){o.yc(t);const e=o.bc();return e.cekPaket(e.item.paket)}),o.Pb(),o.Qb(28,"label",26),o.Jc(29," Paket"),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(30,"div",7),o.Qb(31,"div",27),o.Hc(32,F,6,4,"p-panel",28),o.Pb(),o.Pb(),o.Qb(33,"div",7),o.Qb(34,"div",29),o.Qb(35,"span",30),o.Lb(36,"i",31),o.Qb(37,"input",32),o.Yb("ngModelChange",function(e){return o.yc(t),o.bc().searchText=e}),o.Pb(),o.Pb(),o.Pb(),o.Qb(38,"div",33),o.Qb(39,"button",34),o.Yb("click",function(){return o.yc(t),o.bc().clearFilter()}),o.Pb(),o.Pb(),o.Qb(40,"div",35),o.Qb(41,"button",36),o.Yb("click",function(){return o.yc(t),o.bc().save()}),o.Pb(),o.Pb(),o.Qb(42,"div",33),o.Qb(43,"button",37),o.Yb("click",function(){return o.yc(t),o.bc().batal()}),o.Pb(),o.Pb(),o.Qb(44,"div",33),o.Qb(45,"button",38),o.Yb("click",function(){return o.yc(t),o.bc().riwayat()}),o.Pb(),o.Pb(),o.Hc(46,T,2,1,"div",39),o.Hc(47,D,2,1,"div",40),o.Pb(),o.Lb(48,"div",7),o.Pb(),o.Pb(),o.Lb(49,"div",5),o.Pb()}if(2&t){const t=o.bc();o.xb(2),o.ic("toggleable",!0),o.xb(5),o.ic("ngModel",t.item.tglPelayanan)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)("maxDate",t.maxDateValue),o.xb(4),o.ic("ngModel",t.item.ruanganAsal),o.xb(4),o.ic("options",t.listRuanganTujuan)("ngModel",t.item.ruangantujuan)("filter",!0)("showClear",!0),o.xb(4),o.ic("ngModel",t.item.keterangan),o.xb(4),o.ic("ngModel",t.item.iscito),o.xb(4),o.ic("ngModel",t.item.paket),o.xb(5),o.ic("ngIf",t.listChecked.length>0),o.xb(5),o.ic("ngModel",t.searchText),o.xb(4),o.ic("disabled",t.isSimpan),o.xb(5),o.ic("ngIf",0==t.listProdukCek.length),o.xb(1),o.ic("ngIf",t.listProdukCek.length>0)}}function Y(t,e){if(1&t){const t=o.Sb();o.Qb(0,"div",67),o.Qb(1,"div",16),o.Qb(2,"span",30),o.Lb(3,"i",31),o.Qb(4,"input",68),o.Yb("input",function(e){return o.yc(t),o.bc(),o.wc(6).filterGlobal(e.target.value,"contains")}),o.Pb(),o.Pb(),o.Pb(),o.Pb()}}function _(t,e){if(1&t&&(o.Qb(0,"th",71),o.Jc(1),o.Lb(2,"p-sortIcon",72),o.Pb()),2&t){const t=e.$implicit;o.Fc("width: ",t.width,""),o.jc("pSortableColumn",t.field),o.xb(1),o.Lc(" ",t.header," "),o.xb(1),o.jc("field",t.field)}}function B(t,e){if(1&t&&(o.Qb(0,"tr"),o.Lb(1,"th",69),o.Hc(2,_,3,6,"th",70),o.Pb()),2&t){const t=e.$implicit;o.xb(2),o.ic("ngForOf",t)}}function K(t,e){if(1&t&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&t){const t=o.bc().$implicit,e=o.bc().$implicit,i=o.bc(2);o.xb(1),o.Lc(" ",i.formatRupiah(e[t.field],""),"")}}function N(t,e){if(1&t&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&t){const t=o.bc().$implicit,e=o.bc().$implicit;o.xb(1),o.Lc(" ",e[t.field],"")}}function A(t,e){if(1&t&&(o.Qb(0,"td"),o.Hc(1,K,2,1,"span",76),o.Hc(2,N,2,1,"span",76),o.Pb()),2&t){const t=e.$implicit;o.Fc("width: ",t.width,""),o.xb(1),o.ic("ngIf",null!=t.isCurrency),o.xb(1),o.ic("ngIf",null==t.isCurrency)}}function E(t,e){if(1&t){const t=o.Sb();o.Qb(0,"tr"),o.Qb(1,"td",69),o.Lb(2,"button",73),o.Qb(3,"button",74),o.Yb("click",function(){o.yc(t);const i=e.$implicit;return o.bc(2).hapusD(i)}),o.Pb(),o.Pb(),o.Hc(4,A,3,5,"td",75),o.Pb()}if(2&t){const t=e.$implicit,i=e.columns,a=e.expanded;o.xb(2),o.ic("pRowToggler",t)("icon",a?"pi pi-chevron-down":"pi pi-chevron-right"),o.xb(2),o.ic("ngForOf",i)}}function z(t,e){1&t&&(o.Qb(0,"tr"),o.Qb(1,"th"),o.Jc(2,"Nama Layanan"),o.Pb(),o.Qb(3,"th"),o.Jc(4,"Jumlah"),o.Pb(),o.Pb())}function U(t,e){if(1&t&&(o.Qb(0,"tr"),o.Qb(1,"td"),o.Jc(2),o.Pb(),o.Qb(3,"td"),o.Jc(4),o.Pb(),o.Pb()),2&t){const t=e.$implicit;o.xb(2),o.Kc(t.namaproduk),o.xb(2),o.Kc(t.qtyproduk)}}function G(t,e){if(1&t&&(o.Qb(0,"tr"),o.Qb(1,"td",77),o.Qb(2,"div",78),o.Qb(3,"p-table",79),o.Hc(4,z,5,0,"ng-template",11),o.Hc(5,U,5,2,"ng-template",12),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&t){const t=e.$implicit;o.xb(3),o.ic("value",t.details)}}const q=function(){return[5,10,25,50]},V=function(){return["namaPelayanan"]};function W(t,e){if(1&t){const t=o.Sb();o.Qb(0,"div",7),o.Qb(1,"div",5),o.Qb(2,"p-panel",61),o.Qb(3,"div",7),o.Qb(4,"div",5),o.Qb(5,"p-table",62,63),o.Yb("selectionChange",function(e){return o.yc(t),o.bc().selectedData=e}),o.Hc(7,Y,5,0,"ng-template",10),o.Hc(8,B,3,1,"ng-template",11),o.Hc(9,E,5,3,"ng-template",12),o.Hc(10,G,6,1,"ng-template",13),o.Pb(),o.Pb(),o.Pb(),o.Qb(11,"div",7),o.Qb(12,"div",64),o.Qb(13,"button",65),o.Yb("click",function(){return o.yc(t),o.bc().hasil()}),o.Pb(),o.Pb(),o.Qb(14,"div",33),o.Qb(15,"button",66),o.Yb("click",function(){return o.yc(t),o.bc().order()}),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb()}if(2&t){const t=o.bc();o.xb(2),o.ic("toggleable",!0),o.xb(3),o.ic("columns",t.columnRiwayat)("value",t.dataSourceRiwayat)("selection",t.selectedData)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",o.mc(11,q))("paginator",!0)("pageLinks",5)("globalFilterFields",o.mc(12,V))}}function X(t,e){if(1&t){const t=o.Sb();o.Qb(0,"div",67),o.Qb(1,"div",5),o.Qb(2,"span",30),o.Lb(3,"i",31),o.Qb(4,"input",68),o.Yb("input",function(e){return o.yc(t),o.bc(),o.wc(13).filterGlobal(e.target.value,"contains")}),o.Pb(),o.Pb(),o.Pb(),o.Pb()}}function Z(t,e){if(1&t&&(o.Qb(0,"th",71),o.Jc(1),o.Lb(2,"p-sortIcon",72),o.Pb()),2&t){const t=e.$implicit;o.Fc("width: ",t.width,""),o.jc("pSortableColumn",t.field),o.xb(1),o.Lc(" ",t.header," "),o.xb(1),o.jc("field",t.field)}}function tt(t,e){if(1&t&&(o.Qb(0,"tr"),o.Lb(1,"th",69),o.Hc(2,Z,3,6,"th",70),o.Pb()),2&t){const t=e.$implicit;o.xb(2),o.ic("ngForOf",t)}}function et(t,e){if(1&t&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&t){const t=o.bc().$implicit,e=o.bc().$implicit,i=o.bc();o.xb(1),o.Lc(" ",i.formatRupiah(e[t.field],""),"")}}function it(t,e){if(1&t&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&t){const t=o.bc().$implicit,e=o.bc().$implicit;o.xb(1),o.Lc(" ",e[t.field],"")}}function at(t,e){if(1&t&&(o.Qb(0,"td"),o.Hc(1,et,2,1,"span",76),o.Hc(2,it,2,1,"span",76),o.Pb()),2&t){const t=e.$implicit;o.Fc("width: ",t.width,""),o.xb(1),o.ic("ngIf",null!=t.isCurrency),o.xb(1),o.ic("ngIf",null==t.isCurrency)}}function nt(t,e){if(1&t){const t=o.Sb();o.Qb(0,"tr"),o.Qb(1,"td",69),o.Lb(2,"button",73),o.Qb(3,"button",80),o.Yb("click",function(){o.yc(t);const i=e.$implicit;return o.bc().addPaket(i)}),o.Pb(),o.Pb(),o.Hc(4,at,3,5,"td",75),o.Pb()}if(2&t){const t=e.$implicit,i=e.columns,a=e.expanded;o.xb(2),o.ic("pRowToggler",t)("icon",a?"pi pi-chevron-down":"pi pi-chevron-right"),o.xb(2),o.ic("ngForOf",i)}}function lt(t,e){1&t&&(o.Qb(0,"tr"),o.Qb(1,"th"),o.Jc(2,"Nama Layanan"),o.Pb(),o.Pb())}function ot(t,e){if(1&t&&(o.Qb(0,"tr"),o.Qb(1,"td"),o.Jc(2),o.Pb(),o.Pb()),2&t){const t=e.$implicit;o.xb(2),o.Kc(t.namaproduk)}}function ct(t,e){if(1&t&&(o.Qb(0,"tr"),o.Qb(1,"td",81),o.Qb(2,"div",78),o.Qb(3,"p-table",79),o.Hc(4,lt,3,0,"ng-template",11),o.Hc(5,ot,3,1,"ng-template",12),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&t){const t=e.$implicit;o.xb(3),o.ic("value",t.details)}}function rt(t,e){if(1&t){const t=o.Sb();o.Qb(0,"p-button",82),o.Yb("click",function(){return o.yc(t),o.bc().closePaket()}),o.Pb()}}const st=function(){return{width:"600px",minWidth:"600px"}},bt=function(){return["namapaket"]},dt=[{path:"",component:(()=>{class t{constructor(t,e,i,a,n,l,o,c,r){this.rekamMedis=t,this.apiService=e,this.authService=i,this.confirmationService=a,this.cacheHelper=n,this.dateHelper=l,this.alertService=o,this.activeRoute=c,this.router=r,this.item={tglPelayanan:new Date,layanan:[]},this.totalHarga=0,this.listProdukCek=[],this.produkDef=[],this.listRuanganTujuan=[],this.skeleton=[],this.searchText="",this.selected_count=0,this.selected_games=[],this.listChecked=[],this.dataSourceRiwayat=[]}ngAfterViewInit(){}ngOnInit(){this.skeleton=this.loadSkeleton(),this.item.idPegawaiLogin=this.authService.getDataLoginUser().pegawai.id,this.apiService.get("emr/get-combo-penunjang?departemenfk=kdDepartemenLab").subscribe(t=>{this.item.ruanganAsal=this.rekamMedis.header.namaruangan,this.item.namaRuangan=this.rekamMedis.header.namaruangan,this.listRuanganTujuan=t.ruangantujuan,this.item.ruangantujuan={id:t.ruangantujuan[0].id,namaruangan:t.ruangantujuan[0].namaruangan,instalasiidfk:t.ruangantujuan[0].instalasiidfk},this.getProduk(this.item.ruangantujuan)}),this.columnRiwayat=[{field:"noregistrasi",header:"No Registrasi",width:"100px"},{field:"tglorder",header:"Tgl Order",width:"100px"},{field:"noorder",header:"No Order",width:"100px"},{field:"dokter",header:"Dokter",width:"150px"},{field:"namaruanganasal",header:"Ruangan Asal",width:"150px"},{field:"namaruangantujuan",header:"Ruangan",width:"150px"},{field:"keteranganlainnya",header:"Keterangan",width:"150px"},{field:"statusorder",header:"Status",width:"70px"},{field:"cito",header:"Cito",width:"70px"}],this.columnPaket=[{field:"namapaket",header:"Nama Paket",width:"120px"},{field:"jml",header:"Jumlah",width:"80px"}]}getProduk(t){this.listProdukCek=[],this.item.layanan=[],this.produkDef=[],null!=t&&this.apiService.get("sysadmin/general/get-tindakan-with-details?idRuangan="+t.id+"&idKelas="+this.rekamMedis.header.objectkelasfk+"&idJenisPelayanan="+this.rekamMedis.header.jenispelayanan+"&isLabRad=true").subscribe(t=>{this.listProdukCek=t.details,this.produkDef=t.data})}getSelected(){if(this.item.layanan.length>0){for(var t=Object.keys(this.item.layanan),e=0;e<t.length;e++){const n=t[e];if(1==this.item.layanan[parseInt(n)])for(var i=0;i<this.produkDef.length;i++){const t=this.produkDef[i];if(t.id==n){for(var a=0;a<this.listChecked.length;a++)this.listChecked[a].namaproduk==t.namaproduk&&this.listChecked.splice(a,1);this.listChecked.push({namaproduk:t.namaproduk,hargasatuan:t.hargasatuan})}}else for(i=0;i<this.produkDef.length;i++){const t=this.produkDef[i];if(t.id==n)for(a=0;a<this.listChecked.length;a++)this.listChecked[a].namaproduk==t.namaproduk&&this.listChecked.splice(a,1)}}this.totalHarga=0;for(let t=0;t<this.listChecked.length;t++)this.totalHarga=this.totalHarga+parseFloat(this.listChecked[t].hargasatuan)}}clearFilter(){this.searchText=""}save(){if(null!=this.item.ruangantujuan)if(null!=this.item.tglPelayanan)if(null!=this.item.layanan&&0!=this.item.layanan.length){for(var t=Object.keys(this.item.layanan),e=[],i=t.length-1;i>=0;i--)1==this.item.layanan[parseInt(t[i])]&&e.push({no:i+1,produkfk:t[i],namaproduk:t[i],qtyproduk:1,objectruanganfk:this.rekamMedis.header.objectruanganfk,objectruangantujuanfk:this.item.ruangantujuan.id,pemeriksaanluar:1==this.item.pemeriksaanKeluar?1:0,iscito:null!=this.item.iscito&&1==this.item.iscito&&this.item.iscito,objectkelasfk:this.rekamMedis.header.objectkelasfk,nourut:null});if(0!=e.length){var a={tanggal:l(this.item.tglPelayanan).format("YYYY-MM-DD HH:mm:ss"),norec_so:"",norec_apd:this.rekamMedis.header.norec_apd,norec_pd:this.rekamMedis.header.norec_pd,qtyproduk:e.length,objectruanganfk:this.rekamMedis.header.objectruanganfk,objectruangantujuanfk:this.item.ruangantujuan.id,departemenfk:this.item.ruangantujuan.instalasiidfk,pegawaiorderfk:this.item.idPegawaiLogin,keterangan:null!=this.item.keterangan?this.item.keterangan:null,iscito:null!=this.item.iscito&&1==this.item.iscito&&this.item.iscito,details:e};this.isSimpan=!0,this.apiService.post("emr/save-order-pelayanan",a).subscribe(t=>{this.item.layanan=[],this.isSimpan=!1,this.apiService.postLog("Order Laboratorium","Norec strukorder_t",t.strukorder.norec,"Order Laboratorium No Order - "+t.strukorder.noorder+" dengan No Registrasi "+this.item.noregistrasi).subscribe(t=>{}),this.batal()},t=>{this.isSimpan=!1})}else this.alertService.warn("Info","Pilih Pelayanan dulu")}else this.alertService.warn("Info","Pilih layanan terlebih dahulu!!");else this.alertService.warn("Info","Pilih Tgl Order  terlebih dahulu!!");else this.alertService.warn("Info","Pilih Ruangan Tujuan terlebih dahulu!!")}batal(){for(var t=Object.keys(this.item.layanan),e=t.length-1;e>=0;e--)this.item.layanan[parseInt(t[e])]=!1;this.listChecked=[],delete this.item.keterangan}formatRupiah(t,e){return e+" "+parseFloat(t).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}onRowSelect(t){}hapusD(t){"SELESAI"!=t.status?this.apiService.post("emr/delete-order-pelayanan",{norec_order:t.norec}).subscribe(t=>{this.loadRiwayat("noregistrasi="+this.rekamMedis.header.noregistrasi)}):this.alertService.warn("Info","Status Sudah Selesai tidak bisa di hapus")}order(){this.isRiwayat=!1,this.batal(),this.getProduk(this.item.ruangantujuan)}riwayat(){this.isRiwayat=!0,this.loadRiwayat("noregistrasi="+this.rekamMedis.header.noregistrasi)}loadRiwayat(t){this.apiService.get("emr/get-riwayat-order-penunjang?"+t+"&setting=kdDepartemenLab").subscribe(t=>{for(var e=t.daftar.length-1;e>=0;e--)t.daftar[e].no=e+1,t.daftar[e].cito=1==t.daftar[e].cito?"\u2714":"\u2718";this.dataSourceRiwayat=t.daftar})}hapus(){null!=this.selectedData?"SELESAI"!=this.selectedData.status?this.apiService.post("emr/delete-order-pelayanan",{norec_order:this.selectedData.norec}).subscribe(t=>{this.loadRiwayat("noregistrasi="+this.rekamMedis.header.noregistrasi)}):this.alertService.warn("Info","Status Sudah Selesai tidak bisa di hapus"):this.alertService.info("Info","Pilih data dulu")}cekPaket(t){if(1==t){if(null==this.item.ruangantujuan)return void this.alertService.warn("Info","Pilih ruangan dulu");this.pop_paket=!0,this.apiService.get("general/get-paket-tindakan").subscribe(t=>{this.dataSourcePaket=t})}}addPaket(t){for(var e=t.details,i=Object.keys(this.item.layanan),a=0;a<e.length;a++){const t=e[a];if(i.length>0)for(let e=0;e<i.length;e++)t.objectprodukfk!=i[e]&&(this.item.layanan[t.objectprodukfk]=!0);else this.item.layanan[t.objectprodukfk]=!0}this.getSelected(),this.pop_paket=!1}clearSelection(){var t=Object.keys(this.item.layanan);for(let e=0;e<t.length;e++)this.item.layanan[t[e]]=!1;this.getSelected()}closePaket(){this.pop_paket=!1,this.item.paket=!1}loadSkeleton(){return[{id:1,details:[{class:"p-col-2",details:[{class:"p-mb-0"}]}]},{id:2,details:[{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]}]},{id:3,details:[{class:"p-col-2",details:[{class:"p-mb-0"}]}]},{id:4,details:[{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]},{class:"p-col-4",details:[{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"},{class:"p-mb-2"}]}]}]}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(c.a),o.Jb(r.a),o.Jb(r.b),o.Jb(s.a),o.Jb(b.a),o.Jb(d.a),o.Jb(p.a),o.Jb(n.a),o.Jb(n.f))},t.\u0275cmp=o.Db({type:t,selectors:[["app-order-lab"]],decls:19,vars:22,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],["class","p-grid",4,"ngIf"],["header","Paket",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"p-fluid","p-grid"],[1,"p-col-12","p-md-12"],["header","Detail Paket",3,"toggleable"],[1,"p-grid"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","id","selectionMode","single",3,"columns","value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","footer"],["header","Detail Pemeriksaan",3,"toggleable"],[1,"p-col-12","p-md-3"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Pelayanan","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","maxDate","ngModelChange"],["type","text","pInputText","","placeholder","Ruangan ","disabled","",3,"ngModel","ngModelChange"],["placeholder","Ruangan Tujuan","optionLabel","namaruangan","dataKey","id",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["type","text","pInputText","","placeholder","Keterangan ",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-6"],["binary","true","inputId","item.iscito",3,"ngModel","ngModelChange"],["for","item.iscito"],["binary","true","inputId","item.paket",3,"ngModel","ngModelChange","onChange"],["for","item.paket"],[1,"p-col-12"],[3,"header","toggleable",4,"ngIf"],[1,"p-col-12","p-md-5"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filter",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-1"],["pButton","","type","button","icon","pi pi-times","pTooltip","Clear Filter",1,"p-button","p-button","p-mr-2",3,"click"],[1,"p-col-12","p-md-1","p-md-offset-3"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-arrow-right","pTooltip","Batal ","label","Batal",1,"p-button","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-list","pTooltip","Riwayat Order","label","Riwayat",1,"p-button","p-mr-2",3,"click"],["class","p-col-12 p-md-12",4,"ngIf"],["style","height: 600px;overflow: auto",4,"ngIf"],[3,"header","toggleable"],["class","p-col-12 p-md-4",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-1","p-md-offset-11"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Semua Data Terpilih","label","Clear",1,"p-button","p-button-danger","p-mr-2",3,"disabled","click"],[1,"p-col-12","p-md-4"],["styleClass","p-mr-2","severity","warning",3,"value"],["class","p-grid",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],[3,"styleClass",4,"ngFor","ngForOf"],[3,"styleClass"],[2,"height","600px","overflow","auto"],["class","p-col-12 p-md-12","style","padding: 10px;",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-12",2,"padding","10px"],["align","left"],[1,"p-d-inline-flex","p-ai-center"],[1,"fa","fa-stethoscope","p-mr-2"],["class","p-col-12 p-md-4 p-field-checkbox",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-4","p-field-checkbox"],["binary","true",3,"ngModel","inputId","ngModelChange","onChange"],[3,"for"],["header","Detail Order",3,"toggleable"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec","selectionMode","single",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","globalFilterFields","selectionChange"],["dt",""],[1,"p-col-12","p-md-1","p-md-offset-10"],["pButton","","type","button","icon","fa fa-heartbeat","pTooltip","Lihat Hasil","label","Hasil",1,"p-button","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Order Baru ","label","Order",1,"p-button","p-mr-2",3,"click"],[1,"table-header","p-grid"],["pInputText","","type","text","placeholder","Filter",3,"input"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-2",3,"pRowToggler","icon"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Order","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","10"],[1,"p-p-3"],["dataKey","id",3,"value"],["pButton","","type","button","icon","pi pi-plus","pTooltip","Tambah Paket","label","",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["colspan","3"],["icon","pi pi-close","label","Tutup","styleClass","p-button-text",3,"click"]],template:function(t,e){1&t&&(o.Qb(0,"div",0),o.Qb(1,"div",1),o.Qb(2,"h4"),o.Jc(3,"Order Laboratorium"),o.Pb(),o.Hc(4,$,50,20,"div",2),o.Hc(5,W,16,13,"div",2),o.Pb(),o.Qb(6,"p-dialog",3),o.Yb("visibleChange",function(t){return e.pop_paket=t}),o.Qb(7,"div",4),o.Qb(8,"div",5),o.Qb(9,"p-panel",6),o.Qb(10,"div",7),o.Qb(11,"div",5),o.Qb(12,"p-table",8,9),o.Hc(14,X,5,0,"ng-template",10),o.Hc(15,tt,3,1,"ng-template",11),o.Hc(16,nt,5,3,"ng-template",12),o.Hc(17,ct,6,1,"ng-template",13),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Hc(18,rt,1,0,"ng-template",14),o.Pb(),o.Pb()),2&t&&(o.xb(4),o.ic("ngIf",!e.isRiwayat),o.xb(1),o.ic("ngIf",e.isRiwayat),o.xb(1),o.Ec(o.mc(19,st)),o.ic("visible",e.pop_paket)("modal",!0)("maximizable",!0)("draggable",!0)("resizable",!0),o.xb(3),o.ic("toggleable",!0),o.xb(3),o.ic("columns",e.columnPaket)("value",e.dataSourcePaket)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",o.mc(20,q))("paginator",!0)("pageLinks",5)("globalFilterFields",o.mc(21,bt)))},directives:[a.l,u.a,h.a,g.h,s.k,m.a,f.g,f.h,f.a,k.a,P.a,y.a,v.b,Q.a,a.k,x.a,w.a,C.a,g.g,g.f,S.a,g.d,v.a],pipes:[j.a],styles:[".p-field-checkbox[_ngcontent-%COMP%], .p-field-radiobutton[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center}"]}),t})()}];let pt=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(e){return new(e||t)},imports:[[n.j.forChild(dt)],n.j]}),t})();var ut=i("PCNd");let ht=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(e){return new(e||t)},imports:[[a.b,pt,ut.a]]}),t})()}}]);