!function(){function t(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function a(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{vj3g:function(e,n,i){"use strict";i.r(n),i.d(n,"SisruteModule",function(){return x});var o=i("ofXK"),b=i("tyNb"),u=i("wd/R"),r=i("fXoL"),l=i("EJUL"),c=i("7zfz"),A=i("U+s4"),s=i("G0w9"),N=i("ujBT"),p=i("dPl2"),d=i("eO1q"),P=i("3Pt+"),g=i("7kUa"),m=i("jIHw"),h=i("xlun"),S=i("rEr+"),f=i("Q4Mo");function J(t,a){if(1&t){var e=r.Sb();r.Qb(0,"div",17),r.Qb(1,"button",18),r.Yb("click",function(){return r.yc(e),r.bc().exportExcel()}),r.Pb(),r.Pb()}}function k(t,a){1&t&&(r.Qb(0,"tr"),r.Qb(1,"th"),r.Jc(2,"No"),r.Pb(),r.Qb(3,"th"),r.Jc(4,"No Rujukan"),r.Pb(),r.Qb(5,"th"),r.Jc(6,"Nama / No Kontak"),r.Pb(),r.Qb(7,"th"),r.Jc(8,"Tgl Rujuk / Asal RS"),r.Pb(),r.Qb(9,"th"),r.Jc(10,"Alasan Merujuk"),r.Pb(),r.Qb(11,"th"),r.Jc(12,"Diagnosa"),r.Pb(),r.Qb(13,"th"),r.Jc(14,"Status"),r.Pb(),r.Pb())}function v(t,a){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.Jc(2),r.Pb(),r.Qb(3,"td"),r.Jc(4),r.Pb(),r.Qb(5,"td"),r.Jc(6),r.Pb(),r.Qb(7,"td"),r.Jc(8),r.Pb(),r.Qb(9,"td"),r.Jc(10),r.Pb(),r.Qb(11,"td"),r.Jc(12),r.Pb(),r.Qb(13,"td"),r.Jc(14),r.Pb(),r.Pb()),2&t){var e=a.$implicit;r.xb(2),r.Kc(e.no),r.xb(2),r.Kc(e.norujukan),r.xb(2),r.Kc(e.namakontak),r.xb(2),r.Kc(e.tglasal),r.xb(2),r.Kc(e.alasan),r.xb(2),r.Kc(e.diagnosa),r.xb(2),r.Kc(e.status)}}function Q(t,a){if(1&t){var e=r.Sb();r.Qb(0,"div",17),r.Qb(1,"button",18),r.Yb("click",function(){return r.yc(e),r.bc().exportExcel2()}),r.Pb(),r.Pb()}}function R(t,a){1&t&&(r.Qb(0,"tr"),r.Qb(1,"th"),r.Jc(2,"No"),r.Pb(),r.Qb(3,"th"),r.Jc(4,"No Rujukan"),r.Pb(),r.Qb(5,"th"),r.Jc(6,"Nama / No Kontak"),r.Pb(),r.Qb(7,"th"),r.Jc(8,"Tgl / Tujuan RS"),r.Pb(),r.Qb(9,"th"),r.Jc(10,"Alasan Merujuk"),r.Pb(),r.Qb(11,"th"),r.Jc(12,"Diagnosa"),r.Pb(),r.Qb(13,"th"),r.Jc(14,"Status"),r.Pb(),r.Pb())}function K(t,a){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.Jc(2),r.Pb(),r.Qb(3,"td"),r.Jc(4),r.Pb(),r.Qb(5,"td"),r.Jc(6),r.Pb(),r.Qb(7,"td"),r.Jc(8),r.Pb(),r.Qb(9,"td"),r.Jc(10),r.Pb(),r.Qb(11,"td"),r.Jc(12),r.Pb(),r.Qb(13,"td"),r.Jc(14),r.Pb(),r.Pb()),2&t){var e=a.$implicit;r.xb(2),r.Kc(e.no),r.xb(2),r.Kc(e.norujukan),r.xb(2),r.Kc(e.namakontak),r.xb(2),r.Kc(e.tglasal),r.xb(2),r.Kc(e.alasan),r.xb(2),r.Kc(e.diagnosa),r.xb(2),r.Kc(e.status)}}var U,M,I,j=function(){return[5,10,25,50]},E=[{path:"",component:(U=function(){function e(a,n,i,o,b,u,r,l){t(this,e),this.apiService=a,this.authService=n,this.messageService=i,this.cacheHelper=o,this.helper=b,this.alertService=u,this.route=r,this.router=l,this.dataSource=[],this.dataSource2=[],this.listNum=[{id:"N",name:"Numerator"},{id:"D",name:"Denumerator"}],this.item={tglAwal:new Date,tglAkhir:new Date,tglLap:new Date}}var n,i,o;return n=e,(i=[{key:"ngOnInit",value:function(){this.loadData()}},{key:"exportExcel",value:function(){}},{key:"loadData",value:function(){var t=this,a="";null!=this.item.tglRujukan&&(a=u(this.item.tglRujukan).format("YYYY-MM-DD"));var e="";null!=this.item.noRujukan&&(e=this.item.noRujukan),this.apiService.get("bridging/sisrute/rujukan/get?nomor="+e+"&tanggal="+a).subscribe(function(a){if(null!=a.total&&a.total>0){t.alertService.info("Success",a.total+" "+a.detail);for(var e=a.data,n=0;n<e.length;n++){if(e[n].no=n+1,e[n].nocm=e[n].PASIEN.NORM,e[n].namapasien=e[n].PASIEN.NAMA,e[n].norujukan=e[n].RUJUKAN.NOMOR,e[n].tglrujukan=e[n].RUJUKAN.TANGGAL,e[n].faskesasal=e[n].RUJUKAN.FASKES_ASAL.NAMA,e[n].faskestujuan=e[n].RUJUKAN.FASKES_TUJUAN.NAMA,e[n].status=e[n].RUJUKAN.STATUS.NAMA,"Sudah direspon"==e[n].RUJUKAN.STATUS.NAMA&&"Belum direspon"==e[n].RUJUKAN.STATUS.NAMA)var i="";null!=e[n].PASIEN.KONTAK&&" "!=e[n].PASIEN.KONTAK&&(i=" / "+e[n].PASIEN.KONTAK),e[n].namakontak=null!=e[n].PASIEN.JENIS_KELAMIN?e[n].PASIEN.NAMA+i+" / "+e[n].PASIEN.JENIS_KELAMIN.NAMA+" / "+e[n].PASIEN.TANGGAL_LAHIR:e[n].PASIEN.NAMA+i+" / "+e[n].PASIEN.TANGGAL_LAHIR,e[n].tglasal=e[n].RUJUKAN.TANGGAL+" / "+e[n].RUJUKAN.FASKES_ASAL.NAMA,e[n].diagnosa=null!=e[n].RUJUKAN.DIAGNOSA?e[n].RUJUKAN.DIAGNOSA.NAMA:"-",e[n].alasan=e[n].RUJUKAN.ALASAN.NAMA+" / "+e[n].RUJUKAN.ALASAN_LAINNYA}}else t.alertService.error("Info",null!=a.detail?a.detail:a.metaData.message);t.dataSource=e})}},{key:"cari2",value:function(){this.loadData2()}},{key:"loadData2",value:function(){var t=this,a="";null!=this.item.tglRujukan&&(a=u(this.item.tglRujukan).format("YYYY-MM-DD"));var e="";null!=this.item.noRujukan&&(e=this.item.noRujukan);var n="";1==this.item.create&&(n=this.item.create),this.apiService.get("bridging/sisrute/rujukan/get?create="+n+"nomor="+e+"&tanggal="+a).subscribe(function(a){if(null!=a.total&&a.total>0){t.alertService.info("Info",a.total+" "+a.detail);for(var e=a.data,n=0;n<e.length;n++){e[n].no=n+1,e[n].nocm=e[n].PASIEN.NORM,e[n].namapasien=e[n].PASIEN.NAMA,e[n].norujukan=e[n].RUJUKAN.NOMOR,e[n].tglrujukan=e[n].RUJUKAN.TANGGAL,e[n].faskesasal=e[n].RUJUKAN.FASKES_ASAL.NAMA,e[n].faskestujuan=e[n].RUJUKAN.FASKES_TUJUAN.NAMA,e[n].status=e[n].RUJUKAN.STATUS.NAMA;var i="";null!=e[n].PASIEN.KONTAK&&" "!=e[n].PASIEN.KONTAK&&(i=" / "+e[n].PASIEN.KONTAK),e[n].namakontak=null!=e[n].PASIEN.JENIS_KELAMIN?e[n].PASIEN.NAMA+i+" / "+e[n].PASIEN.JENIS_KELAMIN.NAMA+" / "+e[n].PASIEN.TANGGAL_LAHIR:e[n].PASIEN.NAMA+i+" / "+e[n].PASIEN.TANGGAL_LAHIR,e[n].tglasal=e[n].RUJUKAN.TANGGAL+" / "+e[n].RUJUKAN.FASKES_TUJUAN.NAMA,e[n].diagnosa=null!=e[n].RUJUKAN.DIAGNOSA?e[n].RUJUKAN.DIAGNOSA.NAMA:"-",e[n].alasan=e[n].RUJUKAN.ALASAN.NAMA+" / "+e[n].RUJUKAN.ALASAN_LAINNYA,e[n].infobalik=""}}else t.alertService.error("Info",null!=a.detail?a.detail:a.metaData.message);t.dataSource2=e})}},{key:"cari",value:function(){this.loadData()}},{key:"exportExcel2",value:function(){}}])&&a(n.prototype,i),o&&a(n,o),e}(),U.\u0275fac=function(t){return new(t||U)(r.Jb(l.a),r.Jb(l.b),r.Jb(c.h),r.Jb(A.a),r.Jb(s.a),r.Jb(N.a),r.Jb(b.a),r.Jb(b.f))},U.\u0275cmp=r.Db({type:U,selectors:[["app-sisrute"]],decls:45,vars:28,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-12"],["header","Rujukan Masuk","leftIcon","fa fa-th-list"],[1,"p-col-12"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["type","text","pInputText","","placeholder","No Rujukan",3,"ngModel","ngModelChange"],[1,"p-col-12","p-md-1",2,"margin-top","16px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",1,"p-button-primary","p-mr-1",3,"click"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","responsiveLayout","scroll",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Rujukan Keluar","leftIcon","fa fa-list"],[1,"p-d-flex"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","pTooltip","XLS","tooltipPosition","bottom",1,"p-button-success","p-mr-2",3,"click"]],template:function(t,a){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"h4"),r.Jc(3,"Sisrute "),r.Pb(),r.Qb(4,"div",2),r.Qb(5,"div",3),r.Qb(6,"p-tabView"),r.Qb(7,"p-tabPanel",4),r.Qb(8,"div",5),r.Qb(9,"div",2),r.Qb(10,"div",6),r.Qb(11,"label",7),r.Jc(12,"Tgl Rujukan"),r.Pb(),r.Qb(13,"p-calendar",8),r.Yb("ngModelChange",function(t){return a.item.tglRujukan=t}),r.Pb(),r.Pb(),r.Qb(14,"div",6),r.Qb(15,"label",7),r.Jc(16,"No Rujukan"),r.Pb(),r.Qb(17,"input",9),r.Yb("ngModelChange",function(t){return a.item.noRujukan=t}),r.Pb(),r.Pb(),r.Qb(18,"div",10),r.Qb(19,"button",11),r.Yb("click",function(){return a.cari()}),r.Pb(),r.Pb(),r.Pb(),r.Qb(20,"div",2),r.Qb(21,"div",5),r.Qb(22,"p-table",12),r.Hc(23,J,2,0,"ng-template",13),r.Hc(24,k,15,0,"ng-template",14),r.Hc(25,v,15,7,"ng-template",15),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(26,"p-tabPanel",16),r.Qb(27,"div",5),r.Qb(28,"div",2),r.Qb(29,"div",6),r.Qb(30,"label",7),r.Jc(31,"Tgl Rujukan"),r.Pb(),r.Qb(32,"p-calendar",8),r.Yb("ngModelChange",function(t){return a.item.tglRujukan=t}),r.Pb(),r.Pb(),r.Qb(33,"div",6),r.Qb(34,"label",7),r.Jc(35,"No Rujukan"),r.Pb(),r.Qb(36,"input",9),r.Yb("ngModelChange",function(t){return a.item.noRujukan=t}),r.Pb(),r.Pb(),r.Qb(37,"div",10),r.Qb(38,"button",11),r.Yb("click",function(){return a.cari2()}),r.Pb(),r.Pb(),r.Pb(),r.Qb(39,"div",2),r.Qb(40,"div",5),r.Qb(41,"p-table",12),r.Hc(42,Q,2,0,"ng-template",13),r.Hc(43,R,15,0,"ng-template",14),r.Hc(44,K,15,7,"ng-template",15),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.xb(13),r.ic("ngModel",a.item.tglRujukan)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),r.xb(4),r.ic("ngModel",a.item.noRujukan),r.xb(5),r.ic("value",a.dataSource)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",r.mc(26,j))("paginator",!0)("pageLinks",5),r.xb(10),r.ic("ngModel",a.item.tglRujukan)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),r.xb(4),r.ic("ngModel",a.item.noRujukan),r.xb(5),r.ic("value",a.dataSource2)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",r.mc(27,j))("paginator",!0)("pageLinks",5))},directives:[p.b,p.a,d.a,P.g,P.h,P.a,g.a,m.b,h.a,S.h,c.k,f.a],styles:[""]}),U)}],T=((M=function a(){t(this,a)}).\u0275mod=r.Hb({type:M}),M.\u0275inj=r.Gb({factory:function(t){return new(t||M)},imports:[[b.j.forChild(E)],b.j]}),M),w=i("PCNd"),x=((I=function a(){t(this,a)}).\u0275mod=r.Hb({type:I}),I.\u0275inj=r.Gb({factory:function(t){return new(t||I)},imports:[[o.b,T,w.a]]}),I)}}])}();