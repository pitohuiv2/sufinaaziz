(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"0CZs":function(e,t,i){"use strict";i.r(t),i.d(t,"DaftarPiutangPasienModule",function(){return L});var a=i("ofXK"),n=i("tyNb"),l=i("7zfz"),o=i("1zoS"),r=i("wd/R"),s=i("fXoL"),b=i("EJUL"),c=i("U+s4"),p=i("G0w9"),d=i("ujBT"),h=i("Nf9I"),u=i("eO1q"),g=i("3Pt+"),m=i("arFO"),f=i("7kUa"),P=i("jIHw"),w=i("xlun"),v=i("5EWq"),Q=i("rEr+"),k=i("Q4Mo");function x(e,t){if(1&e){const e=s.Sb();s.Qb(0,"button",26),s.Yb("click",function(){return s.yc(e),s.bc().detailTagihan()}),s.Pb(),s.Qb(1,"button",27),s.Yb("click",function(){return s.yc(e),s.bc().verifikasiPiutang()}),s.Pb(),s.Qb(2,"button",28),s.Yb("click",function(){return s.yc(e),s.bc().unverifikasiPiutang()}),s.Pb()}}function M(e,t){if(1&e&&(s.Qb(0,"th",32),s.Jc(1),s.Lb(2,"p-sortIcon",33),s.Pb()),2&e){const e=t.$implicit;s.Fc("width: ",e.width,""),s.jc("pSortableColumn",e.field),s.xb(1),s.Lc(" ",e.header," "),s.xb(1),s.jc("field",e.field)}}function y(e,t){if(1&e&&(s.Qb(0,"tr"),s.Qb(1,"th",29),s.Lb(2,"p-tableHeaderCheckbox"),s.Pb(),s.Lb(3,"th",30),s.Hc(4,M,3,6,"th",31),s.Pb()),2&e){const e=t.$implicit;s.xb(4),s.ic("ngForOf",e)}}function C(e,t){if(1&e&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&e){const e=s.bc().$implicit,t=s.bc().$implicit,i=s.bc();s.xb(1),s.Lc(" ",i.formatRupiah(t[e.field],"")," ")}}function R(e,t){if(1&e&&(s.Qb(0,"span"),s.Jc(1),s.Pb()),2&e){const e=s.bc().$implicit,t=s.bc().$implicit;s.xb(1),s.Lc(" ",t[e.field],"")}}function D(e,t){if(1&e&&(s.Qb(0,"td"),s.Hc(1,C,2,1,"span",38),s.Hc(2,R,2,1,"span",38),s.Pb()),2&e){const e=t.$implicit;s.Fc("width: ",e.width,""),s.xb(1),s.ic("ngIf",null!=e.isCurrency),s.xb(1),s.ic("ngIf",null==e.isCurrency)}}function T(e,t){if(1&e&&(s.Qb(0,"tr",34),s.Qb(1,"td",29),s.Lb(2,"p-tableCheckbox",35),s.Pb(),s.Qb(3,"td",30),s.Lb(4,"button",36),s.Pb(),s.Hc(5,D,3,5,"td",37),s.Pb()),2&e){const e=t.$implicit,i=t.columns,a=t.rowIndex,n=t.expanded;s.ic("pSelectableRow",e)("pSelectableRowIndex",a),s.xb(2),s.ic("value",e),s.xb(2),s.ic("pRowToggler",e)("icon",n?"pi pi-chevron-down":"pi pi-chevron-right"),s.xb(1),s.ic("ngForOf",i)}}function J(e,t){1&e&&(s.Qb(0,"tr"),s.Qb(1,"th"),s.Jc(2,"Jenis"),s.Pb(),s.Qb(3,"th"),s.Jc(4,"Penjamin"),s.Pb(),s.Qb(5,"th"),s.Jc(6,"totalppenjamin"),s.Pb(),s.Pb())}function Y(e,t){if(1&e&&(s.Qb(0,"tr"),s.Qb(1,"td"),s.Jc(2),s.Pb(),s.Qb(3,"td"),s.Jc(4),s.Pb(),s.Qb(5,"td"),s.Jc(6),s.Pb(),s.Pb()),2&e){const e=t.$implicit;s.xb(2),s.Kc(e.kelompokpasien),s.xb(2),s.Kc(e.namarekanan),s.xb(2),s.Kc(e.totalppenjamin)}}function H(e,t){if(1&e&&(s.Qb(0,"tr"),s.Qb(1,"td",39),s.Qb(2,"div",40),s.Qb(3,"p-table",41),s.Hc(4,J,7,0,"ng-template",19),s.Hc(5,Y,7,3,"ng-template",20),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&e){const e=t.$implicit;s.xb(3),s.ic("value",e.details)}}const I=function(){return[5,10,25,50]},N=[{path:"",component:(()=>{class e{constructor(e,t,i,a,n,l,r,s,b){this.apiService=e,this.authService=t,this.confirmationService=i,this.messageService=a,this.cacheHelper=n,this.dateHelper=l,this.alertService=r,this.route=s,this.router=b,this.item={},this.dataCheck=[],this.page=o.b.get().page,this.rows=o.b.get().rows}ngOnInit(){this.dateNow=new Date,this.item.tglAwal=r(this.dateNow).format("YYYY-MM-DD 00:00"),this.item.tglAkhir=r(this.dateNow).format("YYYY-MM-DD 23:59"),this.item.jmlRows=50,this.column=[{field:"no",header:"No",width:"65px"},{field:"tglregistrasi",header:"Tgl Registrasi",width:"140px"},{field:"norm",header:"No RM",width:"100px"},{field:"noRegistrasi",header:"Noregistrasi",width:"125px"},{field:"namaPasien",header:"Nama Pasien",width:"250px"},{field:"jenisPasisen",header:"Tipe Pasien",width:"120px"},{field:"namaruangan",header:"Ruangan",width:"180px"},{field:"tglpulang",header:"Tgl Pulang",width:"140px"},{field:"totalBilling",header:"Total Billing",width:"140px",isCurrency:!0},{field:"totalKlaim",header:"Total Klaim",width:"140px",isCurrency:!0},{field:"totalBayar",header:"Total Bayar",width:"140px",isCurrency:!0},{field:"multipenjamin",header:"Multi Penjamin",width:"140px"},{field:"statusVerifikasi",header:"Stat Piutang",width:"180px"}],this.getDataCombo()}formatRupiah(e,t){return t+" "+parseFloat(e).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}getDataCombo(){this.apiService.get("kasir/get-combo-kasir").subscribe(e=>{var t=e;this.listDepartemen=t.departemen,this.listKelompokPasien=t.kelompokpasien,this.LoadCache()})}isiRuangan(){null!=this.item.dataDepartemen&&(this.listRuangan=this.item.dataDepartemen.ruangan)}LoadCache(){var e=this.cacheHelper.get("PiutangkasirCtrl");null!=e?(this.item.tglAwal=new Date(e[0]),this.item.tglAkhir=new Date(e[1]),this.item.status=e[2],this.item.namaOrReg=e[3],null!=e[6]&&(this.listDepartemen=[e[6]],this.item.dataDepartemen=e[6]),null!=e[5]&&(this.listRuangan=[e[5]],this.item.dataRuangan=e[5]),null!=e[4]&&""!=e[4]&&(this.item.noReg=e[4]),null!=e[7]&&""!=e[7]&&(this.item.noRm=e[7]),null!=e[8]&&""!=e[8]&&(this.item.jmlRows=e[8]),this.getData()):this.getData()}getData(){this.selected=[];var e=r(this.item.tglAwal).format("YYYY-MM-DD HH:mm"),t=r(this.item.tglAkhir).format("YYYY-MM-DD HH:mm"),i="",a=void 0;null!=this.item.ruangan&&(i=this.item.dataRuangan.id,a={id:this.item.dataRuangan.id,ruangan:this.item.dataRuangan.ruangan});var n="",l=void 0;null!=this.item.instalasi&&(n=this.item.dataDepartemen.id,l={id:this.item.dataDepartemen.id,departemen:this.item.dataDepartemen.departemen});var o="";null!=this.item.dataKelPasien&&(o=this.item.dataKelPasien.id);var s="";null!=this.item.noRM&&(s=this.item.noRM);var b="";null!=this.item.Noregistrasi&&(b=this.item.Noregistrasi);var c="";null!=this.item.namaPasien&&(c=this.item.namaPasien);var p="";null!=this.item.jmlRows&&(p=this.item.jmlRows),this.cacheHelper.set("PiutangkasirCtrl",{0:e,1:t,2:void 0,3:c,4:b,5:a,6:l,7:s}),this.apiService.get("kasir/daftar-piutang-pasien?namaPasien="+c+"&ruanganId="+i+"&status=&tglAwal="+e+"&tglAkhir="+t+"&noReg="+b+"&instalasiId="+n+"&noRm="+s+"&jmlRows="+p+"&kelompokPasienId="+o).subscribe(e=>{var t=e.data;for(let i=0;i<t.length;i++){const e=t[i];e.no=i+1,e.multipenjamin=e.details.length>0?"\u2714":"-"}this.dataTable=t})}cari(){this.getData()}detailTagihan(){null!=this.selected?this.selected.length>1?this.alertService.warn("Info","Untuk Masuk Detail Tagihan Pilih Hanya Satu Data!"):this.router.navigate(["detail-tagihan",this.selected[0].noRegistrasi]):this.alertService.warn("Info","Untuk Masuk Detail Tagihan Pilih Hanya Satu Data!")}verifikasiPiutang(){var e=[];if(this.selected.length>0)for(let t=0;t<this.selected.length;t++)e.push(this.selected[t].norec);e.length>0?this.apiService.post("kasir/verify-piutang-pasien",{dataPiutang:e}).subscribe(e=>{this.getData()}):this.alertService.warn("Info","Data Belum Dipilih!")}unverifikasiPiutang(){var e=[];if(this.selected.length>0)for(let t=0;t<this.selected.length;t++)e.push(this.selected[t].norec);e.length>0?this.apiService.post("kasir/cancel-verify-piutang-pasien",{dataPiutang:e}).subscribe(e=>{this.getData()}):this.alertService.warn("Info","Data Belum Dipilih!")}}return e.\u0275fac=function(t){return new(t||e)(s.Jb(b.a),s.Jb(b.b),s.Jb(l.a),s.Jb(l.h),s.Jb(c.a),s.Jb(p.a),s.Jb(d.a),s.Jb(n.a),s.Jb(n.f))},e.\u0275cmp=s.Db({type:e,selectors:[["app-daftar-piutang-pasien"]],features:[s.wb([l.a])],decls:64,vars:36,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-col-12","p-md-12"],[1,"p-grid"],[1,"p-col-12","p-md-2"],["for","input",1,"label"],["yearRange","1980:2030","dateFormat","yy-mm-dd",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Instalasi","optionLabel","namadepartemen",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Ruangan","optionLabel","namaruangan",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Tipe Pasien","optionLabel","kelompokpasien",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","Jml Rows",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1",2,"margin-top","9px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],["styleClass","p-mb-4"],["pTemplate","left"],["styleClass","p-datatable-customers","scrollable","true","sortMode","multiple","dataKey","norec",3,"columns","value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["type","text","pInputText","","placeholder","No Rekam Medis",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","Noregistrasi",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-3"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange","keyup.enter"],["pButton","","type","submit","icon","pi pi-money-bill","pTooltip","Detail Tagihan","label","Detail Tagihan",1,"p-mr-2",3,"click"],["pButton","","type","submit","icon","pi pi-check-square","pTooltip","Verifikasi Piutang","label","Verifikasi",1,"p-button-success","p-mr-2",3,"click"],["pButton","","type","submit","icon","pi pi-times-circle","pTooltip","Unverifikasi Piutang","label","Unverifikasi",1,"p-button-danger","p-mr-2",3,"click"],[2,"width","40px"],[2,"width","80px"],[3,"pSortableColumn","style",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"value"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","p-mr-2",3,"pRowToggler","icon"],[3,"style",4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","10"],[1,"p-p-3"],["dataKey","norec",3,"value"]],template:function(e,t){1&e&&(s.Lb(0,"p-confirmDialog",0),s.Qb(1,"div",1),s.Qb(2,"div",2),s.Qb(3,"h4"),s.Jc(4,"Daftar Piutang Pasien"),s.Pb(),s.Qb(5,"div",3),s.Qb(6,"div",4),s.Qb(7,"div",5),s.Qb(8,"label",6),s.Jc(9,"Periode Awal"),s.Pb(),s.Qb(10,"p-calendar",7),s.Yb("ngModelChange",function(e){return t.item.tglAwal=e}),s.Pb(),s.Pb(),s.Qb(11,"div",5),s.Qb(12,"label",6),s.Jc(13,"Periode Akhir"),s.Pb(),s.Qb(14,"p-calendar",7),s.Yb("ngModelChange",function(e){return t.item.tglAkhir=e}),s.Pb(),s.Pb(),s.Qb(15,"div",5),s.Qb(16,"label",6),s.Jc(17,"Instalasi"),s.Pb(),s.Qb(18,"p-dropdown",8),s.Yb("ngModelChange",function(e){return t.item.dataDepartemen=e}),s.Pb(),s.Pb(),s.Qb(19,"div",5),s.Qb(20,"label",6),s.Jc(21,"Ruangan"),s.Pb(),s.Qb(22,"p-dropdown",9),s.Yb("ngModelChange",function(e){return t.item.dataRuangan=e}),s.Pb(),s.Pb(),s.Qb(23,"div",5),s.Qb(24,"label",6),s.Jc(25,"Tipe Pasien"),s.Pb(),s.Qb(26,"p-dropdown",10),s.Yb("ngModelChange",function(e){return t.item.dataKelPasien=e}),s.Pb(),s.Pb(),s.Qb(27,"div",11),s.Qb(28,"label",6),s.Jc(29,"jml Rows"),s.Pb(),s.Qb(30,"input",12),s.Yb("ngModelChange",function(e){return t.item.jmlRows=e})("keyup.enter",function(){return t.cari()}),s.Pb(),s.Pb(),s.Qb(31,"div",13),s.Qb(32,"div",3),s.Qb(33,"button",14),s.Yb("click",function(){return t.cari()}),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(34,"div",3),s.Qb(35,"p-toolbar",15),s.Hc(36,x,3,0,"ng-template",16),s.Pb(),s.Qb(37,"p-table",17,18),s.Yb("selectionChange",function(e){return t.selected=e}),s.Hc(39,y,5,1,"ng-template",19),s.Hc(40,T,6,6,"ng-template",20),s.Hc(41,H,6,1,"ng-template",21),s.Pb(),s.Pb(),s.Qb(42,"div",3),s.Qb(43,"div",4),s.Qb(44,"div",5),s.Qb(45,"div",3),s.Qb(46,"label",6),s.Jc(47,"No Rekam Medis "),s.Pb(),s.Pb(),s.Qb(48,"div",3),s.Qb(49,"input",22),s.Yb("ngModelChange",function(e){return t.item.noRM=e})("keyup.enter",function(){return t.cari()}),s.Pb(),s.Pb(),s.Pb(),s.Qb(50,"div",5),s.Qb(51,"div",3),s.Qb(52,"label",6),s.Jc(53,"Noregistrasi"),s.Pb(),s.Pb(),s.Qb(54,"div",3),s.Qb(55,"input",23),s.Yb("ngModelChange",function(e){return t.item.Noregistrasi=e})("keyup.enter",function(){return t.cari()}),s.Pb(),s.Pb(),s.Pb(),s.Qb(56,"div",24),s.Qb(57,"div",3),s.Qb(58,"label",6),s.Jc(59,"Nama Pasien "),s.Pb(),s.Pb(),s.Qb(60,"div",3),s.Qb(61,"input",25),s.Yb("ngModelChange",function(e){return t.item.namaPasien=e})("keyup.enter",function(){return t.cari()}),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(62,"div",3),s.Lb(63,"div",4),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.xb(10),s.ic("ngModel",t.item.tglAwal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),s.xb(4),s.ic("ngModel",t.item.tglAkhir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),s.xb(4),s.ic("options",t.listDepartemen)("ngModel",t.item.dataDepartemen)("filter",!0)("showClear",!0),s.xb(4),s.ic("options",t.listRuangan)("ngModel",t.item.dataRuangan)("filter",!0)("showClear",!0),s.xb(4),s.ic("options",t.listKelompokPasien)("ngModel",t.item.dataKelPasien)("filter",!0)("showClear",!0),s.xb(4),s.ic("ngModel",t.item.jmlRows),s.xb(7),s.ic("columns",t.column)("value",t.dataTable)("selection",t.selected)("rowHover",!0)("rows",20)("showCurrentPageReport",!0)("rowsPerPageOptions",s.mc(35,I))("paginator",!0)("pageLinks",5),s.xb(12),s.ic("ngModel",t.item.noRM),s.xb(6),s.ic("ngModel",t.item.Noregistrasi),s.xb(6),s.ic("ngModel",t.item.namaPasien))},directives:[h.a,u.a,g.g,g.h,m.a,g.a,f.a,P.b,w.a,v.a,l.k,Q.h,Q.j,a.k,Q.g,Q.f,Q.e,Q.i,k.a,Q.d,a.l],styles:[""]}),e})()}];let S=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[n.j.forChild(N)],n.j]}),e})();var j=i("PCNd");let L=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[a.b,S,j.a]]}),e})()}}]);