!function(){function a(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function e(a,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}function n(a,n,i){return n&&e(a.prototype,n),i&&e(a,i),a}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{abSf:function(e,i,t){"use strict";t.d(i,"a",function(){return h});var l=t("fXoL"),r=t("7CaW"),s=t("SSqW"),o=t("ofXK"),b=t("3Pt+"),u=t("7kUa"),g=t("jeV5");function c(a,e){if(1&a){var n=l.Sb();l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",0),l.Qb(3,"div",1),l.Qb(4,"label",4),l.Jc(5,"No Registrasi "),l.Pb(),l.Qb(6,"input",5),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.noregistrasi=a}),l.Pb(),l.Pb(),l.Qb(7,"div",1),l.Qb(8,"label",4),l.Jc(9,"No Rekam Medis "),l.Pb(),l.Qb(10,"input",6),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.nocm=a}),l.Pb(),l.Pb(),l.Qb(11,"div",1),l.Qb(12,"label",4),l.Jc(13,"Nama Pasien "),l.Pb(),l.Qb(14,"input",7),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.namapasien=a}),l.Pb(),l.Pb(),l.Qb(15,"div",1),l.Qb(16,"label",4),l.Jc(17,"Tgl Registrasi "),l.Pb(),l.Qb(18,"input",8),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.tglregistrasi=a}),l.Pb(),l.Pb(),l.Qb(19,"div",1),l.Qb(20,"label",4),l.Jc(21,"Tipe Pasien "),l.Pb(),l.Qb(22,"input",8),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.kelompokpasien=a}),l.Pb(),l.Pb(),l.Qb(23,"div",1),l.Qb(24,"label",4),l.Jc(25,"Jenis Kelamin "),l.Pb(),l.Qb(26,"input",7),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.jeniskelamin=a}),l.Pb(),l.Pb(),l.Qb(27,"div",1),l.Qb(28,"label",4),l.Jc(29,"Tgl Lahir "),l.Pb(),l.Qb(30,"input",9),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.tgllahir=a}),l.Pb(),l.Pb(),l.Qb(31,"div",1),l.Qb(32,"label",4),l.Jc(33,"Umur "),l.Pb(),l.Qb(34,"input",8),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.umur=a}),l.Pb(),l.Pb(),l.Qb(35,"div",1),l.Qb(36,"label",4),l.Jc(37,"Alamat "),l.Pb(),l.Qb(38,"input",10),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.alamatlengkap=a}),l.Pb(),l.Pb(),l.Qb(39,"div",1),l.Qb(40,"label",4),l.Jc(41,"Kelas "),l.Pb(),l.Qb(42,"input",8),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.namakelas=a}),l.Pb(),l.Pb(),l.Qb(43,"div",1),l.Qb(44,"label",4),l.Jc(45,"Ruangan "),l.Pb(),l.Qb(46,"input",8),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.namaruangan=a}),l.Pb(),l.Pb(),l.Qb(47,"div",1),l.Qb(48,"label",4),l.Jc(49,"Pendidikan "),l.Pb(),l.Qb(50,"input",11),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.pendidikan=a}),l.Pb(),l.Pb(),l.Qb(51,"div",1),l.Qb(52,"label",4),l.Jc(53,"Jenis Pelayanan "),l.Pb(),l.Qb(54,"input",8),l.Yb("ngModelChange",function(a){return l.yc(n),l.bc().item.pasien.jenispelayanan=a}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()}if(2&a){var i=l.bc();l.xb(6),l.ic("ngModel",i.item.pasien.noregistrasi),l.xb(4),l.ic("ngModel",i.item.pasien.nocm),l.xb(4),l.ic("ngModel",i.item.pasien.namapasien),l.xb(4),l.ic("ngModel",i.item.pasien.tglregistrasi),l.xb(4),l.ic("ngModel",i.item.pasien.kelompokpasien),l.xb(4),l.ic("ngModel",i.item.pasien.jeniskelamin),l.xb(4),l.ic("ngModel",i.item.pasien.tgllahir),l.xb(4),l.ic("ngModel",i.item.pasien.umur),l.xb(4),l.ic("ngModel",i.item.pasien.alamatlengkap),l.xb(4),l.ic("ngModel",i.item.pasien.namakelas),l.xb(4),l.ic("ngModel",i.item.pasien.namaruangan),l.xb(4),l.ic("ngModel",i.item.pasien.pendidikan),l.xb(4),l.ic("ngModel",i.item.pasien.jenispelayanan)}}function d(a,e){1&a&&(l.Qb(0,"div",1),l.Lb(1,"p-skeleton",13),l.Pb())}function p(a,e){if(1&a&&(l.Qb(0,"div",0),l.Hc(1,d,2,0,"div",12),l.Pb()),2&a){var n=l.bc();l.xb(1),l.ic("ngForOf",n.numberss)}}var m=function(){return{width:"100%",height:"70vh"}},h=function(){var e=function(){function e(){a(this,e),this.item={pasien:{}},this.numberss=Array(15).map(function(a,e){return e})}return n(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=l.Db({type:e,selectors:[["app-head-pasien"]],decls:6,vars:6,consts:[[1,"p-grid"],[1,"p-col-12","p-md-12"],["header","Info Pasien",3,"toggleable"],["class","p-grid",4,"ngIf"],["for","input",1,"label"],["type","text","pInputText","","placeholder","Cari No Registrasi","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Rekam Medis","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Nama Pasien","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Tgl Lahir","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Alamat","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Pendidikan","disabled","",3,"ngModel","ngModelChange"],["class","p-col-12 p-md-12",4,"ngFor","ngForOf"],["height","2.4rem"]],template:function(a,e){1&a&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"p-panel",2),l.Qb(3,"p-scrollPanel"),l.Hc(4,c,55,13,"div",3),l.Hc(5,p,2,1,"div",3),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&a&&(l.xb(2),l.ic("toggleable",!0),l.xb(1),l.Ec(l.mc(5,m)),l.xb(1),l.ic("ngIf",null!=e.item.pasien.nocm),l.xb(1),l.ic("ngIf",null==e.item.pasien.nocm))},directives:[r.a,s.a,o.l,b.a,u.a,b.g,b.h,o.k,g.a],styles:[""]}),e}()},t0PB:function(e,i,t){"use strict";t.r(i),t.d(i,"PindahPulangModule",function(){return G});var l=t("ofXK"),r=t("tyNb"),s=t("7zfz"),o=t("wd/R"),b=t("abSf"),u=t("fXoL"),g=t("EJUL"),c=t("U+s4"),d=t("G0w9"),p=t("ujBT"),m=t("Nf9I"),h=t("7CaW"),f=t("arFO"),P=t("3Pt+"),v=t("jIHw"),k=t("xlun"),M=t("Ji6n"),y=t("eO1q"),w=t("7kUa");function Q(a,e){if(1&a){var n=u.Sb();u.Qb(0,"div",8),u.Qb(1,"label",9),u.Jc(2,"Kondisi Keluar "),u.Pb(),u.Qb(3,"p-dropdown",19),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.kondisiKeluar=a}),u.Pb(),u.Pb()}if(2&a){var i=u.bc();u.xb(3),u.ic("options",i.listKondisiPasien)("ngModel",i.item.kondisiKeluar)("filter",!0)("showClear",!0)}}function K(a,e){if(1&a){var n=u.Sb();u.Qb(0,"div",8),u.Qb(1,"label",9),u.Jc(2,"Status Pulang "),u.Pb(),u.Qb(3,"p-dropdown",20),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.statusPulang=a}),u.Pb(),u.Pb()}if(2&a){var i=u.bc();u.xb(3),u.ic("options",i.listStatusPulang)("ngModel",i.item.statusPulang)("filter",!0)("showClear",!0)}}function C(a,e){if(1&a){var n=u.Sb();u.Qb(0,"div",21),u.Qb(1,"p-checkbox",22),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.rawatGabung=a})("onChange",function(){u.yc(n);var a=u.bc();return a.cekRawatGabung(a.item.rawatGabung)}),u.Pb(),u.Qb(2,"label",23),u.Jc(3," Rawat Gabung"),u.Pb(),u.Pb()}if(2&a){var i=u.bc();u.xb(1),u.ic("ngModel",i.item.rawatGabung)}}function x(a,e){if(1&a){var n=u.Sb();u.Qb(0,"div",8),u.Qb(1,"label",24),u.Jc(2," Tgl Rencana Pindah "),u.Pb(),u.Qb(3,"p-calendar",25),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.tglRencanaKeluar=a}),u.Pb(),u.Pb()}if(2&a){var i=u.bc();u.xb(3),u.ic("ngModel",i.item.tglRencanaKeluar)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)}}function S(a,e){if(1&a){var n=u.Sb();u.Qb(0,"div",8),u.Qb(1,"label",9),u.Jc(2,"Ruangan "),u.Pb(),u.Qb(3,"p-dropdown",26),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.ruangan=a})("onChange",function(a){return u.yc(n),u.bc().changeRuangan(a)}),u.Pb(),u.Pb()}if(2&a){var i=u.bc();u.xb(3),u.ic("options",i.listRuangan)("ngModel",i.item.ruangan)("filter",!0)("showClear",!0)}}function Y(a,e){if(1&a){var n=u.Sb();u.Qb(0,"div",8),u.Qb(1,"label",9),u.Jc(2," Tgl Meninggal "),u.Pb(),u.Qb(3,"p-calendar",27),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.tglMeninggal=a}),u.Pb(),u.Pb()}if(2&a){var i=u.bc();u.xb(3),u.ic("ngModel",i.item.tglMeninggal)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0)}}function I(a,e){if(1&a){var n=u.Sb();u.Qb(0,"div",8),u.Qb(1,"label",9),u.Jc(2,"Penyebab Kematian "),u.Pb(),u.Qb(3,"p-dropdown",28),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.penyebabKematian=a})("onChange",function(a){return u.yc(n),u.bc().IsiPenyebab(a)}),u.Pb(),u.Pb()}if(2&a){var i=u.bc();u.xb(3),u.ic("options",i.listPenyebabKematian)("ngModel",i.item.penyebabKematian)("filter",!0)("showClear",!0)}}function T(a,e){if(1&a){var n=u.Sb();u.Qb(0,"div",8),u.Qb(1,"label",9),u.Jc(2," Isi Penyebab "),u.Pb(),u.Qb(3,"input",29),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.PenyebabKematianText=a}),u.Pb(),u.Pb()}if(2&a){var i=u.bc();u.xb(3),u.ic("ngModel",i.item.PenyebabKematianText)}}function j(a,e){if(1&a){var n=u.Sb();u.Qb(0,"div",3),u.Qb(1,"div",8),u.Qb(2,"label",9),u.Jc(3,"Kelas "),u.Pb(),u.Qb(4,"p-dropdown",30),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.kelas=a})("onChange",function(a){return u.yc(n),u.bc().changeKelas(a)}),u.Pb(),u.Pb(),u.Qb(5,"div",8),u.Qb(6,"label",9),u.Jc(7,"Kamar "),u.Pb(),u.Qb(8,"p-dropdown",31),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.kamar=a})("onChange",function(a){return u.yc(n),u.bc().changeKamar(a)}),u.Pb(),u.Pb(),u.Qb(9,"div",8),u.Qb(10,"label",9),u.Jc(11,"Nomor Tempat Tidur "),u.Pb(),u.Qb(12,"p-dropdown",32),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.nomorTempatTidur=a}),u.Pb(),u.Pb(),u.Qb(13,"div",8),u.Qb(14,"label",9),u.Jc(15,"Keterangan "),u.Pb(),u.Qb(16,"input",33),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.keteranganLainnya=a}),u.Pb(),u.Pb(),u.Pb()}if(2&a){var i=u.bc();u.xb(4),u.ic("options",i.listKelas)("ngModel",i.item.kelas)("filter",!0)("showClear",!0),u.xb(4),u.ic("options",i.listKamar)("ngModel",i.item.kamar)("filter",!0)("showClear",!0),u.xb(4),u.ic("options",i.listNoBed)("ngModel",i.item.nomorTempatTidur)("filter",!0)("showClear",!0),u.xb(4),u.ic("ngModel",i.item.keteranganLainnya)}}function J(a,e){if(1&a){var n=u.Sb();u.Qb(0,"div",6),u.Qb(1,"p-panel",34),u.Qb(2,"div",3),u.Qb(3,"div",8),u.Qb(4,"label",9),u.Jc(5,"Tgl Keluar "),u.Pb(),u.Qb(6,"p-calendar",35),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.tglKeluar=a}),u.Pb(),u.Pb(),u.Qb(7,"div",8),u.Qb(8,"label",9),u.Jc(9,"Nama Pembawa Pulang "),u.Pb(),u.Qb(10,"input",36),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.namaPembawaPulang=a}),u.Pb(),u.Pb(),u.Qb(11,"div",8),u.Qb(12,"label",9),u.Jc(13,"Hubungan Keluarga "),u.Pb(),u.Qb(14,"p-dropdown",37),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.hubunganKeluarga=a}),u.Pb(),u.Pb(),u.Qb(15,"div",8),u.Qb(16,"label",9),u.Jc(17,"Surat Keterangan Polisi "),u.Pb(),u.Qb(18,"input",38),u.Yb("ngModelChange",function(a){return u.yc(n),u.bc().item.suratKetPol=a}),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb()}if(2&a){var i=u.bc();u.xb(1),u.ic("toggleable",!0),u.xb(5),u.ic("ngModel",i.item.tglKeluar)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!0),u.xb(4),u.ic("ngModel",i.item.namaPembawaPulang),u.xb(4),u.ic("options",i.listHubunganKel)("ngModel",i.item.hubunganKeluarga)("filter",!0)("showClear",!0),u.xb(4),u.ic("ngModel",i.item.suratKetPol)}}var N,D,H,R=[{path:"",component:(N=function(){function e(n,i,t,l,r,s,o,b,u){a(this,e),this.apiService=n,this.authService=i,this.confirmationService=t,this.messageService=l,this.cacheHelper=r,this.dateHelper=s,this.alertService=o,this.route=b,this.router=u,this.item={pasien:{},jumlah:1,tglPelayanan:new Date,tglMeninggal:new Date,tglKeluar:new Date,tglRencanaKeluar:new Date},this.maxDateValue=new Date,this.listStatusKeluar=[],this.listKondisiPasien=[],this.listStatusPulang=[],this.listRuangan=[],this.listHubunganKel=[],this.listPenyebabKematian=[],this.listKamar=[],this.listNoBed=[],this.listKelas=[],this.now=new Date}return n(e,[{key:"ngAfterViewInit",value:function(){var a=this;this.route.params.subscribe(function(e){a.currentNorecPD=e.norec_rp,a.currentNorecAPD=e.norec_dpr,a.loadCombo(),a.loadHead()})}},{key:"ngOnInit",value:function(){}},{key:"loadHead",value:function(){var a=this;this.apiService.get("rawatinap/get-pasien-bynorec?norec_pd="+this.currentNorecPD+"&norec_apd="+this.currentNorecAPD).subscribe(function(e){e.tgllahir=o(new Date(e.tgllahir)).format("YYYY-MM-DD"),e.umur=a.dateHelper.getUmur(new Date(e.tgllahir),new Date),a.h.item.pasien=e,a.item.pasien=e})}},{key:"loadCombo",value:function(){var a=this;this.apiService.get("rawatinap/get-combo-pindahpasien").subscribe(function(e){for(var n=0;n<e.statuskeluar.length;n++)e.statuskeluar[n].id=parseInt(e.statuskeluar[n].id);a.listStatusKeluar=e.statuskeluar,a.listKondisiPasien=e.kondisipasien,a.listStatusPulang=e.statuspulang,a.listRuangan=e.ruanganinap,a.listHubunganKel=e.hubungankeluarga,a.listPenyebabKematian=e.penyebabkematian,a.idPindah=parseInt(e.idPindah),parseInt(e.idStatusKeluarMeninggal),a.idKelompokPasienBPJS=parseInt(e.idKelompokPasienBPJS),parseInt(e.idStatusKeluarPulang)})}},{key:"IsiPenyebab",value:function(a){void 0!==a&&(this.PenyebabKematianManual="LAINNYA"==a.value.penyebabkematian)}},{key:"changeStatus",value:function(a){a.value.id==this.idPindah?(this.showPindah=!0,this.showMeninggal=!1):a.value.id==this.idMeninggal?(this.showMeninggal=!0,this.showPindah=!1):(this.showMeninggal=!1,this.showPindah=!1)}},{key:"changeRuangan",value:function(a){var e=this;this.apiService.get("registrasi/get-kelasbyruangan?idRuangan="+a.value.id).subscribe(function(a){e.listKelas=a.kelas})}},{key:"changeKelas",value:function(a){var e=this;void 0!==a&&(this.item.kelas||this.item.ruangan)&&this.apiService.get("registrasi/get-kamarbyruangankelas?idKelas="+this.item.kelas.id+"&idRuangan="+this.item.ruangan.id+"&israwatgabung="+this.item.rawatGabung).subscribe(function(a){e.listKamar=a.kamar})}},{key:"changeKamar",value:function(a){var e=this;void 0!==a.value.id&&null!=a.value.id&&this.apiService.get("registrasi/get-nobedbykamar?idKamar="+a.value.id).subscribe(function(a){if(e.listNoBed=[],e.item.rawatGabung)e.listNoBed=a.bed;else for(var n=0;n<a.bed.length;n++){var i=a.bed[n];"KOSONG"==i.statusbed&&e.listNoBed.push(i)}})}},{key:"save",value:function(){var a=this;if(null!=this.item.statusKeluar)if(this.item.statusKeluar.id===this.idPindah){if(null==this.item.ruangan)return void this.alertService.error("Info","Ruangan  belum di pilih");if(null==this.item.kelas)return void this.alertService.error("Info","Kelas belum di pilih");this.SavePindah()}else this.confirmationService.confirm({message:"Pastikan PELAYANAN sudah di Input semua ! Lanjut Simpan?",accept:function(){a.apiService.post("rawatinap/save-akomodasi-tea",{noregistrasi:a.item.pasien.noregistrasi}).subscribe(function(a){}),a.SavePulang()},reject:function(){}});else this.alertService.error("Info","Status keluar belum di pilih")}},{key:"SavePindah",value:function(){var a=this,e=null;null!=this.item.statusKeluar&&(e=this.item.statusKeluar.id);var n=null;null!=this.item.ruangan&&(n=this.item.ruangan.id);var i=null;null!=this.item.kelas&&(i=this.item.kelas.id);var t=null;null!=this.item.kamar&&(t=this.item.kamar.id);var l=null;null!=this.item.nomorTempatTidur&&(l=this.item.nomorTempatTidur.id);var r="";null!=this.item.keteranganLainnya&&(r=this.item.keteranganLainnya);var s=null;null!=this.item.hubunganKeluarga&&(s=this.item.hubunganKeluarga.id);var b=null;null!=this.item.kondisipasien&&(b=this.item.kondisipasien.id);var u=null;null!=this.item.penyebabKematian&&(u=this.item.penyebabKematian.id);var g=null;null!=this.item.statusPulang&&(g=this.item.statusPulang.id);var c={strukorder:{norecorder:"",norecrpp:"",tglorder:o(this.now).format("YYYY-MM-DD HH:mm:ss")},pasiendaftar:{tglregistrasi:o(this.item.pasien.tglregistrasi).format("YYYY-MM-DD HH:mm:ss"),tglregistrasidate:o(this.item.pasien.tglregistrasi).format("YYYY-MM-DD"),noregistrasi:this.item.pasien.noregistrasi,objectruanganasalfk:this.item.pasien.objectruanganlastfk,objectruanganlastfk:n,objectkelasfk:i,objecthubungankeluargaambilpasienfk:s,objectkondisipasienfk:b,objectpenyebabkematianfk:u,objectstatuskeluarfk:e,objectstatuspulangfk:g,norec_pd:this.currentNorecPD,objectkelompokpasienlastfk:this.item.pasien.objectkelompokpasienlastfk,nocmfk:this.item.pasien.nocmfk,objectstatuskeluarrencanafk:e,statuspasien:this.item.pasien.statuspasien},antrianpasiendiperiksa:{tglregistrasi:o(this.item.pasien.tglregistrasi).format("YYYY-MM-DD HH:mm:ss"),objectruanganasalfk:this.item.pasien.objectruanganlastfk,objectruanganlastfk:n,objectkelasfk:i,objectkamarfk:t,nobed:l,tglmasuk:o(this.item.tglRencanaKeluar).format("YYYY-MM-DD HH:mm:ss"),objectasalrujukanfk:this.item.pasien.objectasalrujukanfk,norec_apd:this.item.pasien.norec_apd,keteranganpindah:r,israwatgabung:!0===this.item.rawatGabung?1:0}};this.isSimpan=!0,this.apiService.post("rawatinap/save-pindah-pasien",c).subscribe(function(e){a.resultAPD=e.dataAPD,a.isSimpan=!1,a.apiService.postLog("Pindah Ruangan","norec Daftar Pasien Ruangan",e.dataAPD.norec,"Pindah Ruangan dari "+a.item.pasien.namaruangan+" ke Ruangan "+a.item.ruangan.namaruangan+" pada No Registrasi "+a.item.pasien.noregistrasi).subscribe(function(a){}),window.history.back()},function(e){a.isSimpan=!1})}},{key:"SavePulang",value:function(){var a=this,e=null;null!=this.item.statusKeluar&&(e=this.item.statusKeluar.id);var n=null;null!=this.item.ruangan&&(n=this.item.ruangan.id);var i=null;null!=this.item.hubunganKeluarga&&(i=this.item.hubunganKeluarga.id);var t=null,l=null;null!=this.item.kondisiKeluar&&(t=this.item.kondisiKeluar.id,l=this.item.kondisiKeluar.kondisipasien);var r="";null!=this.item.PenyebabKematianText&&(r=this.item.PenyebabKematianText);var s=null;null!=this.item.penyebabKematian&&(s=this.item.penyebabKematian.id);var b=null;null!=this.item.statusPulang&&(b=this.item.statusPulang.id);var u=null;null!=this.item.namaPembawaPulang&&(u=this.item.namaPembawaPulang);var g={strukorder:{norecorder:"",norecrpp:"",tglorder:o(this.now).format("YYYY-MM-DD HH:mm:ss")},pasiendaftar:{namalengkapambilpasien:u,noregistrasi:this.item.pasien.noregistrasi,objectruanganlastfk:n,objecthubungankeluargaambilpasienfk:i,objectkondisipasienfk:t,objectpenyebabkematianfk:s,objectstatuskeluarfk:e,objectstatuspulangfk:b,tglmeninggal:o(this.item.tglMeninggal).format("YYYY-MM-DD HH:mm:ss"),tglpulang:o(this.item.tglKeluar).format("YYYY-MM-DD HH:mm:ss"),norec_pd:this.currentNorecPD,objectstatuskeluarrencanafk:e,nocmfk:this.item.pasien.nocmfk,keteranganpulang:"Pulang dengan kondisi : "+l,keterangankematian:r},antrianpasiendiperiksa:{objectruanganlastfk:this.item.pasien.objectruanganlastfk,norec_apd:this.item.pasien.norec_apd}};this.isSimpan=!0,this.apiService.post("rawatinap/save-pulang-pasien",g).subscribe(function(e){"true"==a.item.pasien.israwatinap&&a.item.pasien.objectkelompokpasienlastfk==a.idKelompokPasienBPJS&&a.item.statusKeluar.id==a.idStatusKeluarPulang&&a.setTglPulangBridging(),a.isSimpan=!1,a.apiService.postLog("Pasien Pulang","norec Registrasi Pasien",a.currentNorecPD,"Pasien Pulang dari "+a.item.pasien.namaruangan+" pada No Registrasi "+a.item.pasien.noregistrasi).subscribe(function(a){}),window.history.back()},function(e){a.isSimpan=!1})}},{key:"setTglPulangBridging",value:function(){var a=this,e="";null!=this.item.statusPulang&&(e=this.item.statusPulang.kodeexternal?this.item.statusPulang.kodeexternal:this.item.statusPulang.id);var n="";"4"==e&&(n=this.item.pasien.noregistrasi);var i={data:{request:{t_sep:{noSep:this.item.noSep,statusPulang:e,noSuratMeninggal:n,tglMeninggal:"4"==e?o(this.item.tglMeninggal).format("YYYY-MM-DD"):"",tglPulang:o(this.item.tglKeluar).format("YYYY-MM-DD"),noLPManual:this.item.suratKetPol?this.item.suratKetPol:"",user:"Xoxo"}}}};this.apiService.putNonMessage("bridging/bpjs/update-tglpulang",i).subscribe(function(e){a.alertService.info("Set Tgl Pulang BPJS",e.metaData.message)})}},{key:"cekRawatGabung",value:function(a){var e=this;!0===a&&null!=this.item.pasien.id_ibu&&this.apiService.get("rawatinap/get-kamar-ruangan-ibu?id_ibu="+this.item.pasien.id_ibu+"&nocm="+this.item.pasien.nocm).subscribe(function(a){a.length>0&&(e.listKamar=[],e.listNoBed=[],e.listKamar.push({id:a[0].objectkamarfk,namakamar:a[0].namakamar}),e.listNoBed.push({id:a[0].nobed,reportdisplay:a[0].tempattidur}),e.item.ruangan={id:a[0].objectruanganlastfk,namaruangan:a[0].namaruangan},e.item.kelas={id:a[0].kelasfk,namakelas:a[0].namakelas},e.item.kamar={id:a[0].objectkamarfk,namakamar:a[0].namakamar},e.item.nomorTempatTidur={id:a[0].nobed,reportdisplay:a[0].tempattidur})})}},{key:"cancel",value:function(){window.history.back()}}]),e}(),N.\u0275fac=function(a){return new(a||N)(u.Jb(g.a),u.Jb(g.b),u.Jb(s.a),u.Jb(s.h),u.Jb(c.a),u.Jb(d.a),u.Jb(p.a),u.Jb(r.a),u.Jb(r.f))},N.\u0275cmp=u.Db({type:N,selectors:[["app-pindah-pulang"]],viewQuery:function(a,e){var n;1&a&&u.Nc(b.a,!0),2&a&&u.vc(n=u.Zb())&&(e.h=n.first)},features:[u.wb([s.a])],decls:33,vars:16,consts:[["header","Confirmation","icon","fa fa-question-circle"],[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-4"],[1,"p-col-12","p-md-8"],[1,"p-col-12","p-md-6"],["header","Kondisi Pasien",3,"toggleable"],[1,"p-col-12","p-md-12"],["for","input",1,"label"],["placeholder","Status Keluar ","optionLabel","statuskeluar",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["class","p-col-12 p-md-12",4,"ngIf"],["class","p-col-12 p-md-12","style","margin-top: 15px;",4,"ngIf"],["class","p-grid",4,"ngIf"],["class","p-col-12 p-md-6",4,"ngIf"],[1,"p-col-12","p-md-2","p-md-offset-8"],["pButton","","type","button","icon","pi pi-save","pTooltip","Simpan","label","Simpan",1,"p-button","p-mr-2",3,"disabled","click"],[1,"p-col-12","p-md-2"],["pButton","","type","button","icon","pi pi-arrow-left","pTooltip","Kembali","label","Batal",1,"p-button","p-button-danger","p-mr-2",3,"click"],["placeholder","Kondisi Keluar ","optionLabel","kondisipasien",3,"options","ngModel","filter","showClear","ngModelChange"],["placeholder","Status Pulang ","optionLabel","statuspulang",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"p-col-12","p-md-12",2,"margin-top","15px"],["binary","true","inputId","item.rawatGabung",3,"ngModel","ngModelChange","onChange"],["for","item.rawatGabung"],["for","input",1,"label-required"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Rencana Pindah","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Ruangan ","optionLabel","namaruangan",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Meninggal","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["placeholder","Penyebab Kematian ","optionLabel","penyebabkematian",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["type","text","pInputText","","placeholder","Isi Penyebab ",3,"ngModel","ngModelChange"],["placeholder","Kelas","optionLabel","namakelas",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["placeholder","Kamar","optionLabel","namakamar",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["placeholder","Nomor Tempat Tidur","optionLabel","reportdisplay",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Keterangan ",3,"ngModel","ngModelChange"],["header","Pasien Pulang",3,"toggleable"],["yearRange","1980:2030","dateFormat","yy-mm-dd","placeholder","Tgl Keluar","hourFormat","24",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["type","text","pInputText","","placeholder","Nama Pembawa Pulang ",3,"ngModel","ngModelChange"],["placeholder","Hubungan Keluarga","optionLabel","hubungankeluarga",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","Surat Keterangan Polisi",3,"ngModel","ngModelChange"]],template:function(a,e){1&a&&(u.Lb(0,"p-confirmDialog",0),u.Qb(1,"div",1),u.Qb(2,"div",2),u.Qb(3,"h4"),u.Jc(4,"Pindah Pulang "),u.Pb(),u.Qb(5,"div",3),u.Qb(6,"div",4),u.Lb(7,"app-head-pasien"),u.Pb(),u.Qb(8,"div",5),u.Qb(9,"div",3),u.Qb(10,"div",6),u.Qb(11,"p-panel",7),u.Qb(12,"div",3),u.Qb(13,"div",8),u.Qb(14,"label",9),u.Jc(15,"Status Keluar "),u.Pb(),u.Qb(16,"p-dropdown",10),u.Yb("ngModelChange",function(a){return e.item.statusKeluar=a})("onChange",function(a){return e.changeStatus(a)}),u.Pb(),u.Pb(),u.Hc(17,Q,4,4,"div",11),u.Hc(18,K,4,4,"div",11),u.Hc(19,C,4,1,"div",12),u.Hc(20,x,4,5,"div",11),u.Hc(21,S,4,4,"div",11),u.Hc(22,Y,4,5,"div",11),u.Hc(23,I,4,4,"div",11),u.Hc(24,T,4,1,"div",11),u.Pb(),u.Hc(25,j,17,13,"div",13),u.Pb(),u.Pb(),u.Hc(26,J,19,12,"div",14),u.Qb(27,"div",8),u.Qb(28,"div",3),u.Qb(29,"div",15),u.Qb(30,"button",16),u.Yb("click",function(){return e.save()}),u.Pb(),u.Pb(),u.Qb(31,"div",17),u.Qb(32,"button",18),u.Yb("click",function(){return e.cancel()}),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb()),2&a&&(u.xb(11),u.ic("toggleable",!0),u.xb(5),u.ic("options",e.listStatusKeluar)("ngModel",e.item.statusKeluar)("filter",!0)("showClear",!0),u.xb(1),u.ic("ngIf",!e.showPindah),u.xb(1),u.ic("ngIf",!e.showPindah),u.xb(1),u.ic("ngIf",e.showPindah),u.xb(1),u.ic("ngIf",e.showPindah),u.xb(1),u.ic("ngIf",e.showPindah),u.xb(1),u.ic("ngIf",e.showMeninggal),u.xb(1),u.ic("ngIf",e.showMeninggal),u.xb(1),u.ic("ngIf",e.PenyebabKematianManual),u.xb(1),u.ic("ngIf",e.showPindah),u.xb(1),u.ic("ngIf",!e.showPindah),u.xb(4),u.ic("disabled",e.isSimpan))},directives:[m.a,b.a,h.a,f.a,P.g,P.h,l.l,v.b,k.a,M.a,y.a,P.a,w.a],styles:[""]}),N)}],L=((D=function e(){a(this,e)}).\u0275mod=u.Hb({type:D}),D.\u0275inj=u.Gb({factory:function(a){return new(a||D)},imports:[[r.j.forChild(R)],r.j]}),D),B=t("PCNd"),G=((H=function e(){a(this,e)}).\u0275mod=u.Hb({type:H}),H.\u0275inj=u.Gb({factory:function(a){return new(a||H)},providers:[],imports:[[l.b,L,B.a]]}),H)}}])}();