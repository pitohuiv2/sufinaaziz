(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"3qe3":function(t,e,a){"use strict";a.r(e),a.d(e,"PasienLamaModule",function(){return I});var i=a("ofXK"),n=a("tyNb"),o=a("7zfz"),r=a("1zoS"),b=a("wd/R"),c=a("fXoL"),l=a("EJUL"),s=a("G0w9"),p=a("RTT/"),d=a("3Pt+"),u=a("7kUa"),g=a("eO1q"),h=a("jIHw"),m=a("xlun"),T=a("rEr+"),U=a("/RsI"),f=a("hYoW"),w=a("Q4Mo");function R(t,e){1&t&&(c.Ub(0,"tr"),c.Ub(1,"th",31),c.Qc(2,"No"),c.Tb(),c.Ub(3,"th",32),c.Ub(4,"div",33),c.Qc(5," No RM "),c.Pb(6,"p-sortIcon",34),c.Pb(7,"p-columnFilter",35),c.Tb(),c.Tb(),c.Ub(8,"th",36),c.Qc(9,"NIK"),c.Tb(),c.Ub(10,"th",36),c.Qc(11,"No BPJS"),c.Tb(),c.Ub(12,"th",37),c.Qc(13,"Nama Pasien"),c.Tb(),c.Ub(14,"th",38),c.Qc(15,"Jenis Kelamin"),c.Tb(),c.Ub(16,"th",36),c.Qc(17,"Nama Ayah Kandung "),c.Tb(),c.Ub(18,"th",38),c.Qc(19,"Tgl Lahir"),c.Tb(),c.Ub(20,"th",39),c.Qc(21,"Alamat"),c.Tb(),c.Ub(22,"th",38),c.Qc(23,"No Hp"),c.Tb(),c.Ub(24,"th",38),c.Qc(25,"Status"),c.Tb(),c.Pb(26,"th",40),c.Tb())}function y(t,e){if(1&t){const t=c.Wb();c.Ub(0,"tr"),c.Ub(1,"td",31),c.Qc(2),c.Tb(),c.Ub(3,"td",36),c.Qc(4),c.Tb(),c.Ub(5,"td",36),c.Qc(6),c.Tb(),c.Ub(7,"td",36),c.Qc(8),c.Tb(),c.Ub(9,"td",37),c.Qc(10),c.Tb(),c.Ub(11,"td",38),c.Qc(12),c.Tb(),c.Ub(13,"td",36),c.Qc(14),c.Tb(),c.Ub(15,"td",38),c.Qc(16),c.Tb(),c.Ub(17,"td",39),c.Qc(18),c.Tb(),c.Ub(19,"td",38),c.Qc(20),c.Tb(),c.Ub(21,"td",38),c.Pb(22,"p-tag",41),c.Tb(),c.Ub(23,"td",40),c.Ub(24,"button",42),c.cc("click",function(a){c.Dc(t);const i=e.$implicit;return c.gc().confirm(a,i)}),c.Tb(),c.Ub(25,"button",43),c.cc("click",function(){c.Dc(t);const a=e.$implicit;return c.gc().edit(a)}),c.Tb(),c.Ub(26,"button",44),c.cc("click",function(){c.Dc(t);const a=e.$implicit;return c.gc().riwayat(a)}),c.Tb(),c.Ub(27,"button",45),c.cc("click",function(){c.Dc(t);const a=e.$implicit;return c.gc().registrasi(a)}),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=e.$implicit,a=e.rowIndex+1;c.Bb(2),c.Rc(a),c.Bb(2),c.Rc(t.nocm),c.Bb(2),c.Rc(t.noidentitas),c.Bb(2),c.Rc(t.nobpjs),c.Bb(2),c.Rc(t.namapasien),c.Bb(2),c.Rc(t.jeniskelamin),c.Bb(2),c.Rc(t.namaayah),c.Bb(2),c.Rc(t.tgllahir),c.Bb(2),c.Rc(t.alamatlengkap),c.Bb(2),c.Rc(t.nohp),c.Bb(2),c.oc("severity",t.color),c.oc("value",t.statuspasien)}}function v(t,e){1&t&&(c.Ub(0,"tr"),c.Pb(1,"th",46),c.Ub(2,"th",31),c.Qc(3,"No"),c.Tb(),c.Ub(4,"th",36),c.Qc(5," Tgl Registrasi"),c.Tb(),c.Ub(6,"th",36),c.Qc(7," No Registrasi"),c.Tb(),c.Ub(8,"th",47),c.Qc(9," Ruangan"),c.Tb(),c.Ub(10,"th",36),c.Qc(11," Jenis Pasien "),c.Tb(),c.Ub(12,"th",36),c.Qc(13," Dokter"),c.Tb(),c.Ub(14,"th",36),c.Qc(15," Tgl Pulang "),c.Tb(),c.Ub(16,"th",38),c.Qc(17," Lama Rawat"),c.Tb(),c.Tb())}function k(t,e){if(1&t&&(c.Ub(0,"tr"),c.Ub(1,"td"),c.Pb(2,"button",48),c.Tb(),c.Ub(3,"td",31),c.Qc(4),c.Tb(),c.Ub(5,"td",36),c.Qc(6),c.Tb(),c.Ub(7,"td",36),c.Qc(8),c.Tb(),c.Ub(9,"td",47),c.Qc(10),c.Tb(),c.Ub(11,"td",36),c.Qc(12),c.Tb(),c.Ub(13,"td",36),c.Qc(14),c.Tb(),c.Ub(15,"td",36),c.Qc(16),c.Tb(),c.Ub(17,"td",38),c.Qc(18),c.Tb(),c.Tb()),2&t){const t=e.$implicit,a=e.rowIndex+1,i=e.expanded;c.Bb(2),c.nc("pRowToggler",t)("icon",i?"pi pi-chevron-down":"pi pi-chevron-right"),c.Bb(2),c.Rc(a),c.Bb(2),c.Rc(t.tglregistrasi),c.Bb(2),c.Rc(t.noregistrasi),c.Bb(2),c.Rc(t.namaruangan),c.Bb(2),c.Rc(t.kelompokpasien),c.Bb(2),c.Rc(t.dokter),c.Bb(2),c.Rc(t.tglpulang),c.Bb(2),c.Rc(t.lamarawat)}}function M(t,e){1&t&&(c.Ub(0,"tr"),c.Ub(1,"th"),c.Qc(2,"Ruangan"),c.Tb(),c.Ub(3,"th"),c.Qc(4,"Dokter"),c.Tb(),c.Ub(5,"th"),c.Qc(6,"kelompokpasien"),c.Tb(),c.Ub(7,"th"),c.Qc(8,"Kamar"),c.Tb(),c.Ub(9,"th"),c.Qc(10,"Bed"),c.Tb(),c.Ub(11,"th"),c.Qc(12,"Tgl Masuk "),c.Tb(),c.Ub(13,"th"),c.Qc(14,"Tgl Keluar "),c.Tb(),c.Ub(15,"th"),c.Qc(16,"Diagnosa "),c.Tb(),c.Tb())}function Q(t,e){if(1&t&&(c.Ub(0,"span"),c.Qc(1),c.Tb()),2&t){const t=e.$implicit;c.Db("order-badge order-instock"),c.Bb(1),c.Sc(" ",t," ")}}function B(t,e){if(1&t&&(c.Ub(0,"tr"),c.Ub(1,"td"),c.Qc(2),c.Tb(),c.Ub(3,"td"),c.Qc(4),c.Tb(),c.Ub(5,"td"),c.Qc(6),c.Tb(),c.Ub(7,"td"),c.Qc(8),c.Tb(),c.Ub(9,"td"),c.Qc(10),c.Tb(),c.Ub(11,"td"),c.Qc(12),c.Tb(),c.Ub(13,"td"),c.Qc(14),c.Tb(),c.Ub(15,"td"),c.Oc(16,Q,2,3,"span",52),c.Tb(),c.Tb()),2&t){const t=e.$implicit;c.Bb(2),c.Rc(t.namaruangan),c.Bb(2),c.Rc(t.namadokter),c.Bb(2),c.Rc(t.namakelas),c.Bb(2),c.Rc(t.namakamar),c.Bb(2),c.Rc(t.nobed),c.Bb(2),c.Rc(t.tglmasuk),c.Bb(2),c.Rc(t.tglkeluar),c.Bb(2),c.nc("ngForOf",t.kddiagnosa)}}function D(t,e){if(1&t&&(c.Ub(0,"tr"),c.Ub(1,"td",49),c.Ub(2,"div",50),c.Ub(3,"p-table",51),c.Oc(4,M,17,0,"ng-template",20),c.Oc(5,B,17,8,"ng-template",21),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t){const t=e.$implicit;c.Bb(3),c.nc("value",t.details)}}function P(t,e){if(1&t){const t=c.Wb();c.Ub(0,"p-button",53),c.cc("click",function(){return c.Dc(t),c.gc().pop_riwayataReg=!1}),c.Tb()}}const x=function(){return[5,10,25,50]},C=function(){return["nocm","namapasien","nobpjs","alamatlengkap"]},L=function(){return{width:"50vw"}},N=[{path:"",component:(()=>{class t{constructor(t,e,a,i,n,o){this.apiService=t,this.authService=e,this.confirmationService=a,this.messageService=i,this.router=n,this.DateHelper=o,this.pencarian="",this.item={},this.itemD={},this.now=new Date,this.page=r.b.get().page,this.rows=r.b.get().rows}ngOnInit(){this.listBtn=[{label:"Pasien Baru",icon:"pi pi-user-plus",routerLink:["/pasien-baru/-/-/-"]}],this.getData(this.page,this.rows,this.sortField,this.sortOrder,"")}getData(t,e,a,i,n){this.loading=!0,null==a&&(a=""),this.apiService.get("registrasi/get-pasien?"+this.pencarian+"&sortfield="+a+"&sortorder="+i+"&page="+t+"&rows="+e).subscribe(t=>{this.loading=!0;for(let e=0;e<t.daftar.length;e++){const a=t.daftar[e];a.tgllahir=b(new Date(a.tgllahir)).format("DD-MM-YYYY"),null==a.tglmeninggal?(a.statuspasien="Hidup",a.color="info"):(a.statuspasien="Meninggal",a.color="danger")}this.dataTable=t.daftar,this.totalRecords=t.totalRow})}cari(){var t="";null!=this.item.noRM&&(t="&norm="+this.item.noRM);var e="";null!=this.item.namaPasien&&(e="&namaPasien="+this.item.namaPasien);var a="";null!=this.item.namaAyah&&(a="&namaAyah="+this.item.namaAyah);var i="";null!=this.item.alamat&&(i="&alamat="+this.item.alamat);var n="";null!=this.item.nik&&(n="nik="+this.item.nik);var o="";null!=this.item.noBPJS&&(o="&bpjs="+this.item.noBPJS),null!=this.item.namaAyah&&(a="&namaAyah="+this.item.namaAyah);var r="";null!=this.item.tglLahir&&(r="tglLahir="+b(new Date(this.item.tglLahir)).format("YYYY-MM-DD")),this.pencarian=n+r+t+e+a+i+o,this.getData(this.page,this.rows,this.sortField,this.sortOrder,this.pencarian)}findSelectedIndex(){return this.dataTable.indexOf(this.selected)}loadLazy(t){this.getData(t.first,t.rows,t.sortField,t.sortOrder,this.pencarian),this.page=t.first,this.rows=t.rows,this.sortField=t.sortField,this.sortOrder=t.sortOrder}onRowSelect(t){this.selected=t.data}edit(t){this.router.navigate(["pasien-baru","-",t.nocmfk,"-"])}hapus(t){this.apiService.post("registrasi/update-false-pasien",{idpasien:t.nocmfk}).subscribe(t=>{this.getData(this.page,this.rows,this.sortField,this.sortOrder,"")})}confirm(t,e){this.confirmationService.confirm({target:t.target,message:"Yakin mau hapus?",icon:"pi pi-exclamation-triangle",acceptLabel:"Ya",rejectLabel:"Tidak",accept:()=>{this.hapus(e)},reject:()=>{}})}riwayat(t){this.itemD.noRM=t.nocm,this.itemD.namaPasien=t.namapasien,this.itemD.tglLahir=b(t.tgllahir).format("DD-MM-YYYY"),this.loadDataRiwayat()}loadDataRiwayat(){var t="";null!=this.itemD.noRM&&(t="&norm="+this.itemD.noRM);var e="";null!=this.itemD.namaPasien&&(e="&namaPasien="+this.itemD.namaPasien);var a="";null!=this.itemD.tglLahir&&(a="tglLahir="+b(this.itemD.tglLahir).format("YYYY-MM-DD HH:mm:ss"));var i="";null!=this.itemD.noRegistrasi&&(i="&noReg="+this.itemD.noRegistrasi),this.pop_riwayataReg=!0,this.apiService.get("registrasi/daftar-riwayat-registrasi?"+a+t+i+e).subscribe(t=>{for(var e=0,a=t.daftar,i=0;i<a.length;i++)if(a[i].no=i+1,1==a[i].statusinap)if(e+=1,null!=a[i].tglpulang)n=this.DateHelper.CountAge(new Date(a[i].tglregistrasi),new Date(a[i].tglpulang)),a[i].lamarawat=n.day+" Hari";else{var n;n=this.DateHelper.CountAge(new Date(a[i].tglregistrasi),new Date(this.now)),a[i].lamarawat=n.day+" Hari"}this.itemD.JumlahRawat=e,this.dataitemDegistrasi=a})}registrasi(t){this.router.navigate(["registrasi-ruangan",t.nocmfk])}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(l.a),c.Nb(l.b),c.Nb(o.a),c.Nb(o.h),c.Nb(n.f),c.Nb(s.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-pasien-lama"]],features:[c.Ab([o.a])],decls:66,vars:43,consts:[[1,"p-fluid","p-formgrid"],[1,"card","card-w-title"],[1,"p-grid"],[1,"p-col-12","p-md-1","p-md-offset-1"],["for","input",1,"label"],["type","text","pInputText","","placeholder","No Rekam Medis",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col","p-md-2"],["type","text","pInputText","","placeholder","Nama Pasien",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1"],["type","text","pInputText","","placeholder","NIK",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","","placeholder","No BPJS ",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-2"],["yearRange","1980:2030","dateFormat","dd-mm-yy",3,"ngModel","showIcon","monthNavigator","yearNavigator","showTime","ngModelChange"],["type","text","pInputText","","placeholder","Alamat ",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-1",2,"margin-top","15px"],["pButton","","type","submit","icon","pi pi-search","pTooltip","Cari",3,"click"],["pButton","","icon","pi pi-user-plus","pTooltip","Registrasi Pasien Baru","routerLink","/pasien-baru/-/-/-","label","Pasien Baru"],[1,"p-col-12"],["styleClass","p-datatable-customers","scrollable","true",3,"value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","totalRecords","globalFilterFields","lazy","pageLinks","selectionChange","onLazyLoad","onRowSelect"],["dt",""],["pTemplate","header"],["pTemplate","body"],["header","Riwayat Registrasi",3,"visible","modal","maximizable","baseZIndex","draggable","resizable","visibleChange"],["type","text","pInputText","","placeholder","No Rekam Medis","disabled","",3,"ngModel","ngModelChange"],[1,"p-col","p-md-3"],["type","text","pInputText","","placeholder","Nama Pasien","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","tgl Lahir","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","No Registrasi ",3,"ngModel","ngModelChange"],["styleClass","p-datatable-customers","scrollable","true","dataKey","noregistrasi",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","pageLinks"],["pTemplate","rowexpansion"],["pTemplate","footer"],[2,"width","30px"],["pSortableColumn","nocm",2,"width","100px"],[1,"p-d-flex","p-jc-between","p-ai-center"],["field","nocm"],["type","text","field","nocm","display","menu",1,"p-ml-auto"],[2,"width","100px"],[2,"width","250px"],[2,"width","80px"],[2,"width","300px"],[2,"width","180px"],[3,"severity","value"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Hapus Data","label","",1,"p-button-rounded","p-button-danger","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit Pasien","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-list","pTooltip","Riwayat Registrasi","label","",1,"p-button-rounded","p-mr-2",3,"click"],["pButton","","type","button","icon","pi pi-arrow-right","pTooltip","Registrasi","label","",1,"p-button-rounded","p-mr-2",3,"click"],[2,"width","3rem"],[2,"width","200px"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],["colspan","9"],[1,"p-p-3"],["dataKey","id",3,"value"],[3,"class",4,"ngFor","ngForOf"],["icon","pi pi-check","label","Tutup","styleClass","p-button-text",3,"click"]],template:function(t,e){1&t&&(c.Pb(0,"p-confirmPopup"),c.Ub(1,"div",0),c.Ub(2,"div",1),c.Ub(3,"h4"),c.Qc(4,"Pasien Lama"),c.Tb(),c.Ub(5,"div",2),c.Ub(6,"div",3),c.Ub(7,"label",4),c.Qc(8,"No Rekam Medis "),c.Tb(),c.Ub(9,"input",5),c.cc("ngModelChange",function(t){return e.item.noRM=t})("keyup.enter",function(){return e.cari()}),c.Tb(),c.Tb(),c.Ub(10,"div",6),c.Ub(11,"label",4),c.Qc(12,"Nama Pasien "),c.Tb(),c.Ub(13,"input",7),c.cc("ngModelChange",function(t){return e.item.namaPasien=t})("keyup.enter",function(){return e.cari()}),c.Tb(),c.Tb(),c.Ub(14,"div",8),c.Ub(15,"label",4),c.Qc(16,"NIK "),c.Tb(),c.Ub(17,"input",9),c.cc("ngModelChange",function(t){return e.item.nik=t})("keyup.enter",function(){return e.cari()}),c.Tb(),c.Tb(),c.Ub(18,"div",8),c.Ub(19,"label",4),c.Qc(20,"No BPJS "),c.Tb(),c.Ub(21,"input",10),c.cc("ngModelChange",function(t){return e.item.noBPJS=t})("keyup.enter",function(){return e.cari()}),c.Tb(),c.Tb(),c.Ub(22,"div",11),c.Ub(23,"label",4),c.Qc(24,"Tgl Lahir "),c.Tb(),c.Ub(25,"p-calendar",12),c.cc("ngModelChange",function(t){return e.item.tglLahir=t}),c.Tb(),c.Tb(),c.Ub(26,"div",11),c.Ub(27,"label",4),c.Qc(28,"Alamat "),c.Tb(),c.Ub(29,"input",13),c.cc("ngModelChange",function(t){return e.item.alamat=t})("keyup.enter",function(){return e.cari()}),c.Tb(),c.Tb(),c.Ub(30,"div",14),c.Ub(31,"button",15),c.cc("click",function(){return e.cari()}),c.Tb(),c.Tb(),c.Ub(32,"div",14),c.Pb(33,"button",16),c.Tb(),c.Tb(),c.Ub(34,"div",17),c.Ub(35,"p-table",18,19),c.cc("selectionChange",function(t){return e.selected=t})("onLazyLoad",function(t){return e.loadLazy(t)})("onRowSelect",function(t){return e.onRowSelect(t)}),c.Oc(37,R,27,0,"ng-template",20),c.Oc(38,y,28,12,"ng-template",21),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(39,"p-dialog",22),c.cc("visibleChange",function(t){return e.pop_riwayataReg=t}),c.Ub(40,"div",0),c.Ub(41,"div",2),c.Ub(42,"div",11),c.Ub(43,"label",4),c.Qc(44,"No Rekam Medis "),c.Tb(),c.Ub(45,"input",23),c.cc("ngModelChange",function(t){return e.itemD.noRM=t}),c.Tb(),c.Tb(),c.Ub(46,"div",24),c.Ub(47,"label",4),c.Qc(48,"Nama Pasien "),c.Tb(),c.Ub(49,"input",25),c.cc("ngModelChange",function(t){return e.itemD.namaPasien=t}),c.Tb(),c.Tb(),c.Ub(50,"div",11),c.Ub(51,"label",4),c.Qc(52,"Tgl Lahir "),c.Tb(),c.Ub(53,"input",26),c.cc("ngModelChange",function(t){return e.itemD.tglLahir=t}),c.Tb(),c.Tb(),c.Ub(54,"div",11),c.Ub(55,"label",4),c.Qc(56,"No Registrasi "),c.Tb(),c.Ub(57,"input",27),c.cc("ngModelChange",function(t){return e.item.noRegistrasi=t}),c.Tb(),c.Tb(),c.Ub(58,"div",14),c.Ub(59,"button",15),c.cc("click",function(){return e.loadDataRiwayat()}),c.Tb(),c.Tb(),c.Tb(),c.Ub(60,"div",17),c.Ub(61,"p-table",28),c.Oc(62,v,18,0,"ng-template",20),c.Oc(63,k,19,10,"ng-template",21),c.Oc(64,D,6,1,"ng-template",29),c.Tb(),c.Tb(),c.Tb(),c.Oc(65,P,1,0,"ng-template",30),c.Tb()),2&t&&(c.Bb(9),c.nc("ngModel",e.item.noRM),c.Bb(4),c.nc("ngModel",e.item.namaPasien),c.Bb(4),c.nc("ngModel",e.item.nik),c.Bb(4),c.nc("ngModel",e.item.noBPJS),c.Bb(4),c.nc("ngModel",e.item.tglLahir)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("showTime",!1),c.Bb(4),c.nc("ngModel",e.item.alamat),c.Bb(6),c.nc("value",e.dataTable)("selection",e.selected)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",c.qc(39,x))("paginator",!0)("totalRecords",e.totalRecords)("globalFilterFields",c.qc(40,C))("lazy",!0)("pageLinks",5),c.Bb(4),c.Kc(c.qc(41,L)),c.nc("visible",e.pop_riwayataReg)("modal",!0)("maximizable",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),c.Bb(6),c.nc("ngModel",e.itemD.noRM),c.Bb(4),c.nc("ngModel",e.itemD.namaPasien),c.Bb(4),c.nc("ngModel",e.itemD.tglLahir),c.Bb(4),c.nc("ngModel",e.item.noRegistrasi),c.Bb(4),c.nc("value",e.dataitemDegistrasi)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",c.qc(42,x))("paginator",!0)("pageLinks",5))},directives:[p.a,d.c,u.a,d.l,d.o,g.a,h.b,m.a,n.g,T.f,o.k,U.a,T.e,T.d,T.a,f.a,w.a,T.b,i.l,h.a],styles:[""]}),t})()}];let O=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[n.j.forChild(N)],n.j]}),t})();var S=a("PCNd");let I=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[i.c,O,S.a]]}),t})()}}]);